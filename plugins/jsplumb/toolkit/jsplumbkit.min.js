(function(){void 0===Math.sgn&&(Math.sgn=function(n){return 0==n?0:0<n?1:-1});function t(n,o){for(var i=[],t=c(n,o),e=o.length-1,_=h(t,2*e-1,i,0),w=f(n,o[0]),d=l(w),r=0,s=0;s<_;s++){w=f(n,D(o,e,i[s],null,null));var B=l(w);B<d&&(d=B,r=i[s])}return w=f(n,o[e]),(B=l(w))<d&&(d=B,r=1),{location:r,distance:d}}function w(o){var n=y[o];if(!n){function i(o){return function(n){return o}}function t(){return function(n){return n}}function e(){return function(n){return 1-n}}function _(t){return function(n){for(var o=1,i=0;i<t.length;i++)o*=t[i](n);return o}}(n=[]).push(new function(){return function(n){return Math.pow(n,o)}});for(var w=1;w<o;w++){for(var d=[new i(o)],r=0;r<o-w;r++)d.push(new t);for(r=0;r<w;r++)d.push(new e);n.push(new _(d))}n.push(new function(){return function(n){return Math.pow(1-n,o)}}),y[o]=n}return n}function r(n,o){for(var i=w(n.length-1),t=0,e=0,_=0;_<n.length;_++)t+=n[_].x*i[_](o),e+=n[_].y*i[_](o);return{x:t,y:e}}function s(n,o){return Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2))}function B(n){return n[0].x===n[1].x&&n[0].y===n[1].y}function a(n,o,i){if(B(n))return{point:n[0],location:o};for(var t=r(n,o),e=0,_=o,w=0<i?1:-1,d=null;e<Math.abs(i);)d=r(n,_+=.005*w),e+=s(d,t),t=d;return{point:d,location:_}}function j(n,o){var i=r(n,o),t=r(n.slice(0,n.length-1),o),e=t.y-i.y,_=t.x-i.x;return 0==e?1/0:Math.atan(e/_)}function d(n,o,i,t,e){var _=t-o,w=n-i,d=n*(o-t)+o*(i-n),r=function(n){return[b(n,"x"),b(n,"y")]}(e),s=[_*r[0][0]+w*r[1][0],_*r[0][1]+w*r[1][1],_*r[0][2]+w*r[1][2],_*r[0][3]+w*r[1][3]+d],B=function(n,o,i,t){var e,_,w=o/n,d=i/n,r=t/n,s=(3*d-Math.pow(w,2))/9,B=(9*w*d-27*r-2*Math.pow(w,3))/54,a=Math.pow(s,3)+Math.pow(B,2),j=[];if(0<=a)e=A(B+Math.sqrt(a))*Math.pow(Math.abs(B+Math.sqrt(a)),1/3),_=A(B-Math.sqrt(a))*Math.pow(Math.abs(B-Math.sqrt(a)),1/3),j[0]=-w/3+(e+_),j[1]=-w/3-(e+_)/2,j[2]=-w/3-(e+_)/2,0!==Math.abs(Math.sqrt(3)*(e-_)/2)&&(j[1]=-1,j[2]=-1);else{var l=Math.acos(B/Math.sqrt(-Math.pow(s,3)));j[0]=2*Math.sqrt(-s)*Math.cos(l/3)-w/3,j[1]=2*Math.sqrt(-s)*Math.cos((l+2*Math.PI)/3)-w/3,j[2]=2*Math.sqrt(-s)*Math.cos((l+4*Math.PI)/3)-w/3}for(var u=0;u<3;u++)(j[u]<0||1<j[u])&&(j[u]=-1);return j}.apply(null,s),a=[];if(null!=B)for(var j=0;j<3;j++){var l,u=B[j],c=Math.pow(u,2),h=Math.pow(u,3),p=[r[0][0]*h+r[0][1]*c+r[0][2]*u+r[0][3],r[1][0]*h+r[1][1]*c+r[1][2]*u+r[1][3]];l=i-n!=0?(p[0]-n)/(i-n):(p[1]-o)/(t-o),0<=u&&u<=1&&0<=l&&l<=1&&a.push(p)}return a}var f=function(n,o){return{x:n.x-o.x,y:n.y-o.y}},C=function(n,o){return n.x*o.x+n.y*o.y},l=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},g=function(n,o){return{x:n.x*o,y:n.y*o}},u=Math.pow(2,-65),c=function(n,o){for(var i=o.length-1,t=2*i-1,e=[],_=[],w=[],d=[],r=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],s=0;s<=i;s++)e[s]=f(o[s],n);for(s=0;s<=i-1;s++)_[s]=f(o[s+1],o[s]),_[s]=g(_[s],3);for(var B=0;B<=i-1;B++)for(var a=0;a<=i;a++)w[B]||(w[B]=[]),w[B][a]=C(_[B],e[a]);for(s=0;s<=t;s++)d[s]||(d[s]=[]),d[s].y=0,d[s].x=parseFloat(s)/t;for(var j=i,l=i-1,u=0;u<=j+l;u++){var c=Math.max(0,u-l),h=Math.min(u,j);for(s=c;s<=h;s++){var p=u-s;d[s+p].y+=w[p][s]*r[p][s]}}return d},h=function(n,o,i,t){var e,_,w=[],d=[],r=[],s=[];switch(p(n,o)){case 0:return 0;case 1:if(64<=t)return i[0]=(n[0].x+n[o].x)/2,1;if(v(n,o))return i[0]=m(n,o),1}D(n,o,.5,w,d),e=h(w,o,r,t+1),_=h(d,o,s,t+1);for(var B=0;B<e;B++)i[B]=r[B];for(B=0;B<_;B++)i[B+e]=s[B];return e+_},p=function(n,o){var i,t,e=0;i=t=Math.sgn(n[0].y);for(var _=1;_<=o;_++)(i=Math.sgn(n[_].y))!=t&&e++,t=i;return e},v=function(n,o){var i,t,e,_,w,d,r,s,B;_=n[0].y-n[o].y,w=n[o].x-n[0].x,d=n[0].x*n[o].y-n[o].x*n[0].y,s=B=0;for(var a=1;a<o;a++){var j=_*n[a].x+w*n[a].y+d;s<j?s=j:j<B&&(B=j)}return i=(1*(d-s)-0*(r=w))*(1/(0*r-1*_)),t=(1*(d-B)-0*(r=w))*(1/(0*r-1*_)),e=Math.min(i,t),Math.max(i,t)-e<u?1:0},m=function(n,o){var i=n[o].x-n[0].x,t=n[o].y-n[0].y,e=n[0].x-0;return 0+1*((i*(n[0].y-0)-t*e)*(1/(0*i-1*t)))},D=function(n,o,i,t,e){for(var _=[[]],w=0;w<=o;w++)_[0][w]=n[w];for(var d=1;d<=o;d++)for(w=0;w<=o-d;w++)_[d]||(_[d]=[]),_[d][w]||(_[d][w]={}),_[d][w].x=(1-i)*_[d-1][w].x+i*_[d-1][w+1].x,_[d][w].y=(1-i)*_[d-1][w].y+i*_[d-1][w+1].y;if(null!=t)for(w=0;w<=o;w++)t[w]=_[w][0];if(null!=e)for(w=0;w<=o;w++)e[w]=_[o-w][w];return _[o][0]},y={};function b(n,o){return[-n[0][o]+3*n[1][o]+-3*n[2][o]+n[3][o],3*n[0][o]-6*n[1][o]+3*n[2][o],-3*n[0][o]+3*n[1][o],n[0][o]]}function A(n){return n<0?-1:0<n?1:0}var n=this.jsBezier={distanceFromCurve:t,gradientAtPoint:j,gradientAtPointAlongCurveFrom:function(n,o,i){var t=a(n,o,i);return 1<t.location&&(t.location=1),t.location<0&&(t.location=0),j(n,t.location)},nearestPointOnCurve:function(n,o){var i=t(n,o);return{point:D(o,o.length-1,i.location,null,null),location:i.location}},pointOnCurve:r,pointAlongCurveFrom:function(n,o,i){return a(n,o,i).point},perpendicularToCurveAt:function(n,o,i,t){var e=a(n,o,t=null==t?0:t),_=j(n,e.location),w=Math.atan(-1/_),d=i/2*Math.sin(w),r=i/2*Math.cos(w);return[{x:e.point.x+r,y:e.point.y+d},{x:e.point.x-r,y:e.point.y-d}]},locationAlongCurveFrom:function(n,o,i){return a(n,o,i).location},getLength:function(n){if(B(n))return 0;for(var o=r(n,0),i=0,t=0,e=null;t<1;)e=r(n,t+=.005),i+=s(e,o),o=e;return i},lineIntersection:d,boxIntersection:function(n,o,i,t,e){var _=[];return _.push.apply(_,d(n,o,n+i,o,e)),_.push.apply(_,d(n+i,o,n+i,o+t,e)),_.push.apply(_,d(n+i,o+t,n,o+t,e)),_.push.apply(_,d(n,o+t,n,o,e)),_},boundingBoxIntersection:function(n,o){var i=[];return i.push.apply(i,d(n.x,n.y,n.x+n.w,n.y,o)),i.push.apply(i,d(n.x+n.w,n.y,n.x+n.w,n.y+n.h,o)),i.push.apply(i,d(n.x+n.w,n.y+n.h,n.x,n.y+n.h,o)),i.push.apply(i,d(n.x,n.y+n.h,n.x,n.y,o)),i},version:"0.9.0"};"undefined"!=typeof exports&&(exports.jsBezier=n)}).call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";function u(){return function(){var n=[];return Array.prototype.push.apply(n,arguments),n.item=function(n){return this[n]},n}(function(n,o,i,t,e,_,w,d){return new Touch({target:o,identifier:x(),pageX:i,pageY:t,screenX:e,screenY:_,clientX:w||e,clientY:d||_})}.apply(null,arguments))}function l(n,o,i){for(var t=(i=i||n.parentNode).querySelectorAll(o),e=0;e<t.length;e++)if(t[e]===n)return!0;return!1}function c(n){return"string"==typeof n||n.constructor===String?document.getElementById(n):n}function h(n){return n.srcElement||n.target}function p(n,o,i,t){if(t){if(void 0!==n.path&&n.path.indexOf)return{path:n.path,end:n.path.indexOf(i)};var e={path:[],end:-1},_=function(n){e.path.push(n),n===i?e.end=e.path.length-1:null!=n.parentNode&&_(n.parentNode)};return _(o),e}return{path:[o],end:1}}function f(n,o){for(var i=0,t=n.length;i<t&&n[i]!=o;i++);i<n.length&&n.splice(i,1)}function d(n,o,i){var t=e++;return n.__ta=n.__ta||{},n.__ta[o]=n.__ta[o]||{},(n.__ta[o][t]=i).__tauid=t}function r(w,d,r,n){if(null==w)return r;var s=w.split(","),B=function(n){B.__tauid=r.__tauid;var o=h(n),i=o,t=p(n,o,d,null!=w);if(-1!=t.end)for(var e=0;e<t.end;e++){i=t.path[e];for(var _=0;_<s.length;_++)l(i,s[_],d)&&r.apply(i,arguments)}};return o(r,n,B),B}function C(n,o,i,t){if(m&&y[o]){var e=r(t,n,i,y[o]);j(n,y[o],e,i)}"focus"===o&&null==n.getAttribute("tabindex")&&n.setAttribute("tabindex","1"),j(n,o,r(t,n,i,o),i)}function t(a,j){return function(s,n,o,w){if("contextmenu"==n&&D)C(s,n,o,w);else{if(null==s.__taTapHandler){var B=s.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},d=function(){B.down=!1},r=function(){B.taps=0};C(s,"mousedown",function(n){for(var o=h(n),i=p(n,o,s,null!=w),t=!1,e=0;e<i.end;e++){if(t)return;o=i.path[e];for(var _=0;_<B.downSelectors.length;_++)if(null==B.downSelectors[_]||l(o,B.downSelectors[_],s)){B.down=!0,setTimeout(d,a),setTimeout(r,j),t=!0;break}}}),C(s,"mouseup",function(n){if(B.down){var o,i,t=h(n);B.taps++;var e=A(n);for(var _ in v)if(v.hasOwnProperty(_)){var w=v[_];if(w.touches===e&&(1===w.taps||w.taps===B.taps))for(var d=0;d<B[_].length;d++){i=p(n,t,s,null!=B[_][d][1]);for(var r=0;r<i.end;r++)if(o=i.path[r],null==B[_][d][1]||l(o,B[_][d][1],s)){B[_][d][0].apply(o,[n]);break}}}}})}s.__taTapHandler.downSelectors.push(w),s.__taTapHandler[n].push([o,w]),o.__taUnstore=function(){f(s.__taTapHandler[n],o)}}}}function s(n,o,i,t){for(var e in i.__tamee[n])i.__tamee[n].hasOwnProperty(e)&&i.__tamee[n][e].apply(t,[o])}function B(){var w=[];return function(t,n,o,i){if(!t.__tamee){t.__tamee={over:!1,mouseenter:[],mouseexit:[]};var e=function(n){var o=h(n);(null!=i||o!=t||t.__tamee.over)&&(!l(o,i,t)||null!=o.__tamee&&o.__tamee.over)||(s("mouseenter",n,t,o),o.__tamee=o.__tamee||{},o.__tamee.over=!0,w.push(o))},_=function(n){for(var o=h(n),i=0;i<w.length;i++)o!=w[i]||l(n.relatedTarget||n.toElement,"*",o)||(o.__tamee.over=!1,w.splice(i,1),s("mouseexit",n,t,o))};j(t,"mouseover",r(i,t,e,"mouseover"),e),j(t,"mouseout",r(i,t,_,"mouseout"),_)}o.__taUnstore=function(){delete t.__tamee[n][o.__tauid]},d(t,n,o),t.__tamee[n][o.__tauid]=o}}function g(n,o){if(null==n)return[0,0];var i=a(n),t=w(i,0);return[t[o+"X"],t[o+"Y"]]}var n=this,e=1,o=function(n,o,i){n.__taExtra=n.__taExtra||[],n.__taExtra.push([o,i])},v={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},m="ontouchstart"in document.documentElement||navigator.maxTouchPoints,D="onmousedown"in document.documentElement,y={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},i=function(){var n=-1;if("Microsoft Internet Explorer"==navigator.appName){var o=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(o)&&(n=parseFloat(RegExp.$1))}return n}(),_=-1<i&&i<9,b=function(n){return null==n?[0,0]:_?[n.clientX+document.documentElement.scrollLeft,n.clientY+document.documentElement.scrollTop]:g(n,"page")},w=function(n,o){return n.item?n.item(o):n[o]},a=function(n){return n.touches&&0<n.touches.length?n.touches:n.changedTouches&&0<n.changedTouches.length?n.changedTouches:n.targetTouches&&0<n.targetTouches.length?n.targetTouches:[n]},A=function(n){return a(n).length},j=function(n,o,i,t){if(d(n,o,i),t.__tauid=i.__tauid,n.addEventListener)n.addEventListener(o,i,!1);else if(n.attachEvent){var e=o+i.__tauid;n["e"+e]=i,n[e]=function(){n["e"+e]&&n["e"+e](window.event)},n.attachEvent("on"+o,n[e])}},P=function(i,t,e){null!=e&&E(i,function(){var n=c(this);if(!function(n,o,i){if(n.__ta&&n.__ta[o]&&delete n.__ta[o][i.__tauid],i.__taExtra){for(var t=0;t<i.__taExtra.length;t++)P(n,i.__taExtra[t][0],i.__taExtra[t][1]);i.__taExtra.length=0}i.__taUnstore&&i.__taUnstore()}(n,t,e),null!=e.__tauid)if(n.removeEventListener)n.removeEventListener(t,e,!1),m&&y[t]&&n.removeEventListener(y[t],e,!1);else if(this.detachEvent){var o=t+e.__tauid;n[o]&&n.detachEvent("on"+t,n[o]),n[o]=null,n["e"+o]=null}e.__taTouchProxy&&P(i,e.__taTouchProxy[1],e.__taTouchProxy[0])})},E=function(n,o){if(null!=n){n="undefined"!=typeof Window&&"unknown"!=typeof n.top&&n==n.top?[n]:"string"!=typeof n&&null==n.tagName&&null!=n.length?n:"string"==typeof n?document.querySelectorAll(n):[n];for(var i=0;i<n.length;i++)o.apply(n[i])}},x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var o=16*Math.random()|0;return("x"==n?o:3&o|8).toString(16)})};n.Mottle=function(n){function e(n,o,i,t){null!=i&&E(n,function(){var n=c(this);d&&"click"===o?function(i,n,o,t){if(null==i.__taSmartClicks){C(i,"mousedown",function(n){i.__tad=b(n)},t),C(i,"mouseup",function(n){i.__tau=b(n)},t),C(i,"click",function(n){if(i.__tad&&i.__tau&&i.__tad[0]===i.__tau[0]&&i.__tad[1]===i.__tau[1])for(var o=0;o<i.__taSmartClicks.length;o++)i.__taSmartClicks[o].apply(h(n),[n])},t),i.__taSmartClicks=[]}i.__taSmartClicks.push(o),o.__taUnstore=function(){f(i.__taSmartClicks,o)}}(n,0,i,t):"tap"===o||"dbltap"===o||"contextmenu"===o?w(n,o,i,t):"mouseenter"===o||"mouseexit"==o?_(n,o,i,t):C(n,o,i,t)})}var o=(n=n||{}).clickThreshold||250,i=n.dblClickThreshold||450,_=new B,w=new t(o,i),d=n.smartClicks;this.remove=function(n){return E(n,function(){var n=c(this);if(n.__ta)for(var o in n.__ta)if(n.__ta.hasOwnProperty(o))for(var i in n.__ta[o])n.__ta[o].hasOwnProperty(i)&&P(n,o,n.__ta[o][i]);n.parentNode&&n.parentNode.removeChild(n)}),this},this.on=function(n,o,i,t){return e(n,o,arguments[arguments.length-1],4==arguments.length?i:null),this},this.off=function(n,o,i){return P(n,o,i),this},this.trigger=function(n,_,w,d){var r=D&&("undefined"==typeof MouseEvent||null==w||w.constructor===MouseEvent),s=m&&!D&&y[_]?y[_]:_,B=!(m&&!D&&y[_]),a=b(w),j=function(n){return g(n,"screen")}(w),l=function(n){return g(n,"client")}(w);return E(n,function(){var n,i=c(this);w=w||{screenX:j[0],screenY:j[1],clientX:l[0],clientY:l[1]};function o(n){d&&(n.payload=d)}var t={TouchEvent:function(n){var o=u(window,i,0,a[0],a[1],j[0],j[1],l[0],l[1]);(n.initTouchEvent||n.initEvent)(s,!0,!0,window,null,j[0],j[1],l[0],l[1],!1,!1,!1,!1,o,o,o,1,0)},MouseEvents:function(n){n.initMouseEvent(s,!0,!0,window,0,j[0],j[1],l[0],l[1],!1,!1,!1,!1,1,i)}};if(document.createEvent){var e=!B&&!r&&m&&y[_]?"TouchEvent":"MouseEvents";n=document.createEvent(e),t[e](n),o(n),i.dispatchEvent(n)}else document.createEventObject&&((n=document.createEventObject()).eventType=n.eventName=s,n.screenX=j[0],n.screenY=j[1],n.clientX=l[0],n.clientY=l[1],o(n),i.fireEvent("on"+s,n))}),this}},n.Mottle.consume=function(n,o){n.stopPropagation?n.stopPropagation():n.returnValue=!1,!o&&n.preventDefault&&n.preventDefault()},n.Mottle.pageLocation=b,n.Mottle.setForceTouchEvents=function(n){m=n},n.Mottle.setForceMouseEvents=function(n){D=n},n.Mottle.version="0.8.0","undefined"!=typeof exports&&(exports.Mottle=n.Mottle)}.call("undefined"==typeof window?this:window),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var n=this.Biltong={version:"0.4.0"};"undefined"!=typeof exports&&(exports.Biltong=n);function t(n){return"[object Array]"===Object.prototype.toString.call(n)}function i(n,o,i){return i(n=t(n)?n:[n.x,n.y],o=t(o)?o:[o.x,o.y])}var s=n.gradient=function(n,o){return i(n,o,function(n,o){return o[0]==n[0]?o[1]>n[1]?1/0:-1/0:o[1]==n[1]?o[0]>n[0]?0:-0:(o[1]-n[1])/(o[0]-n[0])})},B=(n.normal=function(n,o){return-1/s(n,o)},n.lineLength=function(n,o){return i(n,o,function(n,o){return Math.sqrt(Math.pow(o[1]-n[1],2)+Math.pow(o[0]-n[0],2))})},n.quadrant=function(n,o){return i(n,o,function(n,o){return o[0]>n[0]?o[1]>n[1]?2:1:o[0]==n[0]?o[1]>n[1]?2:1:o[1]>n[1]?3:4})}),a=(n.theta=function(n,o){return i(n,o,function(n,o){var i=s(n,o),t=Math.atan(i),e=B(n,o);return 4!=e&&3!=e||(t+=Math.PI),t<0&&(t+=2*Math.PI),t})},n.intersects=function(n,o){var i=n.x,t=n.x+n.w,e=n.y,_=n.y+n.h,w=o.x,d=o.x+o.w,r=o.y,s=o.y+o.h;return i<=w&&w<=t&&e<=r&&r<=_||i<=d&&d<=t&&e<=r&&r<=_||i<=w&&w<=t&&e<=s&&s<=_||i<=d&&w<=t&&e<=s&&s<=_||w<=i&&i<=d&&r<=e&&e<=s||w<=t&&t<=d&&r<=e&&e<=s||w<=i&&i<=d&&r<=_&&_<=s||w<=t&&i<=d&&r<=_&&_<=s},n.encloses=function(n,o,e){function i(n,o,i,t){return e?n<=o&&t<=i:n<o&&t<i}var t=n.x,_=n.x+n.w,w=n.y,d=n.y+n.h,r=o.x,s=o.x+o.w,B=o.y,a=o.y+o.h;return i(t,r,_,s)&&i(w,B,d,a)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),j=[null,[-1,-1],[-1,1],[1,1],[1,-1]];n.pointOnLine=function(n,o,i){var t=s(n,o),e=B(n,o),_=0<i?a[e]:j[e],w=Math.atan(t),d=Math.abs(i*Math.sin(w))*_[1],r=Math.abs(i*Math.cos(w))*_[0];return{x:n.x+r,y:n.y+d}},n.perpendicularLineTo=function(n,o,i){var t=s(n,o),e=Math.atan(-1/t),_=i/2*Math.sin(e),w=i/2*Math.cos(e);return[{x:o.x+w,y:o.y+_},{x:o.x-w,y:o.y-_}]}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";function C(n,o,i){return-1===n.indexOf(o)&&(i?n.unshift(o):n.push(o),!0)}function g(n,o){var i=n.indexOf(o);-1!==i&&n.splice(i,1)}function U(n){return null!=n&&("string"==typeof n||n.constructor===String)}function z(n,o,i){for(var t=(i=i||n.parentNode).querySelectorAll(o),e=0;e<t.length;e++)if(t[e]===n)return!0;return!1}function V(n,o,i){if(z(o,i,n))return o;for(var t=o.parentNode;null!=t&&t!==n;){if(z(t,i,n))return t;t=t.parentNode}}function H(n){if(t)return[n.clientX+document.documentElement.scrollLeft,n.clientY+document.documentElement.scrollTop];var o=w(n),i=_(o,0);return e?[i.pageX||i.clientX,i.pageY||i.clientY]:[i.pageX,i.pageY]}function v(){}function W(){return!0}function m(n,o,i){for(var t=0;t<n.length;t++)n[t]!=i&&o(n[t])}function X(n,o,i,t){m(n,function(n){n.setActive(o),o&&n.updatePosition(),i&&n.setHover(t,o)})}function D(n,o){if(null!=n){n=U(n)||null!=n.tagName||null==n.length?[n]:n;for(var i=0;i<n.length;i++)o.apply(n[i],[n[i]])}}function Y(n){n.stopPropagation?(n.stopPropagation(),n.preventDefault()):n.returnValue=!1}function Z(n,o,i,t){this.params=o||{},this.el=n,this.params.addClass(this.el,this._class),this.uuid=$();var e=!0;return this.setEnabled=function(n){e=n},this.isEnabled=function(){return e},this.toggleEnabled=function(){e=!e},this.setScope=function(n){this.scopes=n?n.split(/\s+/):[t]},this.addScope=function(n){var o={};for(var i in D(this.scopes,function(n){o[n]=!0}),D(n?n.split(/\s+/):[],function(n){o[n]=!0}),this.scopes=[],o)this.scopes.push(i)},this.removeScope=function(n){var o={};for(var i in D(this.scopes,function(n){o[n]=!0}),D(n?n.split(/\s+/):[],function(n){delete o[n]}),this.scopes=[],o)this.scopes.push(i)},this.toggleScope=function(n){var o={};for(var i in D(this.scopes,function(n){o[n]=!0}),D(n?n.split(/\s+/):[],function(n){o[n]?delete o[n]:o[n]=!0}),this.scopes=[],o)this.scopes.push(i)},this.setScope(o.scope),this.k=o.katavorio,o.katavorio}function q(){return!0}function J(){return!1}function y(e,a,_,n){this._class=_.draggable;var d=Z.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var j,l,u,c,h,p,w=[0,0],f=null,i=null,C=[0,0],r=!1,s=[0,0],B=!1!==this.params.consumeStartEvent,g=this.el,v=this.params.clone,m=(this.params.scroll,!1!==a.multipleDrop),D=!1,y=null,b=[],A=null,P=a.ghostProxyParent;if(j=!0===a.ghostProxy?q:a.ghostProxy&&"function"==typeof a.ghostProxy?a.ghostProxy:function(n,o){return!(!A||!A.useGhostProxy)&&A.useGhostProxy(n,o)},l=a.makeGhostProxy?a.makeGhostProxy:function(n){return A&&A.makeGhostProxy?A.makeGhostProxy(n):n.cloneNode(!0)},a.selector){var o=e.getAttribute("katavorio-draggable");null==o&&(o=""+(new Date).getTime(),e.setAttribute("katavorio-draggable",o)),b.push(a)}function E(n,o,i,t,e){var _=o*Math.floor(n[0]/o),w=_+o,d=Math.abs(n[0]-_)<=t?_:Math.abs(w-n[0])<=t?w:n[0],r=i*Math.floor(n[1]/i),s=r+i;return[d,Math.abs(n[1]-r)<=e?r:Math.abs(s-n[1])<=e?s:n[1]]}var x,S=a.snapThreshold;function I(n){return!1===a.allowNegative?[Math.max(0,n[0]),Math.max(0,n[1])]:n}this.posses=[],this.posseRoles={},this.toGrid=function(n){if(null==this.params.grid)return n;var o=this.params.grid?this.params.grid[0]/2:S||5,i=this.params.grid?this.params.grid[1]/2:S||5;return E(n,this.params.grid[0],this.params.grid[1],o,i)},this.snap=function(n,o){if(null!=g){n=n||(this.params.grid?this.params.grid[0]:10),o=o||(this.params.grid?this.params.grid[1]:10);var i=this.params.getPosition(g),t=this.params.grid?this.params.grid[0]/2:S,e=this.params.grid?this.params.grid[1]/2:S,_=E(i,n,o,t,e);return this.params.setPosition(g,_),_}},this.setUseGhostProxy=function(n){j=n?q:J};var t,k=function(n){x="function"==typeof n?n:n?function(n,o,i,t){return I([Math.max(0,Math.min(i.w-t[0],n[0])),Math.max(0,Math.min(i.h-t[1],n[1]))])}.bind(this):function(n){return I(n)}}.bind(this);k("function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(n){k(n)},this.setRevert=function(n){t=n},this.params.revert&&(t=this.params.revert);var T={},N=this.setFilter=function(t,n){if(t){var o=function(n){return"function"==typeof n?(n._katavorioId=$(),n._katavorioId):n}(t);T[o]=[function(n){var o,i=n.srcElement||n.target;return U(t)?o=z(i,t,e):"function"==typeof t&&(o=t(n,e)),o},!1!==n]}};this.addFilter=N,this.removeFilter=function(n){var o="function"==typeof n?n._katavorioId:n;delete T[o]},this.clearAllFilters=function(){T={}},this.canDrag=this.params.canDrag||W;var M,O=[],F=[];this.addSelector=function(n){n.selector&&b.push(n)},this.downListener=function(n){if(!n.defaultPrevented&&((this.rightButtonCanDrag||3!==n.which&&2!==n.button)&&this.isEnabled()&&this.canDrag()))if(function(n){for(var o in T){var i=T[o],t=i[0](n);if(i[1]&&(t=!t),!t)return!1}return!0}(n)&&function(n,o,i){var t=n.srcElement||n.target;return!z(t,i.getInputFilterSelector(),o)}(n,this.el,this.k)){if(y=A=null,0<b.length){var o=function(n,o,i){for(var t=null,e=o.getAttribute("katavorio-draggable"),_=null!=e?"[katavorio-draggable='"+e+"'] ":"",w=0;w<n.length;w++)if(null!=(t=V(o,i,_+n[w].selector))){if(n[w].filter){var d=z(i,n[w].filter,t);if(!0===n[w].filterExclude&&!d||d)return null}return[n[w],t]}return null}(b,this.el,n.target||n.srcElement);if(null!=o&&(A=o[0],y=o[1]),null==y)return}else y=this.el;if(v)if(g=y.cloneNode(!0),this.params.addClass(g,K.clonedDrag),g.setAttribute("id",null),g.style.position="absolute",null!=this.params.parent){var i=this.params.getPosition(this.el);g.style.left=i[0]+"px",g.style.top=i[1]+"px",this.params.parent.appendChild(g)}else{var t=function(n){var o=n.getBoundingClientRect(),i=document.body,t=document.documentElement,e=window.pageYOffset||t.scrollTop||i.scrollTop,_=window.pageXOffset||t.scrollLeft||i.scrollLeft,w=t.clientTop||i.clientTop||0,d=t.clientLeft||i.clientLeft||0,r=o.top+e-w,s=o.left+_-d;return{top:Math.round(r),left:Math.round(s)}}(y);g.style.left=t.left+"px",g.style.top=t.top+"px",document.body.appendChild(g)}else g=y;B&&Y(n),w=H(n),g&&g.parentNode&&(s=[g.parentNode.scrollLeft,g.parentNode.scrollTop]),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),d.markSelection(this),d.markPosses(this),this.params.addClass(document.body,_.noSelect),G("beforeStart",{el:this.el,pos:f,e:n,drag:this})}else this.params.consumeFilteredEvents&&Y(n)}.bind(this),this.moveListener=function(n){if(w){if(!r)if(!1!==G("start",{el:this.el,pos:f,e:n,drag:this})){if(!w)return;this.mark(!0),r=!0}else this.abort();if(w){F.length=0;var o=H(n),i=o[0]-w[0],t=o[1]-w[1],e=this.params.ignoreZoom?1:d.getZoom();g&&g.parentNode&&(i+=g.parentNode.scrollLeft-s[0],t+=g.parentNode.scrollTop-s[1]),i/=e,t/=e,this.moveBy(i,t,n),d.updateSelection(i,t,this),d.updatePosses(i,t,this)}}}.bind(this),this.upListener=function(n){w&&(w=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,_.noSelect),this.unmark(n),d.unmarkSelection(this,n),d.unmarkPosses(this,n),this.stop(n),d.notifyPosseDragStop(this,n),r=!1,F.length=0,v?(g&&g.parentNode&&g.parentNode.removeChild(g),g=null):t&&!0===t(g,this.params.getPosition(g))&&(this.params.setPosition(g,f),G("revert",g)))}.bind(this),this.getFilters=function(){return T},this.abort=function(){null!=w&&this.upListener()},this.getDragElement=function(n){return n?y||this.el:g||this.el};var L={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};a.events.start&&L.start.push(a.events.start),a.events.beforeStart&&L.beforeStart.push(a.events.beforeStart),a.events.stop&&L.stop.push(a.events.stop),a.events.drag&&L.drag.push(a.events.drag),a.events.revert&&L.revert.push(a.events.revert),this.on=function(n,o){L[n]&&L[n].push(o)},this.off=function(n,o){if(L[n]){for(var i=[],t=0;t<L[n].length;t++)L[n][t]!==o&&i.push(L[n][t]);L[n]=i}};var R,G=function(n,o){var i=null;if(A&&A[n])i=A[n](o);else if(L[n])for(var t=0;t<L[n].length;t++)try{var e=L[n][t](o);null!=e&&(i=e)}catch(n){}return i};this.notifyStart=function(n){G("start",{el:this.el,pos:this.params.getPosition(g),e:n,drag:this})},this.stop=function(n,o){if(o||r){var i=[],t=d.getSelection(),e=this.params.getPosition(g);if(0<t.length)for(var _=0;_<t.length;_++){var w=this.params.getPosition(t[_].el);i.push([t[_].el,{left:w[0],top:w[1]},t[_]])}else i.push([g,{left:e[0],top:e[1]},this]);G("stop",{el:g,pos:R||e,finalPos:e,e:n,drag:this,selection:i})}},this.mark=function(n){var o;f=this.params.getPosition(g),i=this.params.getPosition(g,!0),C=[i[0]-f[0],i[1]-f[1]],this.size=this.params.getSize(g),O=d.getMatchingDroppables(this),X(O,!0,!1,this),this.params.addClass(g,this.params.dragClass||_.drag),o=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(g):this.params.getSize(g.parentNode),M={w:o[0],h:o[1]},p=h=0,n&&d.notifySelectionDragStart(this)},this.unmark=function(n,o){if(X(O,!1,!0,this),D&&j(y,g)?(R=[g.offsetLeft-h,g.offsetTop-p],g.parentNode.removeChild(g),g=y):R=null,this.params.removeClass(g,this.params.dragClass||_.drag),O.length=0,D=!1,!o){0<F.length&&R&&a.setPosition(y,R),F.sort(Q);for(var i=0;i<F.length;i++){if(!0===F[i].drop(this,n))break}}},this.moveBy=function(n,o,i){F.length=0;var t=this.toGrid([f[0]+n,f[1]+o]),e=function(n,o,i,t){return null!=A&&A.constrain&&"function"==typeof A.constrain?A.constrain(n,o,i,t):x(n,o,i,t)}(t,g,M,this.size);if(j(this.el,g))if(t[0]!==e[0]||t[1]!==e[1]){if(!D){var _=l(y);a.addClass(_,K.ghostProxy),P?(P.appendChild(_),u=a.getPosition(y.parentNode,!0),c=a.getPosition(a.ghostProxyParent,!0),h=u[0]-c[0],p=u[1]-c[1]):y.parentNode.appendChild(_),g=_,D=!0}e=t}else D&&(g.parentNode.removeChild(g),g=y,D=!1,c=u=null,p=h=0);var w={x:e[0],y:e[1],w:this.size[0],h:this.size[1]},d={x:w.x+C[0],y:w.y+C[1],w:w.w,h:w.h},r=null;this.params.setPosition(g,[e[0]+h,e[1]+p]);for(var s=0;s<O.length;s++){var B={x:O[s].pagePosition[0],y:O[s].pagePosition[1],w:O[s].size[0],h:O[s].size[1]};this.params.intersects(d,B)&&(m||null==r||r===O[s].el)&&O[s].canDrop(this)?(r=r||O[s].el,F.push(O[s]),O[s].setHover(this,!0,i)):O[s].isHover()&&O[s].setHover(this,!1,i)}G("drag",{el:this.el,pos:e,e:i,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?N(this.params.handle,!1):N(this.params.filter,this.params.filterExclude)}function b(n,o,i,t){this._class=i.droppable,this.params=o||{},this.rank=o.rank||0,this._activeClass=this.params.activeClass||i.active,this._hoverClass=this.params.hoverClass||i.hover,Z.apply(this,arguments);var e=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(n){this.params[n?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(n){return!0},this.isHover=function(){return e},this.setHover=function(n,o,i){!o&&null!=this.el._katavorioDragHover&&this.el._katavorioDragHover!==n.el._katavorio||(this.params[o?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=o?n.el._katavorio:null,e!==o&&this.params.events[o?"over":"out"]({el:this.el,e:i,drag:n,drop:this}),e=o)},this.drop=function(n,o){return this.params.events.drop({drag:n,e:o,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,e=null}}function A(n){return null==n?null:null==(n="string"==typeof n||n.constructor===String?document.getElementById(n):n)?null:(n._katavorio=n._katavorio||$(),n)}var n=function(){var n=-1;if("Microsoft Internet Explorer"===navigator.appName){var o=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(o)&&(n=parseFloat(RegExp.$1))}return n}(),t=-1<n&&n<9,e=9===n,_=function(n,o){return n.item?n.item(o):n[o]},w=function(n){return n.touches&&0<n.touches.length?n.touches:n.changedTouches&&0<n.changedTouches.length?n.changedTouches:n.targetTouches&&0<n.targetTouches.length?n.targetTouches:[n]},K={delegatedDraggable:"katavorio-delegated-draggable",draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy",clonedDrag:"katavorio-clone-drag"},P=["stop","start","drag","drop","over","out","beforeStart"],$=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var o=16*Math.random()|0;return("x"===n?o:3&o|8).toString(16)})},Q=function(n,o){return n.rank<o.rank?1:n.rank>o.rank?-1:0};this.Katavorio=function(_){var e=[],t={};this._dragsByScope={},this._dropsByScope={};function w(n,i){D(n,function(n){for(var o=0;o<n.scopes.length;o++)i[n.scopes[o]]=i[n.scopes[o]]||[],i[n.scopes[o]].push(n)})}function d(n,t){var e=0;return D(n,function(n){for(var o=0;o<n.scopes.length;o++)if(t[n.scopes[o]]){var i=_.indexOf(t[n.scopes[o]],n);-1!==i&&(t[n.scopes[o]].splice(i,1),e++)}}),0<e}var o=1,r=(this.getMatchingDroppables=function(n){for(var o=[],i={},t=0;t<n.scopes.length;t++){var e=this._dropsByScope[n.scopes[t]];if(e)for(var _=0;_<e.length;_++)!e[_].canDrop(n)||i[e[_].uuid]||!e[_].allowLoopback&&e[_].el===n.el||(i[e[_].uuid]=!0,o.push(e[_]))}return o.sort(Q),o},function(n){n=n||{};var o,i={events:{}};for(o in _)i[o]=_[o];for(o in n)i[o]=n[o];for(o=0;o<P.length;o++)i.events[P[o]]=n[P[o]]||v;return i.katavorio=this,i}.bind(this)),s=function(n,o){for(var i=0;i<P.length;i++)o[P[i]]&&n.on(P[i],o[P[i]])}.bind(this),B={},n=_.css||{},a=_.scope||"katavorio-drag-scope";for(var i in K)B[i]=K[i];for(var i in n)B[i]=n[i];var j=_.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return j},this.setInputFilterSelector=function(n){return j=n,this},this.draggable=function(n,i){var t=[];return D(n,function(n){if(null!=(n=A(n)))if(null==n._katavorioDrag){var o=r(i);n._katavorioDrag=new y(n,o,B,a),w(n._katavorioDrag,this._dragsByScope),t.push(n._katavorioDrag),_.addClass(n,o.selector?B.delegatedDraggable:B.draggable)}else s(n._katavorioDrag,i)}.bind(this)),t},this.droppable=function(n,i){var t=[];return D(n,function(n){if(null!=(n=A(n))){var o=new b(n,r(i),B,a);n._katavorioDrop=n._katavorioDrop||[],n._katavorioDrop.push(o),w(o,this._dropsByScope),t.push(o),_.addClass(n,B.droppable)}}.bind(this)),t},this.select=function(n){return D(n,function(){var n=A(this);n&&n._katavorioDrag&&(t[n._katavorio]||(e.push(n._katavorioDrag),t[n._katavorio]=[n,e.length-1],_.addClass(n,B.selected)))}),this},this.deselect=function(n){return D(n,function(){var n=A(this);if(n&&n._katavorio&&t[n._katavorio]){for(var o=[],i=0;i<e.length;i++)e[i].el!==n&&o.push(e[i]);e=o,delete t[n._katavorio],_.removeClass(n,B.selected)}}),this},this.deselectAll=function(){for(var n in t){var o=t[n];_.removeClass(o[0],B.selected)}e.length=0,t={}},this.markSelection=function(n){m(e,function(n){n.mark()},n)},this.markPosses=function(o){o.posses&&D(o.posses,function(n){o.posseRoles[n]&&f[n]&&m(f[n].members,function(n){n.mark()},o)})},this.unmarkSelection=function(n,o){m(e,function(n){n.unmark(o)},n)},this.unmarkPosses=function(o,i){o.posses&&D(o.posses,function(n){o.posseRoles[n]&&f[n]&&m(f[n].members,function(n){n.unmark(i,!0)},o)})},this.getSelection=function(){return e.slice(0)},this.updateSelection=function(o,i,n){m(e,function(n){n.moveBy(o,i)},n)};function l(o,i){i.posses&&D(i.posses,function(n){i.posseRoles[n]&&f[n]&&m(f[n].members,function(n){o(n)},i)})}this.updatePosses=function(o,i,n){l(function(n){n.moveBy(o,i)},n)},this.notifyPosseDragStop=function(n,o){l(function(n){n.stop(o,!0)},n)},this.notifySelectionDragStop=function(n,o){m(e,function(n){n.stop(o,!0)},n)},this.notifySelectionDragStart=function(n,o){m(e,function(n){n.notifyStart(o)},n)},this.setZoom=function(n){o=n},this.getZoom=function(){return o};function u(n,o,i,t){D(n,function(n){d(n,i),n[t](o),w(n,i)})}D(["set","add","remove","toggle"],function(i){this[i+"Scope"]=function(n,o){u(n._katavorioDrag,o,this._dragsByScope,i+"Scope"),u(n._katavorioDrop,o,this._dropsByScope,i+"Scope")}.bind(this),this[i+"DragScope"]=function(n,o){u(n.constructor===y?n:n._katavorioDrag,o,this._dragsByScope,i+"Scope")}.bind(this),this[i+"DropScope"]=function(n,o){u(n.constructor===b?n:n._katavorioDrop,o,this._dropsByScope,i+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(o,i){for(var n in this._dragsByScope)m(this._dragsByScope[n],function(n){n.snap(o,i)})},this.getDragsForScope=function(n){return this._dragsByScope[n]},this.getDropsForScope=function(n){return this._dropsByScope[n]};function c(n,o,i){if((n=A(n))[o]){var t=e.indexOf(n[o]);0<=t&&e.splice(t,1),d(n[o],i)&&D(n[o],function(n){n.destroy()}),delete n[o]}}function h(n,o,i,t){(n=A(n))[o]&&n[o].off(i,t)}this.elementRemoved=function(n){this.destroyDraggable(n),this.destroyDroppable(n)},this.destroyDraggable=function(n,o,i){1===arguments.length?c(n,"_katavorioDrag",this._dragsByScope):h(n,"_katavorioDrag",o,i)},this.destroyDroppable=function(n,o,i){1===arguments.length?c(n,"_katavorioDrop",this._dropsByScope):h(n,"_katavorioDrop",o,i)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},e=[],t={},f={}};function p(n,o,i){var t,e=U(o)?o:o.id,_=!!U(o)||!1!==o.active,w=f[e]||(t={name:e,members:[]},f[e]=t);return D(n,function(n){if(n._katavorioDrag){if(i&&null!=n._katavorioDrag.posseRoles[w.name])return;C(w.members,n._katavorioDrag),C(n._katavorioDrag.posses,w.name),n._katavorioDrag.posseRoles[w.name]=_}}),w}var f={};this.addToPosse=function(n,o){for(var i=[],t=1;t<arguments.length;t++)i.push(p(n,arguments[t]));return 1===i.length?i[0]:i},this.setPosse=function(n,o){for(var t=[],i=1;i<arguments.length;i++)t.push(p(n,arguments[i],!0).name);return D(n,function(n){if(n._katavorioDrag){var o=function(n,o){for(var i=[],t=0;t<n.length;t++)-1===o.indexOf(n[t])&&i.push(n[t]);return i}(n._katavorioDrag.posses,t);Array.prototype.push.apply([],n._katavorioDrag.posses);for(var i=0;i<o.length;i++)this.removeFromPosse(n,o[i])}}.bind(this)),1===t.length?t[0]:t},this.removeFromPosse=function(n,i){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var o=1;o<arguments.length;o++)i=arguments[o],D(n,function(n){if(n._katavorioDrag&&n._katavorioDrag.posses){var o=n._katavorioDrag;D(i,function(n){g(f[n].members,o),g(o.posses,n),delete o.posseRoles[n]})}})},this.removeFromAllPosses=function(n){D(n,function(n){if(n._katavorioDrag&&n._katavorioDrag.posses){var o=n._katavorioDrag;D(o.posses,function(n){g(f[n].members,o)}),o.posses.length=0,o.posseRoles={}}})},this.setPosseState=function(n,o,i){var t=f[o];t&&D(n,function(n){n._katavorioDrag&&n._katavorioDrag.posses&&(n._katavorioDrag.posseRoles[t.name]=i)})}},this.Katavorio.version="1.0.0","undefined"!=typeof exports&&(exports.Katavorio=this.Katavorio)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var t=this.jsPlumbUtil;function B(n){return"[object Array]"===Object.prototype.toString.call(n)}function a(n){return"string"==typeof n}function j(n){return"boolean"==typeof n}function l(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function _(n){return"[object Date]"===Object.prototype.toString.call(n)}function s(n){return"[object Function]"===Object.prototype.toString.call(n)}function u(n){if(a(n))return""+n;if(j(n))return!!n;if(_(n))return new Date(n.getTime());if(s(n))return n;if(B(n)){for(var o=[],i=0;i<n.length;i++)o.push(u(n[i]));return o}if(l(n)){var t={};for(var e in n)t[e]=u(n[e]);return t}return n}function r(n,o,i,t){var e,_,w={},d={};for(i=i||[],t=t||[],_=0;_<i.length;_++)w[i[_]]=!0;for(_=0;_<t.length;_++)d[t[_]]=!0;var r=u(n);for(_ in o)if(null==r[_]||d[_])r[_]=o[_];else if(a(o[_])||j(o[_]))w[_]?((e=[]).push.apply(e,B(r[_])?r[_]:[r[_]]),e.push.apply(e,j(o[_])?o[_]:[o[_]]),r[_]=e):r[_]=o[_];else if(B(o[_]))e=[],B(r[_])&&e.push.apply(e,r[_]),e.push.apply(e,o[_]),r[_]=e;else if(l(o[_]))for(var s in l(r[_])||(r[_]={}),o[_])r[_][s]=o[_][s];return r}function e(n,o){if(n)for(var i=0;i<n.length;i++)if(o(n[i]))return i;return-1}function w(n,o){var i=n.indexOf(o);return-1<i&&n.splice(i,1),-1!==i}function d(n,o,i,t){var e=n[o];return null==e&&(e=[],n[o]=e),e[t?"unshift":"push"](i),e}"undefined"!=typeof exports&&(exports.jsPlumbUtil=t),t.isArray=B,t.isNumber=function(n){return"[object Number]"===Object.prototype.toString.call(n)},t.isString=a,t.isBoolean=j,t.isNull=function(n){return null==n},t.isObject=l,t.isDate=_,t.isFunction=s,t.isNamedFunction=function(n){return s(n)&&null!=n.name&&0<n.name.length},t.isEmpty=function(n){for(var o in n)if(n.hasOwnProperty(o))return!1;return!0},t.clone=u,t.merge=r,t.replace=function(n,o,d){if(null!=n){var r=n;return o.replace(/([^\.])+/g,function(n,o,i,t){function e(){return r[_[1]]||(r[_[1]]=[],r[_[1]])}var _=n.match(/([^\[0-9]+){1}(\[)([0-9+])/);if(i+n.length>=t.length)_?e()[_[3]]=d:r[n]=d;else if(_){var w=e();r=w[_[3]]||(w[_[3]]={},w[_[3]])}else r=r[n]||(r[n]={},r[n]);return""}),n}},t.functionChain=function(n,o,i){for(var t=0;t<i.length;t++){var e=i[t][0][i[t][1]].apply(i[t][0],i[t][2]);if(e===o)return e}return n},t.populate=function(n,_,w,d){var r=function(n){if(null!=n){if(a(n))return function(n){var o=n.match(/(\${.*?})/g);if(null!=o)for(var i=0;i<o.length;i++){var t=_[o[i].substring(2,o[i].length-1)]||"";null!=t&&(n=n.replace(o[i],t))}return n}(n);if(!s(n)||d||null!=w&&0!==(n.name||"").indexOf(w)){if(B(n)){for(var o=[],i=0;i<n.length;i++)o.push(r(n[i]));return o}if(l(n)){var t={};for(var e in n)t[e]=r(n[e]);return t}return n}return n(_)}};return r(n)},t.findWithFunction=e,t.removeWithFunction=function(n,o){var i=e(n,o);return-1<i&&n.splice(i,1),-1!==i},t.remove=w,t.addWithFunction=function(n,o,i){-1===e(n,i)&&n.push(o)},t.addToList=d,t.suggest=function(n,o,i){return-1===n.indexOf(o)&&(i?n.unshift(o):n.push(o),!0)},t.extend=function(t,i,n){var e;function o(n){for(var o=n.__proto__;null!=o;)if(null!=o.prototype){for(var i in o.prototype)o.prototype.hasOwnProperty(i)&&!t.prototype.hasOwnProperty(i)&&(t.prototype[i]=o.prototype[i]);o=o.prototype.__proto__}else o=null}for(i=B(i)?i:[i],e=0;e<i.length;e++){for(var _ in i[e].prototype)i[e].prototype.hasOwnProperty(_)&&!t.prototype.hasOwnProperty(_)&&(t.prototype[_]=i[e].prototype[_]);o(i[e])}function w(n,o){return function(){for(e=0;e<i.length;e++)i[e].prototype[n]&&i[e].prototype[n].apply(this,arguments);return o.apply(this,arguments)}}function d(n){for(var o in n)t.prototype[o]=w(o,n[o])}if(2<arguments.length)for(e=2;e<arguments.length;e++)d(arguments[e]);return t};for(var c=[],n=0;n<256;n++)c[n]=(n<16?"0":"")+n.toString(16);function h(){var n=4294967295*Math.random()|0,o=4294967295*Math.random()|0,i=4294967295*Math.random()|0,t=4294967295*Math.random()|0;return c[255&n]+c[n>>8&255]+c[n>>16&255]+c[n>>24&255]+"-"+c[255&o]+c[o>>8&255]+"-"+c[o>>16&15|64]+c[o>>24&255]+"-"+c[63&i|128]+c[i>>8&255]+"-"+c[i>>16&255]+c[i>>24&255]+c[255&t]+c[t>>8&255]+c[t>>16&255]+c[t>>24&255]}function p(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(t.logEnabled&&"undefined"!=typeof console)try{var i=arguments[arguments.length-1];console.log(i)}catch(n){}}t.uuid=h,t.fastTrim=function(n){if(null==n)return null;for(var o=n.replace(/^\s\s*/,""),i=/\s/,t=o.length;i.test(o.charAt(--t)););return o.slice(0,t+1)},t.each=function(n,o){n=null==n.length||"string"==typeof n?[n]:n;for(var i=0;i<n.length;i++)o(n[i])},t.map=function(n,o){for(var i=[],t=0;t<n.length;t++)i.push(o(n[t]));return i},t.mergeWithParents=function(n,o,i){function e(n){return n?o[n]:null}function _(n){return n?e(n[i]):null}i=i||"parent";var w=function(n,o){if(null==n)return o;var i=["anchor","anchors","cssClass","connector","paintStyle","hoverPaintStyle","endpoint","endpoints"];"override"===o.mergeStrategy&&Array.prototype.push.apply(i,["events","overlays"]);var t=r(n,o,[],i);return w(_(n),t)},d=function(n){if(null==n)return{};if("string"==typeof n)return e(n);if(n.length){for(var o=!1,i=0,t=void 0;!o&&i<n.length;)(t=d(n[i]))?o=!0:i++;return t}},t=d(n);return t?w(_(t),t):{}},t.logEnabled=!0,t.log=p,t.wrap=function(o,i,t){return function(){var n=null;try{null!=i&&(n=i.apply(this,arguments))}catch(n){p("jsPlumb function failed : "+n)}if(null!=o&&(null==t||n!==t))try{n=o.apply(this,arguments)}catch(n){p("wrapped function failed : "+n)}return n}};function o(){var _=this;this._listeners={},this.eventsSuspended=!1,this.tick=!1,this.eventsToDieOn={ready:!0},this.queue=[],this.bind=function(n,o,i){function t(n){d(_._listeners,n,o,i),o.__jsPlumb=o.__jsPlumb||{},o.__jsPlumb[h()]=n}if("string"==typeof n)t(n);else if(null!=n.length)for(var e=0;e<n.length;e++)t(n[e]);return _},this.fire=function(o,n,i){if(this.tick)this.queue.unshift(arguments);else{if(this.tick=!0,!this.eventsSuspended&&this._listeners[o]){var t=this._listeners[o].length,e=0,_=!1,w=null;if(!this.shouldFireEvent||this.shouldFireEvent(o,n,i))for(;!_&&e<t&&!1!==w;){if(this.eventsToDieOn[o])this._listeners[o][e].apply(this,[n,i]);else try{w=this._listeners[o][e].apply(this,[n,i])}catch(n){p("jsPlumb: fire failed for event "+o+" : "+n)}e++,null!=this._listeners&&null!=this._listeners[o]||(_=!0)}}this.tick=!1,this._drain()}return this},this._drain=function(){var n=_.queue.pop();n&&_.fire.apply(_,n)},this.unbind=function(n,o){if(0===arguments.length)this._listeners={};else if(1===arguments.length){if("string"==typeof n)delete this._listeners[n];else if(n.__jsPlumb){var i=void 0;for(var t in n.__jsPlumb)i=n.__jsPlumb[t],w(this._listeners[i]||[],n)}}else 2===arguments.length&&w(this._listeners[n]||[],o);return this},this.getListener=function(n){return _._listeners[n]},this.setSuspendEvents=function(n){_.eventsSuspended=n},this.isSuspendEvents=function(){return _.eventsSuspended},this.silently=function(n){_.setSuspendEvents(!0);try{n()}catch(n){p("Cannot execute silent function "+n)}_.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var n in _._listeners)_._listeners[n]=null}}t.EventGenerator=o}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";this.jsPlumbUtil.matchesSelector=function(n,o,i){for(var t=(i=i||n.parentNode).querySelectorAll(o),e=0;e<t.length;e++)if(t[e]===n)return!0;return!1},this.jsPlumbUtil.consume=function(n,o){n.stopPropagation?n.stopPropagation():n.returnValue=!1,!o&&n.preventDefault&&n.preventDefault()},this.jsPlumbUtil.sizeElement=function(n,o,i,t,e){n&&(n.style.height=e+"px",n.height=e,n.style.width=t+"px",n.width=t,n.style.left=o+"px",n.style.top=i+"px")}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){function n(n,o){this.count=0,this.instance=n,this.lists={},this.options=o||{},this.instance.addList=function(n,o){return this.listManager.addList(n,o)},this.instance.removeList=function(n){this.listManager.removeList(n)},this.instance.bind("manageElement",function(n){for(var o=this.instance.getSelector(n.el,"[jtk-scrollable-list]"),i=0;i<o.length;i++)this.addList(o[i])}.bind(this)),this.instance.bind("unmanageElement",function(n){this.removeList(n.el)}),this.instance.bind("connection",function(n,o){null==o&&(this._maybeUpdateParentList(n.source),this._maybeUpdateParentList(n.target))}.bind(this))}var e={deriveAnchor:function(n,o,i,t){return{top:["TopRight","TopLeft"],bottom:["BottomRight","BottomLeft"]}[n][o]}};(this.jsPlumbListManager=n).prototype={addList:function(n,o){var i=this.instance.extend({},e);this.instance.extend(i,this.options),o=this.instance.extend(i,o||{});var t=[this.instance.getInstanceIndex(),this.count++].join("_");this.lists[t]=new _(this.instance,n,o,t)},removeList:function(n){var o=this.lists[n._jsPlumbList];o&&(o.destroy(),delete this.lists[n._jsPlumbList])},_maybeUpdateParentList:function(n){for(var o=n.parentNode,i=this.instance.getContainer();null!=o&&o!==i;){if(null!=o._jsPlumbList&&null!=this.lists[o._jsPlumbList])return void o._jsPlumbScrollHandler();o=o.parentNode}}};var _=function(_,w,e,n){function d(n,o,i,t){return e.anchor?e.anchor:e.deriveAnchor(n,o,i,t)}function r(n,o,i,t){return e.deriveEndpoint?e.deriveEndpoint(n,o,i,t):e.endpoint?e.endpoint:i.type}w._jsPlumbList=n;function s(n){for(var o=_.getSelector(w,".jtk-managed"),i=_.getId(w),t=0;t<o.length;t++){if(o[t].offsetTop<w.scrollTop)o[t]._jsPlumbProxies||(o[t]._jsPlumbProxies=o[t]._jsPlumbProxies||[],_.select({source:o[t]}).each(function(n){_.proxyConnection(n,0,w,i,function(){return r("top",0,n.endpoints[0],n)},function(){return d("top",0,n.endpoints[0],n)}),o[t]._jsPlumbProxies.push([n,0])}),_.select({target:o[t]}).each(function(n){_.proxyConnection(n,1,w,i,function(){return r("top",1,n.endpoints[1],n)},function(){return d("top",1,n.endpoints[1],n)}),o[t]._jsPlumbProxies.push([n,1])}));else if(o[t].offsetTop+o[t].offsetHeight>w.scrollTop+w.offsetHeight)o[t]._jsPlumbProxies||(o[t]._jsPlumbProxies=o[t]._jsPlumbProxies||[],_.select({source:o[t]}).each(function(n){_.proxyConnection(n,0,w,i,function(){return r("bottom",0,n.endpoints[0],n)},function(){return d("bottom",0,n.endpoints[0],n)}),o[t]._jsPlumbProxies.push([n,0])}),_.select({target:o[t]}).each(function(n){_.proxyConnection(n,1,w,i,function(){return r("bottom",1,n.endpoints[1],n)},function(){return d("bottom",1,n.endpoints[1],n)}),o[t]._jsPlumbProxies.push([n,1])}));else if(o[t]._jsPlumbProxies){for(var e=0;e<o[t]._jsPlumbProxies.length;e++)_.unproxyConnection(o[t]._jsPlumbProxies[e][0],o[t]._jsPlumbProxies[e][1],i);delete o[t]._jsPlumbProxies}_.revalidate(o[t])}!function(n){for(var o=n.parentNode,i=_.getContainer();null!=o&&o!==i;){if(_.hasClass(o,"jtk-managed"))return _.recalculateOffsets(o);o=o.parentNode}}(w)}_.setAttribute(w,"jtk-scrollable-list","true"),w._jsPlumbScrollHandler=s,_.on(w,"scroll",s),s(),this.destroy=function(){_.off(w,"scroll",s),delete w._jsPlumbScrollHandler;for(var n=_.getSelector(w,".jtk-managed"),o=_.getId(w),i=0;i<n.length;i++)if(n[i]._jsPlumbProxies){for(var t=0;t<n[i]._jsPlumbProxies.length;t++)_.unproxyConnection(n[i]._jsPlumbProxies[t][0],n[i]._jsPlumbProxies[t][1],o);delete n[i]._jsPlumbProxies}}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";function dn(){return""+(new Date).getTime()}function i(n){if(n._jsPlumb.paintStyle&&n._jsPlumb.hoverPaintStyle){var o={};ln.extend(o,n._jsPlumb.paintStyle),ln.extend(o,n._jsPlumb.hoverPaintStyle),delete n._jsPlumb.hoverPaintStyle,o.gradient&&n._jsPlumb.paintStyle.fill&&delete o.gradient,n._jsPlumb.hoverPaintStyle=o}}function r(n){return null==n?null:n.split(" ")}function l(n,o,i){for(var t in o)n[t]=i}function s(n,o,i){if(n.getDefaultType){var t=n.getTypeDescriptor(),e={},_=n.getDefaultType(),w=sn.merge({},_);l(e,_,"__default");for(var d=0,r=n._jsPlumb.types.length;d<r;d++){var s=n._jsPlumb.types[d];if("__default"!==s){var B=n._jsPlumb.instance.getType(s,t);if(null!=B){var a=["anchor","anchors","connector","paintStyle","hoverPaintStyle","endpoint","endpoints","connectorOverlays","connectorStyle","connectorHoverStyle","endpointStyle","endpointHoverStyle"],j=[];"override"===B.mergeStrategy?Array.prototype.push.apply(a,["events","overlays","cssClass"]):j.push("cssClass"),w=sn.merge(w,B,j,a),l(e,B,s)}}}o&&(w=sn.populate(w,o,"_")),n.applyType(w,i,e),i||n.repaint()}}function B(n,o){var i=n._jsPlumb.types[o],t=n._jsPlumb.instance.getType(i,n.getTypeDescriptor());null!=t&&t.cssClass&&n.canvas&&n._jsPlumb.instance.removeClass(n.canvas,t.cssClass)}var rn=this,sn=rn.jsPlumbUtil,Bn=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],an=rn.jsPlumbUIComponent=function(n){sn.EventGenerator.apply(this,arguments);var o=arguments,i=this.idPrefix+(new Date).getTime();this._jsPlumb={instance:n._jsPlumb,parameters:n.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:n.beforeDetach,beforeDrop:n.beforeDrop,overlayPlacements:[],hoverClass:n.hoverClass||n._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(n,o,i){this._jsPlumb.typeCache[i]=this._jsPlumb.typeCache[i]||{},this._jsPlumb.typeCache[i][n]=o},this.getCachedTypeItem=function(n,o){return this._jsPlumb.typeCache[o]?this._jsPlumb.typeCache[o][n]:null},this.getId=function(){return i};var t=n.overlays||[],e={};if(this.defaultOverlayKeys){for(var _=0;_<this.defaultOverlayKeys.length;_++)Array.prototype.push.apply(t,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[_]]||[]);for(_=0;_<t.length;_++){var w=ln.convertToFullOverlaySpec(t[_]);e[w[1].id]=w}}var d={overlays:e,parameters:n.parameters||{},scope:n.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return d},this.appendToDefaultType=function(n){for(var o in n)d[o]=n[o]},n.events)for(var r in n.events)this.bind(r,n.events[r]);this.clone=function(){var n=Object.create(this.constructor.prototype);return this.constructor.apply(n,o),n}.bind(this),this.isDetachAllowed=function(n){var o=!0;if(this._jsPlumb.beforeDetach)try{o=this._jsPlumb.beforeDetach(n)}catch(n){sn.log("jsPlumb: beforeDetach callback failed",n)}return o},this.isDropAllowed=function(n,o,i,t,e,_,w){var d=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:n,targetId:o,scope:i,connection:t,dropEndpoint:e,source:_,target:w});if(this._jsPlumb.beforeDrop)try{d=this._jsPlumb.beforeDrop({sourceId:n,targetId:o,scope:i,connection:t,dropEndpoint:e,source:_,target:w})}catch(n){sn.log("jsPlumb: beforeDrop callback failed",n)}return d};var s=[];this.setListenerComponent=function(n){for(var o=0;o<s.length;o++)s[o][3]=n}};sn.extend(rn.jsPlumbUIComponent,sn.EventGenerator,{getParameter:function(n){return this._jsPlumb.parameters[n]},setParameter:function(n,o){this._jsPlumb.parameters[n]=o},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(n){this._jsPlumb.parameters=n},getClass:function(){return ln.getClass(this.canvas)},hasClass:function(n){return ln.hasClass(this.canvas,n)},addClass:function(n){ln.addClass(this.canvas,n)},removeClass:function(n){ln.removeClass(this.canvas,n)},updateClasses:function(n,o){ln.updateClasses(this.canvas,n,o)},setType:function(n,o,i){this.clearTypes(),this._jsPlumb.types=r(n)||[],s(this,o,i)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(n,o){s(this,n,o)},hasType:function(n){return-1!==this._jsPlumb.types.indexOf(n)},addType:function(n,o,i){var t=r(n),e=!1;if(null!=t){for(var _=0,w=t.length;_<w;_++)this.hasType(t[_])||(this._jsPlumb.types.push(t[_]),e=!0);e&&s(this,o,i)}},removeType:function(n,o,i){var t=r(n),e=!1,_=function(n){var o=this._jsPlumb.types.indexOf(n);return-1!==o&&(B(this,o),this._jsPlumb.types.splice(o,1),!0)}.bind(this);if(null!=t){for(var w=0,d=t.length;w<d;w++)e=_(t[w])||e;e&&s(this,o,i)}},clearTypes:function(n,o){for(var i=this._jsPlumb.types.length,t=0;t<i;t++)B(this,0),this._jsPlumb.types.splice(0,1);s(this,n,o)},toggleType:function(n,o,i){var t=r(n);if(null!=t){for(var e=0,_=t.length;e<_;e++){var w=this._jsPlumb.types.indexOf(t[e]);-1!==w?(B(this,w),this._jsPlumb.types.splice(w,1)):this._jsPlumb.types.push(t[e])}s(this,o,i)}},applyType:function(n,o){if(this.setPaintStyle(n.paintStyle,o),this.setHoverPaintStyle(n.hoverPaintStyle,o),n.parameters)for(var i in n.parameters)this.setParameter(i,n.parameters[i]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(n,o){this._jsPlumb.paintStyle=n,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,i(this),o||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(n,o){this._jsPlumb.hoverPaintStyle=n,i(this),o||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(n){!n&&null!=this.typeId||(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(n,o,i){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){var t=(this._jsPlumb.hover=n)?"addClass":"removeClass";null!=this.canvas&&(null!=this._jsPlumb.instance.hoverClass&&this._jsPlumb.instance[t](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[t](this.canvas,this._jsPlumb.hoverClass)),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=n?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(i=i||dn(),this.repaint({timestamp:i,recalc:!1}))),this.getAttachedElements&&!o&&function(n,o,i,t){var e=n.getAttachedElements();if(e)for(var _=0,w=e.length;_<w;_++)t&&t===e[_]||e[_].setHover(o,!0,i)}(this,n,dn(),this)}}});var jn=0,e=rn.jsPlumbInstance=function(n){this.version="<% pkg.version %>",this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},ListStyle:{},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},n&&ln.extend(this.Defaults,n),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},sn.EventGenerator.apply(this);function j(n){if(null==n)return null;if(3===n.nodeType||8===n.nodeType)return{el:n,text:!0};var o=g.getElement(n);return{el:o,id:sn.isString(n)&&null==o?n:N(o)}}var g=this,e=function(){var n=jn+1;return jn++,n}(),i=g.bind,o={},v=1;for(var t in this.getInstanceIndex=function(){return e},this.setZoom=function(n,o){return v=n,g.fire("zoom",v),o&&g.repaintEverything(),!0},this.getZoom=function(){return v},this.Defaults)o[t]=this.Defaults[t];var s,B=[];this.unbindContainer=function(){if(null!=s&&0<B.length)for(var n=0;n<B.length;n++)g.off(s,B[n][0],B[n][1])},this.setContainer=function(o){this.unbindContainer(),o=this.getElement(o),this.select().each(function(n){n.moveParent(o)}),this.selectEndpoints().each(function(n){n.moveParent(o)});var n=s;s=o,B.length=0;for(var w={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},i=function(n,o,i){var t=o.srcElement||o.target,e=(t&&t.parentNode?t.parentNode._jsPlumb:null)||(t?t._jsPlumb:null)||(t&&t.parentNode&&t.parentNode.parentNode?t.parentNode.parentNode._jsPlumb:null);if(e){e.fire(n,e,o);var _=i&&w[i+n]||n;g.fire(_,e.component||e,o)}},t=function(n,o,i){B.push([n,i]),g.on(s,n,o,i)},e=function(o){t(o,".jtk-connector",function(n){i(o,n)}),t(o,".jtk-endpoint",function(n){i(o,n,"endpoint")}),t(o,".jtk-overlay",function(n){i(o,n)})},_=0;_<Bn.length;_++)e(Bn[_]);for(var d in p){var r=p[d].el;r.parentNode===n&&(n.removeChild(r),s.appendChild(r))}},this.getContainer=function(){return s},this.bind=function(n,o){"ready"===n&&u?o():i.apply(g,[n,o])},g.importDefaults=function(n){for(var o in n)g.Defaults[o]=n[o];return n.Container&&g.setContainer(n.Container),g},g.restoreDefaults=function(){return g.Defaults=ln.extend({},o),g};function w(){return""+E++}function _(n,o,i,t){if(!b&&null!=(n=g.getElement(n))){var e=N(n),_=n.querySelectorAll(".jtk-managed");null==i&&(i=dn());J({elId:e,offset:o,recalc:!1,timestamp:i});for(var w=0;w<_.length;w++)J({elId:_[w].getAttribute("id"),recalc:!0,timestamp:i});if(g.anchorManager.redraw(e,o,i,null,t),_)for(var d=0;d<_.length;d++)g.anchorManager.redraw(_[d].getAttribute("id"),null,i,null,t,!0)}}function a(n){return h[n]}function d(n,o,i){var t=f[n];if(t&&t.length)for(var e=0,_=t.length;e<_;e++){for(var w=0,d=t[e].connections.length;w<d;w++){if(o(t[e].connections[w]))return}i&&i(t[e])}}function r(n,i,t){i="block"===i;var o=null;t&&(o=function(n){n.setVisible(i,!0,!0)});var e=j(n);d(e.id,function(n){if(i&&t){var o=n.sourceId===e.id?1:0;n.endpoints[o].isVisible()&&n.setVisible(!0)}else n.setVisible(i)},o)}var l=null,u=!1,c=[],f={},h={},p={},C={},m={},D=!1,y=[],b=!1,A=null,P=this.Defaults.Scope,E=1,x=function(n,o){s?s.appendChild(n):o?this.getElement(o).appendChild(n):this.appendToRoot(n)}.bind(this),S=function(n,o){var d=ln.extend({},n);if(o&&ln.extend(d,o),d.source&&(d.source.endpoint?d.sourceEndpoint=d.source:d.source=g.getElement(d.source)),d.target&&(d.target.endpoint?d.targetEndpoint=d.target:d.target=g.getElement(d.target)),n.uuids&&(d.sourceEndpoint=a(n.uuids[0]),d.targetEndpoint=a(n.uuids[1])),d.sourceEndpoint&&d.sourceEndpoint.isFull())sn.log(g,"could not add connection; source endpoint is full");else if(d.targetEndpoint&&d.targetEndpoint.isFull())sn.log(g,"could not add connection; target endpoint is full");else{if(!d.type&&d.sourceEndpoint&&(d.type=d.sourceEndpoint.connectionType),d.sourceEndpoint&&d.sourceEndpoint.connectorOverlays){d.overlays=d.overlays||[];for(var i=0,t=d.sourceEndpoint.connectorOverlays.length;i<t;i++)d.overlays.push(d.sourceEndpoint.connectorOverlays[i])}d.sourceEndpoint&&d.sourceEndpoint.scope&&(d.scope=d.sourceEndpoint.scope),!d["pointer-events"]&&d.sourceEndpoint&&d.sourceEndpoint.connectorPointerEvents&&(d["pointer-events"]=d.sourceEndpoint.connectorPointerEvents);var r=function(n,o,i){var t=function(n,o){var i=ln.extend({},n);for(var t in o)o[t]&&(i[t]=o[t]);return i}(o,{anchor:d.anchors?d.anchors[i]:d.anchor,endpoint:d.endpoints?d.endpoints[i]:d.endpoint,paintStyle:d.endpointStyles?d.endpointStyles[i]:d.endpointStyle,hoverPaintStyle:d.endpointHoverStyles?d.endpointHoverStyles[i]:d.endpointHoverStyle});return g.addEndpoint(n,t)},e=function(n,o,i,t){if(d[n]&&!d[n].endpoint&&!d[n+"Endpoint"]&&!d.newConnection){var e=i[N(d[n])];if(e=e?e[t]:null){if(!e.enabled)return!1;var _=ln.extend({},e.def);delete _.label;var w=null!=e.endpoint&&e.endpoint._jsPlumb?e.endpoint:r(d[n],_,o);if(w.isFull())return!1;d[n+"Endpoint"]=w,!d.scope&&_.scope&&(d.scope=_.scope),e.uniqueEndpoint?e.endpoint?w.finalEndpoint=e.endpoint:(e.endpoint=w).setDeleteOnEmpty(!1):w.setDeleteOnEmpty(!0),0===o&&e.def.connectorOverlays&&(d.overlays=d.overlays||[],Array.prototype.push.apply(d.overlays,e.def.connectorOverlays))}}};if(!1!==e("source",0,this.sourceEndpointDefinitions,d.type||"default")&&!1!==e("target",1,this.targetEndpointDefinitions,d.type||"default"))return d.sourceEndpoint&&d.targetEndpoint&&!function(n,o){for(var i=n.scope.split(/\s/),t=o.scope.split(/\s/),e=0;e<i.length;e++)for(var _=0;_<t.length;_++)if(t[_]===i[e])return!0;return!1}(d.sourceEndpoint,d.targetEndpoint)&&(d=null),d}}.bind(g),I=function(n){var o=g.Defaults.ConnectionType||g.getDefaultConnectionType();n._jsPlumb=g,n.newConnection=I,n.newEndpoint=T,n.endpointsByUUID=h,n.endpointsByElement=f,n.finaliseConnection=k,n.id="con_"+w();var i=new o(n);return i.isDetachable()&&(i.endpoints[0].initDraggable("_jsPlumbSource"),i.endpoints[1].initDraggable("_jsPlumbTarget")),i},k=g.finaliseConnection=function(n,o,i,t){if(o=o||{},n.suspendedEndpoint||c.push(n),n.pending=null,(n.endpoints[0].isTemporarySource=!1)!==t&&g.router.newConnection(n),_(n.source),!o.doNotFireConnectionEvent&&!1!==o.fireEvent){var e={connection:n,source:n.source,target:n.target,sourceId:n.sourceId,targetId:n.targetId,sourceEndpoint:n.endpoints[0],targetEndpoint:n.endpoints[1]};g.fire("connection",e,i)}},T=function(n,o){var i=g.Defaults.EndpointType||ln.Endpoint,t=ln.extend({},n);t._jsPlumb=g,t.newConnection=I,t.newEndpoint=T,t.endpointsByUUID=h,t.endpointsByElement=f,t.fireDetachEvent=F,t.elementId=o||N(t.source);var e=new i(t);return e.id="ep_"+w(),q(t.elementId,t.source),ln.headless||g.getDragManager().endpointAdded(t.source,o),e},N=function(n,o,i){if(sn.isString(n))return n;if(null==n)return null;var t=g.getAttribute(n,"id");return t&&"undefined"!==t||(2===arguments.length&&void 0!==o?t=o:1!==arguments.length&&(3!==arguments.length||i)||(t="jsPlumb_"+e+"_"+w()),i||g.setAttribute(n,"id",t)),t};this.setConnectionBeingDragged=function(n){D=n},this.isConnectionBeingDragged=function(){return D},this.getManagedElements=function(){return p},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(n,o,i){i=i||{};var t=ln.extend({},i);ln.extend(t,o),t.endpoint=t.endpoint||g.Defaults.Endpoint,t.paintStyle=t.paintStyle||g.Defaults.EndpointStyle;for(var e=[],_=sn.isArray(n)||null!=n.length&&!sn.isString(n)?n:[n],w=0,d=_.length;w<d;w++){t.source=g.getElement(_[w]),Z(t.source);var r=N(t.source),s=T(t,r),B=q(r,t.source,null,!b).info.o;sn.addToList(f,r,s),b||s.paint({anchorLoc:s.anchor.compute({xy:[B.left,B.top],wh:y[r],element:s,timestamp:A}),timestamp:A}),e.push(s)}return 1===e.length?e[0]:e},this.addEndpoints=function(n,o,i){for(var t=[],e=0,_=o.length;e<_;e++){var w=g.addEndpoint(n,o[e],i);sn.isArray(w)?Array.prototype.push.apply(t,w):t.push(w)}return t},this.animate=function(n,o,i){if(!this.animationSupported)return!1;i=i||{};var t=g.getElement(n),e=N(t),_=ln.animEvents.step,w=ln.animEvents.complete;i[_]=sn.wrap(i[_],function(){g.revalidate(e)}),i[w]=sn.wrap(i[w],function(){g.revalidate(e)}),g.doAnimate(t,o,i)},this.checkCondition=function(o,n){var i=g.getListener(o),t=!0;if(i&&0<i.length){var e=Array.prototype.slice.call(arguments,1);try{for(var _=0,w=i.length;_<w;_++)t=t&&i[_].apply(i[_],e)}catch(n){sn.log(g,"cannot check condition ["+o+"]"+n)}}return t},this.connect=function(n,o){var i,t=S(n,o);if(t){if(null==t.source&&null==t.sourceEndpoint)return void sn.log("Cannot establish connection - source does not exist");if(null==t.target&&null==t.targetEndpoint)return void sn.log("Cannot establish connection - target does not exist");Z(t.source),i=I(t),k(i,t)}return i};var M=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],O=function(n,o,i,t){var e,_,w,d=M[i],r=n[d.elId],s=(n[d.el],n.endpoints[i]),B={index:i,originalSourceId:0===i?r:n.sourceId,newSourceId:n.sourceId,originalTargetId:1===i?r:n.targetId,newTargetId:n.targetId,connection:n};if(o.constructor===ln.Endpoint)(e=o).addConnection(n),o=e.element;else if(_=N(o),w=this[d.epDefs][_],_===n[d.elId])e=null;else if(w)for(var a in w){if(!w[a].enabled)return;e=null!=w[a].endpoint&&w[a].endpoint._jsPlumb?w[a].endpoint:this.addEndpoint(o,w[a].def),w[a].uniqueEndpoint&&(w[a].endpoint=e),e.addConnection(n)}else e=n.makeEndpoint(0===i,o,_);return null!=e&&(s.detachFromConnection(n),n.endpoints[i]=e,n[d.el]=e.element,n[d.elId]=e.elementId,B[0===i?"newSourceId":"newTargetId"]=e.elementId,L(B),t||n.repaint()),B.element=o,B}.bind(this);this.setSource=function(n,o,i){var t=O(n,o,0,i);this.router.sourceOrTargetChanged(t.originalSourceId,t.newSourceId,n,t.el,0)},this.setTarget=function(n,o,i){var t=O(n,o,1,i);this.router.sourceOrTargetChanged(t.originalTargetId,t.newTargetId,n,t.el,1)},this.deleteEndpoint=function(n,o,i){var t="string"==typeof n?h[n]:n;return t&&g.deleteObject({endpoint:t,dontUpdateHover:o,deleteAttachedObjects:i}),g},this.deleteEveryEndpoint=function(){var n=g.setSuspendDrawing(!0);for(var o in f){var i=f[o];if(i&&i.length)for(var t=0,e=i.length;t<e;t++)g.deleteEndpoint(i[t],!0)}f={},p={},h={},C={},m={},g.router.reset();var _=g.getDragManager();return _&&_.reset(),n||g.setSuspendDrawing(!1),g};var F=function(n,o,i){var t=g.Defaults.ConnectionType||g.getDefaultConnectionType(),e=n.constructor===t?{connection:n,source:n.source,target:n.target,sourceId:n.sourceId,targetId:n.targetId,sourceEndpoint:n.endpoints[0],targetEndpoint:n.endpoints[1]}:n;o&&g.fire("connectionDetached",e,i),g.fire("internal.connectionDetached",e,i),g.router.connectionDetached(e)},L=g.fireMoveEvent=function(n,o){g.fire("connectionMoved",n,o)};this.unregisterEndpoint=function(n){for(var o in n._jsPlumb.uuid&&(h[n._jsPlumb.uuid]=null),g.anchorManager.deleteEndpoint(n),f){var i=f[o];if(i){for(var t=[],e=0,_=i.length;e<_;e++)i[e]!==n&&t.push(i[e]);f[o]=t}f[o].length<1&&delete f[o]}};var R="isDetachAllowed";this.deleteConnection=function(o,n){return!(null==o||!(n=n||{}).force&&!sn.functionChain(!0,!1,[[o.endpoints[0],R,[o]],[o.endpoints[1],R,[o]],[o,R,[o]],[g,"checkCondition",["beforeDetach",o]]]))&&(o.setHover(!1),F(o,!o.pending&&!1!==n.fireEvent,n.originalEvent),o.endpoints[0].detachFromConnection(o),o.endpoints[1].detachFromConnection(o),sn.removeWithFunction(c,function(n){return o.id===n.id}),o.cleanup(),o.destroy(),!0)},this.deleteEveryConnection=function(o){o=o||{};var i=c.length,t=0;return g.batch(function(){for(var n=0;n<i;n++)t+=g.deleteConnection(c[0],o)?1:0}),t},this.deleteConnectionsForElement=function(n,o){o=o||{},n=g.getElement(n);var i=N(n),t=f[i];if(t&&t.length)for(var e=0,_=t.length;e<_;e++)t[e].deleteEveryConnection(o);return g},this.deleteObject=function(t){function e(n){null!=n&&null==_.connections[n.id]&&(t.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),_.connections[n.id]=n,_.connectionCount++)}var _={endpoints:{},connections:{},endpointCount:0,connectionCount:0},w=!1!==t.deleteAttachedObjects;for(var n in t.connection?e(t.connection):function(n){if(null!=n&&null==_.endpoints[n.id]&&(t.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),_.endpoints[n.id]=n,_.endpointCount++,w))for(var o=0;o<n.connections.length;o++){var i=n.connections[o];e(i)}}(t.endpoint),_.connections){var o=_.connections[n];if(o._jsPlumb){sn.removeWithFunction(c,function(n){return o.id===n.id}),F(o,!1!==t.fireEvent&&!o.pending,t.originalEvent);var i=null==t.deleteAttachedObjects?null:!t.deleteAttachedObjects;o.endpoints[0].detachFromConnection(o,null,i),o.endpoints[1].detachFromConnection(o,null,i),o.cleanup(!0),o.destroy(!0)}}for(var d in _.endpoints){var r=_.endpoints[d];r._jsPlumb&&(g.unregisterEndpoint(r),r.cleanup(!0),r.destroy(!0))}return _};function G(n,o,i){return function(){return function(n,o,i,t){for(var e=0,_=n.length;e<_;e++)n[e][o].apply(n[e],i);return t(n)}(n,o,arguments,i)}}function U(n,o){return function(){return function(n,o,i){for(var t=[],e=0,_=n.length;e<_;e++)t.push([n[e][o].apply(n[e],i),n[e]]);return t}(n,o,arguments)}}function z(n,o){var i=[];if(n)if("string"==typeof n){if("*"===n)return n;i.push(n)}else if(o)i=n;else if(n.length)for(var t=0,e=n.length;t<e;t++)i.push(j(n[t]).id);else i.push(j(n).id);return i}function V(n,o,i){return"*"===n||(0<n.length?-1!==n.indexOf(o):!i)}this.getConnections=function(n,t){n?n.constructor===String&&(n={scope:n}):n={};for(var o=n.scope||g.getDefaultScope(),e=z(o,!0),i=z(n.source),_=z(n.target),w=!t&&1<e.length?{}:[],d=function(n,o){if(!t&&1<e.length){var i=w[n];null==i&&(i=w[n]=[]),i.push(o)}else w.push(o)},r=0,s=c.length;r<s;r++){var B=c[r],a=B.proxies&&B.proxies[0]?B.proxies[0].originalEp.elementId:B.sourceId,j=B.proxies&&B.proxies[1]?B.proxies[1].originalEp.elementId:B.targetId;V(e,B.scope)&&V(i,a)&&V(_,j)&&d(B.scope,B)}return w};function H(n,o){var i,t,e={length:n.length,each:function(t,e){return function(n){for(var o=0,i=t.length;o<i;o++)n(t[o]);return e(t)}}(n,o),get:function(o){return function(n){return o[n]}}(n)},_=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],w=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(i=0,t=_.length;i<t;i++)e[_[i]]=G(n,_[i],o);for(i=0,t=w.length;i<t;i++)e[w[i]]=U(n,w[i]);return e}var W=function(i){var n=H(i,W);return ln.extend(n,{setDetachable:G(i,"setDetachable",W),setReattach:G(i,"setReattach",W),setConnector:G(i,"setConnector",W),delete:function(){for(var n=0,o=i.length;n<o;n++)g.deleteConnection(i[n])},isDetachable:U(i,"isDetachable"),isReattach:U(i,"isReattach")})},X=function(i){var n=H(i,X);return ln.extend(n,{setEnabled:G(i,"setEnabled",X),setAnchor:G(i,"setAnchor",X),isEnabled:U(i,"isEnabled"),deleteEveryConnection:function(){for(var n=0,o=i.length;n<o;n++)i[n].deleteEveryConnection()},delete:function(){for(var n=0,o=i.length;n<o;n++)g.deleteEndpoint(i[n])}})};this.select=function(n){return(n=n||{}).scope=n.scope||"*",W(n.connections||g.getConnections(n,!0))},this.selectEndpoints=function(n){(n=n||{}).scope=n.scope||"*";var o=!n.element&&!n.source&&!n.target,i=o?"*":z(n.element),t=o?"*":z(n.source),e=o?"*":z(n.target),_=z(n.scope,!0),w=[];for(var d in f){var r=V(i,d,!0),s=V(t,d,!0),B="*"!==t,a=V(e,d,!0),j="*"!==e;if(r||s||a)n:for(var l=0,u=f[d].length;l<u;l++){var c=f[d][l];if(V(_,c.scope,!0)){var h=B&&0<t.length&&!c.isSource,p=j&&0<e.length&&!c.isTarget;if(h||p)continue n;w.push(c)}}}return X(w)},this.getAllConnections=function(){return c},this.getDefaultScope=function(){return P},this.getEndpoint=a,this.getEndpoints=function(n){return f[j(n).id]||[]},this.getDefaultEndpointType=function(){return ln.Endpoint},this.getDefaultConnectionType=function(){return ln.Connection},this.getId=N,this.draw=_,this.info=j,this.appendElement=x;var Y=!1;this.isHoverSuspended=function(){return Y},this.setHoverSuspended=function(n){Y=n},this.hide=function(n,o){return r(n,"none",o),g},this.idstamp=w;var Z=function(n){if(!s&&n){var o=g.getElement(n);o.offsetParent&&g.setContainer(o.offsetParent)}},q=g.manage=function(n,o,i,t){return p[n]?t&&(p[n].info=J({elId:n,timestamp:A,recalc:!0})):(p[n]={el:o,endpoints:[],connections:[]},p[n].info=J({elId:n,timestamp:A}),g.addClass(o,"jtk-managed"),i||g.fire("manageElement",{id:n,info:p[n].info,el:o})),p[n]},J=(g.unmanage=function(n){if(p[n]){var o=p[n].el;g.removeClass(o,"jtk-managed"),delete p[n],g.fire("unmanageElement",{id:n,el:o})}},function(n){var o,i=n.timestamp,t=n.recalc,e=n.offset,_=n.elId;return b&&!i&&(i=A),!t&&i&&i===m[_]?{o:n.offset||C[_],s:y[_]}:(t||!e&&null==C[_]?null!=(o=p[_]?p[_].el:null)&&(y[_]=g.getSize(o),C[_]=g.getOffset(o),m[_]=i):(C[_]=e||C[_],null==y[_]&&null!=(o=p[_].el)&&(y[_]=g.getSize(o)),m[_]=i),C[_]&&!C[_].right&&(C[_].right=C[_].left+y[_][0],C[_].bottom=C[_].top+y[_][1],C[_].width=y[_][0],C[_].height=y[_][1],C[_].centerx=C[_].left+C[_].width/2,C[_].centery=C[_].top+C[_].height/2),{o:C[_],s:y[_]})});this.updateOffset=J,this.init=function(){u||(g.Defaults.Container&&g.setContainer(g.Defaults.Container),g.router=new rn.jsPlumb.DefaultRouter(g),g.anchorManager=g.router.anchorManager,u=!0,g.fire("ready",g))}.bind(this),this.log=l,this.jsPlumbUIComponent=an,this.makeAnchor=function(){function n(n,o){if(rn.jsPlumb.Anchors[n])return new rn.jsPlumb.Anchors[n](o);if(!g.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+n+"'"}}var o;if(0===arguments.length)return null;var i=arguments[0],t=arguments[1],e=null;if(i.compute&&i.getOrientation)return i;if("string"==typeof i)e=n(arguments[0],{elementId:t,jsPlumbInstance:g});else if(sn.isArray(i))if(sn.isArray(i[0])||sn.isString(i[0]))e=2===i.length&&sn.isObject(i[1])?sn.isString(i[0])?(o=rn.jsPlumb.extend({elementId:t,jsPlumbInstance:g},i[1]),n(i[0],o)):(o=rn.jsPlumb.extend({elementId:t,jsPlumbInstance:g,anchors:i[0]},i[1]),new rn.jsPlumb.DynamicAnchor(o)):new ln.DynamicAnchor({anchors:i,selector:null,elementId:t,jsPlumbInstance:g});else{var _={x:i[0],y:i[1],orientation:4<=i.length?[i[2],i[3]]:[0,0],offsets:6<=i.length?[i[4],i[5]]:[0,0],elementId:t,jsPlumbInstance:g,cssClass:7===i.length?i[6]:null};(e=new rn.jsPlumb.Anchor(_)).clone=function(){return new rn.jsPlumb.Anchor(_)}}return e.id||(e.id="anchor_"+w()),e},this.makeAnchors=function(n,o,i){for(var t=[],e=0,_=n.length;e<_;e++)"string"==typeof n[e]?t.push(rn.jsPlumb.Anchors[n[e]]({elementId:o,jsPlumbInstance:i})):sn.isArray(n[e])&&t.push(g.makeAnchor(n[e],o,i));return t},this.makeDynamicAnchor=function(n,o){return new rn.jsPlumb.DynamicAnchor({anchors:n,selector:o,elementId:null,jsPlumbInstance:g})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};function K(r,s,n,o,i){var t=new an(s),e=s._jsPlumb.EndpointDropHandler({jsPlumb:g,enabled:function(){return r.def.enabled},isFull:function(){var n=g.select({target:r.id}).length;return 0<r.def.maxConnections&&n>=r.def.maxConnections},element:r.el,elementId:r.id,isSource:o,isTarget:i,addClass:function(n){g.addClass(r.el,n)},removeClass:function(n){g.removeClass(r.el,n)},onDrop:function(n){n.endpoints[0].anchor.unlock()},isDropAllowed:function(){return t.isDropAllowed.apply(t,arguments)},isRedrop:function(n){return null!=n.suspendedElement&&null!=n.suspendedEndpoint&&n.suspendedEndpoint.element===r.el},getEndpoint:function(n){var o=r.def.endpoint;if(null==o||null==o._jsPlumb){var i=g.deriveEndpointAndAnchorSpec(n.getType().join(" "),!0),t=i.endpoints?rn.jsPlumb.extend(s,{endpoint:r.def.def.endpoint||i.endpoints[1]}):s;i.anchors&&(t=rn.jsPlumb.extend(t,{anchor:r.def.def.anchor||i.anchors[1]})),(o=g.addEndpoint(r.el,t))._mtNew=!0}if(s.uniqueEndpoint&&(r.def.endpoint=o),o.setDeleteOnEmpty(!0),n.isDetachable()&&o.initDraggable(),null!=o.anchor.positionFinder){var e=g.getUIPosition(arguments,g.getZoom()),_=g.getOffset(r.el),w=g.getSize(r.el),d=null==e?[0,0]:o.anchor.positionFinder(e,_,w,o.anchor.constructorParams);o.anchor.x=d[0],o.anchor.y=d[1]}return o},maybeCleanup:function(n){n._mtNew&&0===n.connections.length?g.deleteObject({endpoint:n}):delete n._mtNew}}),_=rn.jsPlumb.dragEvents.drop;return n.scope=n.scope||s.scope||g.Defaults.Scope,n[_]=sn.wrap(n[_],e,!0),n.rank=s.rank||0,i&&(n[rn.jsPlumb.dragEvents.over]=function(){return!0}),!1===s.allowLoopback&&(n.canDrop=function(n){return n.getDragElement()._jsPlumbRelatedElement!==r.el}),g.initDroppable(r.el,n,"internal"),e}this.makeTarget=function(n,o,i){var w=rn.jsPlumb.extend({_jsPlumb:this},i);rn.jsPlumb.extend(w,o);for(var d=w.maxConnections||-1,t=function(n){var o=j(n),i=o.id,t=rn.jsPlumb.extend({},w.dropOptions||{}),e=w.connectionType||"default";this.targetEndpointDefinitions[i]=this.targetEndpointDefinitions[i]||{},Z(i),o.el._isJsPlumbGroup&&null==t.rank&&(t.rank=-1);var _={def:rn.jsPlumb.extend({},w),uniqueEndpoint:w.uniqueEndpoint,maxConnections:d,enabled:!0};w.createEndpoint&&(_.uniqueEndpoint=!0,_.endpoint=g.addEndpoint(n,_.def),_.endpoint.setDeleteOnEmpty(!1)),o.def=_,this.targetEndpointDefinitions[i][e]=_,K(o,w,t,!0===w.isSource,!0),o.el._katavorioDrop[o.el._katavorioDrop.length-1].targetDef=_}.bind(this),e=n.length&&n.constructor!==String?n:[n],_=0,r=e.length;_<r;_++)t(e[_]);return this},this.unmakeTarget=function(n,o){var i=j(n);return g.destroyDroppable(i.el,"internal"),o||delete this.targetEndpointDefinitions[i.id],this},this.makeSource=function(w,n,o){var h=rn.jsPlumb.extend({_jsPlumb:this},o);rn.jsPlumb.extend(h,n);var p=h.connectionType||"default",i=g.deriveEndpointAndAnchorSpec(p);h.endpoint=h.endpoint||i.endpoints[0],h.anchor=h.anchor||i.anchors[0];for(var f=h.maxConnections||-1,C=h.onMaxConnections,t=function(s){var B=s.id,a=this.getElement(s.el);this.sourceEndpointDefinitions[B]=this.sourceEndpointDefinitions[B]||{},Z(B);var n={def:rn.jsPlumb.extend({},h),uniqueEndpoint:h.uniqueEndpoint,maxConnections:f,enabled:!0};h.createEndpoint&&(n.uniqueEndpoint=!0,n.endpoint=g.addEndpoint(w,n.def),n.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[B][p]=n,s.def=n;var o=rn.jsPlumb.dragEvents.stop,i=rn.jsPlumb.dragEvents.drag,j=rn.jsPlumb.extend({},h.dragOptions||{}),t=j.drag,l=j.stop,u=null,c=!1;j.scope=j.scope||h.scope,j[i]=sn.wrap(j[i],function(){t&&t.apply(this,arguments),c=!1}),j[o]=sn.wrap(j[o],function(){if(l&&l.apply(this,arguments),this.currentlyDragging=!1,null!=u._jsPlumb){var n=h.anchor||this.Defaults.Anchor,o=u.anchor,i=u.connections[0],t=this.makeAnchor(n,B,this),e=u.element;if(null!=t.positionFinder){var _=g.getOffset(e),w=this.getSize(e),d={left:_.left+o.x*w[0],top:_.top+o.y*w[1]},r=t.positionFinder(d,_,w,t.constructorParams);t.x=r[0],t.y=r[1]}u.setAnchor(t,!0),u.repaint(),this.repaint(u.elementId),null!=i&&this.repaint(i.targetId)}}.bind(this));var e=function(n){if(3!==n.which&&2!==n.button){B=this.getId(this.getElement(s.el));var o=this.sourceEndpointDefinitions[B][p];if(o.enabled){if(h.filter)if(!1===(sn.isString(h.filter)?function(n,o,i,t,e){for(var _=n.target||n.srcElement,w=!1,d=t.getSelector(o,i),r=0;r<d.length;r++)if(d[r]===_){w=!0;break}return e?!w:w}(n,s.el,h.filter,this,h.filterExclude):h.filter(n,s.el)))return;var i=this.select({source:B}).length;if(0<=o.maxConnections&&i>=o.maxConnections)return C&&C({element:s.el,maxConnections:f},n),!1;var t=rn.jsPlumb.getPositionOnElement(n,a,v),e={};rn.jsPlumb.extend(e,o.def),e.isTemporarySource=!0,e.anchor=[t[0],t[1],0,0],e.dragOptions=j,o.def.scope&&(e.scope=o.def.scope),u=this.addEndpoint(B,e),c=!0,u.setDeleteOnEmpty(!0),o.uniqueEndpoint&&(o.endpoint?u.finalEndpoint=o.endpoint:(o.endpoint=u).setDeleteOnEmpty(!1));var _=function(){g.off(u.canvas,"mouseup",_),g.off(s.el,"mouseup",_),c&&(c=!1,g.deleteEndpoint(u))};g.on(u.canvas,"mouseup",_),g.on(s.el,"mouseup",_);var w={};if(o.def.extract)for(var d in o.def.extract){var r=(n.srcElement||n.target).getAttribute(d);r&&(w[o.def.extract[d]]=r)}g.trigger(u.canvas,"mousedown",n,w),sn.consume(n)}}}.bind(this);this.on(s.el,"mousedown",e),n.trigger=e,h.filter&&(sn.isString(h.filter)||sn.isFunction(h.filter))&&g.setDragFilter(s.el,h.filter);var _=rn.jsPlumb.extend({},h.dropOptions||{});K(s,h,_,!0,!0===h.isTarget)}.bind(this),e=w.length&&w.constructor!==String?w:[w],_=0,d=e.length;_<d;_++)t(j(e[_]));return this},this.unmakeSource=function(n,o,i){var t=j(n);g.destroyDroppable(t.el,"internal");var e=this.sourceEndpointDefinitions[t.id];if(e)for(var _ in e)if(null==o||o===_){var w=e[_].trigger;w&&g.off(t.el,"mousedown",w),i||delete this.sourceEndpointDefinitions[t.id][_]}return this},this.unmakeEverySource=function(){for(var n in this.sourceEndpointDefinitions)g.unmakeSource(n,null,!0);return this.sourceEndpointDefinitions={},this};var $=function(n,o,i){o=sn.isArray(o)?o:[o];var t=N(n);i=i||"default";for(var e=0;e<o.length;e++){var _=this[o[e]][t];if(_&&_[i])return _[i].def.scope||this.Defaults.Scope}}.bind(this),Q=function(n,o,i,t){i=sn.isArray(i)?i:[i];var e=N(n);t=t||"default";for(var _=0;_<i.length;_++){var w=this[i[_]][e];w&&w[t]&&(w[t].def.scope=o)}}.bind(this);this.getScope=function(n,o){return $(n,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(n){return $(n,"sourceEndpointDefinitions")},this.getTargetScope=function(n){return $(n,"targetEndpointDefinitions")},this.setScope=function(n,o,i){this.setSourceScope(n,o,i),this.setTargetScope(n,o,i)},this.setSourceScope=function(n,o,i){Q(n,o,"sourceEndpointDefinitions",i),this.setDragScope(n,o)},this.setTargetScope=function(n,o,i){Q(n,o,"targetEndpointDefinitions",i),this.setDropScope(n,o)},this.unmakeEveryTarget=function(){for(var n in this.targetEndpointDefinitions)g.unmakeTarget(n,!0);return this.targetEndpointDefinitions={},this};var nn=function(n,o,i,t,e){var _,w,d,r="source"===n?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(e=e||"default",o.length&&!sn.isString(o)){_=[];for(var s=0,B=o.length;s<B;s++)r[(w=j(o[s])).id]&&r[w.id][e]&&(_[s]=r[w.id][e].enabled,d=t?!_[s]:i,r[w.id][e].enabled=d,g[d?"removeClass":"addClass"](w.el,"jtk-"+n+"-disabled"))}else{var a=(w=j(o)).id;r[a]&&r[a][e]&&(_=r[a][e].enabled,d=t?!_:i,r[a][e].enabled=d,g[d?"removeClass":"addClass"](w.el,"jtk-"+n+"-disabled"))}return _}.bind(this),on=function(n,o){return sn.isString(n)||!n.length?o.apply(this,[n]):n.length?o.apply(this,[n[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(n,o){return nn("source",n,null,!0,o),this.isSourceEnabled(n,o)},this.setSourceEnabled=function(n,o,i){return nn("source",n,o,null,i)},this.isSource=function(n,i){return i=i||"default",on(n,function(n){var o=this.sourceEndpointDefinitions[j(n).id];return null!=o&&null!=o[i]}.bind(this))},this.isSourceEnabled=function(n,i){return i=i||"default",on(n,function(n){var o=this.sourceEndpointDefinitions[j(n).id];return o&&o[i]&&!0===o[i].enabled}.bind(this))},this.toggleTargetEnabled=function(n,o){return nn("target",n,null,!0,o),this.isTargetEnabled(n,o)},this.isTarget=function(n,i){return i=i||"default",on(n,function(n){var o=this.targetEndpointDefinitions[j(n).id];return null!=o&&null!=o[i]}.bind(this))},this.isTargetEnabled=function(n,i){return i=i||"default",on(n,function(n){var o=this.targetEndpointDefinitions[j(n).id];return o&&o[i]&&!0===o[i].enabled}.bind(this))},this.setTargetEnabled=function(n,o,i){return nn("target",n,o,null,i)},this.ready=function(n){g.bind("ready",n)};function tn(n,o){if("object"==typeof n&&n.length)for(var i=0,t=n.length;i<t;i++)o(n[i]);else o(n);return g}this.repaint=function(n,o,i){return tn(n,function(n){_(n,o,i)})},this.revalidate=function(n,t,e){return tn(n,function(n){var o=e?n:g.getId(n);g.updateOffset({elId:o,recalc:!0,timestamp:t});var i=g.getDragManager();i&&i.updateOffsets(o),g.repaint(n)})},this.repaintEverything=function(){var n,o=dn();for(n in f)g.updateOffset({elId:n,recalc:!0,timestamp:o});for(n in f)_(n,null,o);return this},this.removeAllEndpoints=function(n,_,w){w=w||[];var d=function(n){var o,i,t=j(n),e=f[t.id];if(e)for(w.push(t),o=0,i=e.length;o<i;o++)g.deleteEndpoint(e[o],!1);if(delete f[t.id],_&&t.el&&3!==t.el.nodeType&&8!==t.el.nodeType)for(o=0,i=t.el.childNodes.length;o<i;o++)d(t.el.childNodes[o])};return d(n),this};function en(n,o){g.removeAllEndpoints(n.id,!0,o);for(var i=g.getDragManager(),t=function(n){i&&i.elementRemoved(n.id),g.router.elementRemoved(n.id),g.isSource(n.el)&&g.unmakeSource(n.el),g.isTarget(n.el)&&g.unmakeTarget(n.el),g.destroyDraggable(n.el),g.destroyDroppable(n.el),delete g.floatingConnections[n.id],delete p[n.id],delete C[n.id],n.el&&(g.removeElement(n.el),n.el._jsPlumb=null)},e=1;e<o.length;e++)t(o[e]);t(n)}this.remove=function(n,o){var i=j(n),t=[];return i.text&&i.el.parentNode?i.el.parentNode.removeChild(i.el):i.id&&g.batch(function(){en(i,t)},!0===o),g},this.empty=function(n,o){var t=[],e=function(n,o){var i=j(n);if(i.text)i.el.parentNode.removeChild(i.el);else if(i.el){for(;0<i.el.childNodes.length;)e(i.el.childNodes[0]);o||en(i,t)}};return g.batch(function(){e(n,!0)},!1===o),g},this.reset=function(n){g.silently(function(){Y=!1,g.removeAllGroups(),g.removeGroupManager(),g.deleteEveryEndpoint(),n||g.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},c.length=0,this.doReset&&this.doReset()}.bind(this))};function _n(n){n.canvas&&n.canvas.parentNode&&n.canvas.parentNode.removeChild(n.canvas),n.cleanup(),n.destroy()}this.clear=function(){g.select().each(_n),g.selectEndpoints().each(_n),f={},h={}},this.setDefaultScope=function(n){return P=n,g},this.deriveEndpointAndAnchorSpec=function(n,o){for(var i=((o?"":"default ")+n).split(/[\s]/),t=null,e=null,_=null,w=null,d=0;d<i.length;d++){var r=g.getType(i[d],"connection");r&&(r.endpoints&&(t=r.endpoints),r.endpoint&&(e=r.endpoint),r.anchors&&(w=r.anchors),r.anchor&&(_=r.anchor))}return{endpoints:t||[e,e],anchors:w||[_,_]}},this.setId=function(_,w,n){var o;o=sn.isString(_)?_:(_=this.getElement(_),this.getId(_));var i=this.getConnections({source:o,scope:"*"},!0),t=this.getConnections({target:o,scope:"*"},!0);w=""+w,n?_=this.getElement(w):(_=this.getElement(o),this.setAttribute(_,"id",w)),f[w]=f[o]||[];for(var e=0,d=f[w].length;e<d;e++)f[w][e].setElementId(w),f[w][e].setReferenceElement(_);delete f[o],this.sourceEndpointDefinitions[w]=this.sourceEndpointDefinitions[o],delete this.sourceEndpointDefinitions[o],this.targetEndpointDefinitions[w]=this.targetEndpointDefinitions[o],delete this.targetEndpointDefinitions[o],this.router.changeId(o,w);var r=this.getDragManager();r&&r.changeId(o,w),p[w]=p[o],delete p[o];function s(n,o,i){for(var t=0,e=n.length;t<e;t++)n[t].endpoints[o].setElementId(w),n[t].endpoints[o].setReferenceElement(_),n[t][i+"Id"]=w,n[t][i]=_}s(i,0,"source"),s(t,1,"target"),this.repaint(w)},this.setDebugLog=function(n){l=n},this.setSuspendDrawing=function(n,o){var i=b;return A=(b=n)?(new Date).getTime():null,o&&this.repaintEverything(),i},this.isSuspendDrawing=function(){return b},this.getSuspendedAt=function(){return A},this.batch=function(n,o){var i=this.isSuspendDrawing();i||this.setSuspendDrawing(!0);try{n()}catch(n){sn.log("Function run while suspended failed",n)}i||this.setSuspendDrawing(!1,!o)},this.doWhileSuspended=this.batch,this.getCachedData=function(n){var o=C[n];return o?{o:o,s:y[n]}:J({elId:n})},this.timestamp=dn,this.show=function(n,o){return r(n,"block",o),g},this.toggleVisible=function(n,o){var i=null;o&&(i=function(n){var o=n.isVisible();n.setVisible(!o)}),d(n,function(n){var o=n.isVisible();n.setVisible(!o)},i)},this.addListener=this.bind;var wn=[];this.registerFloatingConnection=function(n,o,i){wn[n.id]=o,sn.addToList(f,n.id,i)},this.getFloatingConnectionFor=function(n){return wn[n]},this.listManager=new rn.jsPlumbListManager(this,this.Defaults.ListStyle)};sn.extend(rn.jsPlumbInstance,sn.EventGenerator,{setAttribute:function(n,o,i){this.setAttribute(n,o,i)},getAttribute:function(n,o){return this.getAttribute(rn.jsPlumb.getElement(n),o)},convertToFullOverlaySpec:function(n){return sn.isString(n)&&(n=[n,{}]),n[1].id=n[1].id||sn.uuid(),n},registerConnectionType:function(n,o){if(this._connectionTypes[n]=rn.jsPlumb.extend({},o),o.overlays){for(var i={},t=0;t<o.overlays.length;t++){var e=this.convertToFullOverlaySpec(o.overlays[t]);i[e[1].id]=e}this._connectionTypes[n].overlays=i}},registerConnectionTypes:function(n){for(var o in n)this.registerConnectionType(o,n[o])},registerEndpointType:function(n,o){if(this._endpointTypes[n]=rn.jsPlumb.extend({},o),o.overlays){for(var i={},t=0;t<o.overlays.length;t++){var e=this.convertToFullOverlaySpec(o.overlays[t]);i[e[1].id]=e}this._endpointTypes[n].overlays=i}},registerEndpointTypes:function(n){for(var o in n)this.registerEndpointType(o,n[o])},getType:function(n,o){return"connection"===o?this._connectionTypes[n]:this._endpointTypes[n]},setIdChanged:function(n,o){this.setId(n,o,!0)},setParent:function(n,o){var i=this.getElement(n),t=this.getId(i),e=this.getElement(o),_=this.getId(e),w=this.getDragManager();i.parentNode.removeChild(i),e.appendChild(i),w&&w.setParent(i,t,e,_)},extend:function(n,o,i){var t;if(i)for(t=0;t<i.length;t++)n[i[t]]=o[i[t]];else for(t in o)n[t]=o[t];return n},floatingConnections:{},getFloatingAnchorIndex:function(n){return n.endpoints[0].isFloating()?0:n.endpoints[1].isFloating()?1:-1},proxyConnection:function(n,o,i,t,e,_){var w,d=n.endpoints[o].elementId,r=n.endpoints[o];n.proxies=n.proxies||[],(w=n.proxies[o]?n.proxies[o].ep:this.addEndpoint(i,{endpoint:e(n,o),anchor:_(n,o),parameters:{isProxyEndpoint:!0}})).setDeleteOnEmpty(!0),n.proxies[o]={ep:w,originalEp:r},0===o?this.router.sourceOrTargetChanged(d,t,n,i,0):this.router.sourceOrTargetChanged(d,t,n,i,1),r.detachFromConnection(n,null,!0),w.connections=[n],n.endpoints[o]=w,r.setVisible(!1),n.setVisible(!0),this.revalidate(i)},unproxyConnection:function(n,o,i){if(null!=n._jsPlumb&&null!=n.proxies&&null!=n.proxies[o]){var t=n.proxies[o].originalEp.element,e=n.proxies[o].originalEp.elementId;n.endpoints[o]=n.proxies[o].originalEp,0===o?this.router.sourceOrTargetChanged(i,e,n,t,0):this.router.sourceOrTargetChanged(i,e,n,t,1),n.proxies[o].ep.detachFromConnection(n,null),n.proxies[o].originalEp.addConnection(n),n.isVisible()&&n.proxies[o].originalEp.setVisible(!0),delete n.proxies[o]}}});var ln=new e;(rn.jsPlumb=ln).getInstance=function(n,o){var i=new e(n);if(o)for(var t in o)i[t]=o[t];return i.init(),i},ln.each=function(n,o){if(null!=n)if("string"==typeof n)o(ln.getElement(n));else if(null!=n.length)for(var i=0;i<n.length;i++)o(ln.getElement(n[i]));else o(n)},"undefined"!=typeof exports&&(exports.jsPlumb=ln)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var o=this,d=o.jsPlumb,r=o.jsPlumbUtil,e="__label";d.OverlayCapableJsPlumbUIComponent=function(n){o.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},n.label&&(this.getDefaultType().overlays[e]=["Label",{label:n.label,location:n.labelLocation||this.defaultLabelLocation||.5,labelStyle:n.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:e}]),this.setListenerComponent=function(n){if(this._jsPlumb)for(var o in this._jsPlumb.overlays)this._jsPlumb.overlays[o].setListenerComponent(n)}},d.OverlayCapableJsPlumbUIComponent.applyType=function(n,o){if(o.overlays){var i,t={};for(i in o.overlays){var e=n._jsPlumb.overlays[o.overlays[i][1].id];if(e)e.updateFrom(o.overlays[i][1]),t[o.overlays[i][1].id]=!0,e.reattach(n._jsPlumb.instance,n);else{var _=n.getCachedTypeItem("overlay",o.overlays[i][1].id);null!=_?(_.reattach(n._jsPlumb.instance,n),_.setVisible(!0),_.updateFrom(o.overlays[i][1]),n._jsPlumb.overlays[_.id]=_):_=n.addOverlay(o.overlays[i],!0),t[_.id]=!0}}for(i in n._jsPlumb.overlays)null==t[n._jsPlumb.overlays[i].id]&&n.removeOverlay(n._jsPlumb.overlays[i].id,!0)}},r.extend(d.OverlayCapableJsPlumbUIComponent,o.jsPlumbUIComponent,{setHover:function(n,o){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var i in this._jsPlumb.overlays)this._jsPlumb.overlays[i][n?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(n,o){var i=function(n,o){var i=null;if(r.isArray(o)){var t=o[0],e=d.extend({component:n,_jsPlumb:n._jsPlumb.instance},o[1]);3===o.length&&d.extend(e,o[2]),i=new(d.Overlays[n._jsPlumb.instance.getRenderMode()][t])(e)}else i=o.constructor===String?new(d.Overlays[n._jsPlumb.instance.getRenderMode()][o])({component:n,_jsPlumb:n._jsPlumb.instance}):o;return i.id=i.id||r.uuid(),n.cacheTypeItem("overlay",i,i.id),n._jsPlumb.overlays[i.id]=i}(this,n);if(this.getData&&"Label"===i.type&&r.isArray(n)){var t=this.getData(),e=n[1];if(t){var _=e.labelLocationAttribute||"labelLocation",w=t?t[_]:null;w&&(i.loc=w)}}return o||this.repaint(),i},getOverlay:function(n){return this._jsPlumb.overlays[n]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(n){var o=this.getOverlay(n);o&&o.hide()},hideOverlays:function(){for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].hide()},showOverlay:function(n){var o=this.getOverlay(n);o&&o.show()},showOverlays:function(){for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].show()},removeAllOverlays:function(n){for(var o in this._jsPlumb.overlays)this._jsPlumb.overlays[o].cleanup&&this._jsPlumb.overlays[o].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,this._jsPlumb.overlayPlacements={},n||this.repaint()},removeOverlay:function(n,o){var i=this._jsPlumb.overlays[n];i&&(i.setVisible(!1),!o&&i.cleanup&&i.cleanup(),delete this._jsPlumb.overlays[n],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[n],this._jsPlumb.overlayPlacements&&delete this._jsPlumb.overlayPlacements[n])},removeOverlays:function(){for(var n=0,o=arguments.length;n<o;n++)this.removeOverlay(arguments[n])},moveParent:function(n){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),n.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode)for(var o in this.canvas.parentNode.removeChild(this.canvas),n.appendChild(this.canvas),this._jsPlumb.overlays)if(this._jsPlumb.overlays[o].isAppendedAtTopLevel){var i=this._jsPlumb.overlays[o].getElement();i.parentNode.removeChild(i),n.appendChild(i)}},getLabel:function(){var n=this.getOverlay(e);return null!=n?n.getLabel():null},getLabelOverlay:function(){return this.getOverlay(e)},setLabel:function(n){var o=this.getOverlay(e);o?n.constructor===String||n.constructor===Function?o.setLabel(n):(n.label&&o.setLabel(n.label),n.location&&o.setLocation(n.location)):(o=function(n,o){var i={cssClass:o.cssClass,labelStyle:n.labelStyle,id:e,component:n,_jsPlumb:n._jsPlumb.instance},t=d.extend(i,o);return new(d.Overlays[n._jsPlumb.instance.getRenderMode()].Label)(t)}(this,n.constructor===String||n.constructor===Function?{label:n}:n),this._jsPlumb.overlays[e]=o);this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(n){for(var o in this._jsPlumb.overlays)this._jsPlumb.overlays[o].cleanup(n),this._jsPlumb.overlays[o].destroy(n);n&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(n){this[n?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(n,o){this._jsPlumb.overlayPositions[n.id]=o},getAbsoluteOverlayPosition:function(n){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[n.id]:null},_clazzManip:function(n,o,i){if(!i)for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t][n+"Class"](o)},addClass:function(n,o){this._clazzManip("add",n,o)},removeClass:function(n,o){this._clazzManip("remove",n,o)}})}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var D=this.jsPlumb,y=this.jsPlumbUtil,r=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"];D.Endpoint=function(C){var g=C._jsPlumb,v=C.newConnection,m=C.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],D.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:C.connectionType,maxConnections:null==C.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:C.maxConnections,paintStyle:C.endpointStyle||C.paintStyle||C.style||this._jsPlumb.instance.Defaults.EndpointStyle||D.Defaults.EndpointStyle,hoverPaintStyle:C.endpointHoverStyle||C.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||D.Defaults.EndpointHoverStyle,connectorStyle:C.connectorStyle,connectorHoverStyle:C.connectorHoverStyle,connectorClass:C.connectorClass,connectorHoverClass:C.connectorHoverClass,connectorOverlays:C.connectorOverlays,connector:C.connector,connectorTooltip:C.connectorTooltip}),this._jsPlumb.enabled=!(!1===C.enabled),this._jsPlumb.visible=!0,this.element=D.getElement(C.source),this._jsPlumb.uuid=C.uuid;this._jsPlumb.floatingEndpoint=null;this._jsPlumb.uuid&&(C.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=C.elementId,this.dragProxy=C.dragProxy,this._jsPlumb.connectionCost=C.connectionCost,this._jsPlumb.connectionsDirected=C.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var t=!0===C.deleteOnEmpty;this.setDeleteOnEmpty=function(n){t=n};var i=function(){var n=g.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var o=g.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(n),this.addClass(o),D.updateClasses(this.element,o,n)}.bind(this);this.prepareAnchor=function(n){var o=this._jsPlumb.instance.makeAnchor(n,this.elementId,g);return o.bind("anchorChanged",function(n){this.fire("anchorChanged",{endpoint:this,anchor:n}),i()}.bind(this)),o},this.setPreparedAnchor=function(n,o){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=n,i(),o||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(n,o){var i=this.prepareAnchor(n);return this.setPreparedAnchor(i,o),this};var n=function(n){if(0<this.connections.length)for(var o=0;o<this.connections.length;o++)this.connections[o].setHover(n,!1);else this.setHover(n)}.bind(this);this.bind("mouseover",function(){n(!0)}),this.bind("mouseout",function(){n(!1)}),C._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(n,o){function i(n,o){var i=g.getRenderMode();if(D.Endpoints[i][n])return new D.Endpoints[i][n](o);if(!g.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+n+"'"}}var t,e={_jsPlumb:this._jsPlumb.instance,cssClass:C.cssClass,container:C.container,tooltip:C.tooltip,connectorTooltip:C.connectorTooltip,endpoint:this};return(t=y.isString(n)?i(n,e):y.isArray(n)?(e=y.merge(n[1],e),i(n[0],e)):n.clone()).clone=function(){return y.isString(n)?i(n,e):y.isArray(n)?(e=y.merge(n[1],e),i(n[0],e)):void 0}.bind(this),t.typeId=o,t},this.setEndpoint=function(n,o){var i=this.prepareEndpoint(n);this.setPreparedEndpoint(i,!0)},this.setPreparedEndpoint=function(n,o){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=n,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},D.extend(this,C,r),this.isSource=C.isSource||!1,this.isTemporarySource=C.isTemporarySource||!1,this.isTarget=C.isTarget||!1,this.connections=C.connections||[],this.connectorPointerEvents=C["connector-pointer-events"],this.scope=C.scope||g.getDefaultScope(),this.timestamp=null,this.reattachConnections=C.reattach||g.Defaults.ReattachConnections,this.connectionsDetachable=g.Defaults.ConnectionsDetachable,!1!==C.connectionsDetachable&&!1!==C.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==C.dragAllowedWhenFull,C.onMaxConnections&&this.bind("maxConnections",C.onMaxConnections),this.addConnection=function(n){this.connections.push(n),this[(0<this.connections.length?"add":"remove")+"Class"](g.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](g.endpointFullClass)},this.detachFromConnection=function(n,o,i){0<=(o=null==o?this.connections.indexOf(n):o)&&(this.connections.splice(o,1),this[(0<this.connections.length?"add":"remove")+"Class"](g.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](g.endpointFullClass)),!i&&t&&0===this.connections.length&&g.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==i})},this.deleteEveryConnection=function(n){for(var o=this.connections.length,i=0;i<o;i++)g.deleteConnection(this.connections[0],n)},this.detachFrom=function(n,o,i){for(var t=[],e=0;e<this.connections.length;e++)this.connections[e].endpoints[1]!==n&&this.connections[e].endpoints[0]!==n||t.push(this.connections[e]);for(var _=0,w=t.length;_<w;_++)g.deleteConnection(t[0]);return this},this.getElement=function(){return this.element},this.setElement=function(n){var o=this._jsPlumb.instance.getId(n),i=this.elementId;return y.removeWithFunction(C.endpointsByElement[this.elementId],function(n){return n.id===this.id}.bind(this)),this.element=D.getElement(n),this.elementId=g.getId(this.element),g.anchorManager.rehomeEndpoint(this,i,this.element),g.dragManager.endpointAdded(this.element),y.addToList(C.endpointsByElement,o,this),this},this.makeInPlaceCopy=function(){var n=this.anchor.getCurrentLocation({element:this}),o=this.anchor.getOrientation(this),i=this.anchor.getCssClass(),t={bind:function(){},compute:function(){return[n[0],n[1]]},getCurrentLocation:function(){return[n[0],n[1]]},getOrientation:function(){return o},getCssClass:function(){return i}};return m({dropOptions:C.dropOptions,anchor:t,source:this.element,paintStyle:this.getPaintStyle(),endpoint:C.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){return this.connections[0]},this.setStyle=this.setPaintStyle,this.paint=function(n){var o=(n=n||{}).timestamp,i=!(!1===n.recalc);if(!o||this.timestamp!==o){var t=g.updateOffset({elId:this.elementId,timestamp:o}),e=n.offset?n.offset.o:t.o;if(null!=e){var _=n.anchorPoint,w=n.connectorPaintStyle;if(null==_){var d=n.dimensions||t.s,r={xy:[e.left,e.top],wh:d,element:this,timestamp:o};if(i&&this.anchor.isDynamic&&0<this.connections.length){var s=function(n,o){var i=0;if(null!=o)for(var t=0;t<n.connections.length;t++)if(n.connections[t].sourceId===o||n.connections[t].targetId===o){i=t;break}return n.connections[i]}(this,n.elementWithPrecedence),B=s.endpoints[0]===this?1:0,a=0==B?s.sourceId:s.targetId,j=g.getCachedData(a),l=j.o,u=j.s;r.index=0==B?1:0,r.connection=s,r.txy=[l.left,l.top],r.twh=u,r.tElement=s.endpoints[B]}else 0<this.connections.length&&(r.connection=this.connections[0]);_=this.anchor.compute(r)}for(var c in this.endpoint.compute(_,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,w||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=o,this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(c)){var h=this._jsPlumb.overlays[c];h.isVisible()&&(this._jsPlumb.overlayPlacements[c]=h.draw(this.endpoint,this._jsPlumb.paintStyleInUse),h.paint(this._jsPlumb.overlayPlacements[c]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var d=!1;this.initDraggable=function(){if(!d&&D.isDragSupported(this.element)){var l,u={id:null,element:null},c=null,h=!1,p=null,f=function(o,i,t){var e=!1;return{drag:function(){if(e)return!(e=!1);if(i.element){var n=t.getUIPosition(arguments,t.getZoom());null!=n&&t.setPosition(i.element,n),t.repaint(i.element,n),o.paint({anchorPoint:o.anchor.getCurrentLocation({element:o})})}},stopDrag:function(){e=!0}}}(this,u,g),n=C.dragOptions||{},o=D.dragEvents.start,i=D.dragEvents.stop,t=D.dragEvents.drag,e=D.dragEvents.beforeStart,_=function(n){c=this.connectorSelector();var o=!0;this.isEnabled()||(o=!1),null!=c||this.isSource||this.isTemporarySource||(o=!1),!this.isSource||!this.isFull()||null!=c&&this.dragAllowedWhenFull||(o=!1),null==c||c.isDetachable(this)||(this.isFull()?o=!1:c=null);var i=g.checkCondition(null==c?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:c});if(!1===i?o=!1:"object"==typeof i?D.extend(i,l||{}):i=l||{},!1===o)return g.stopDrag&&g.stopDrag(this.canvas),f.stopDrag(),!1;for(var t=0;t<this.connections.length;t++)this.connections[t].setHover(!1);this.addClass("endpointDrag"),g.setConnectionBeingDragged(!0),c&&!this.isFull()&&this.isSource&&(c=null),g.updateOffset({elId:this.elementId});var e=this._jsPlumb.instance.getOffset(this.canvas),_=this.canvas,w=this._jsPlumb.instance.getSize(this.canvas);!function(n,o,i,t){var e=o.createElement("div",{position:"absolute"});o.appendElement(e);var _=o.getId(e);o.setPosition(e,i),e.style.width=t[0]+"px",e.style.height=t[1]+"px",o.manage(_,e,!0),n.id=_,n.element=e}(u,g,e,w),g.setAttributes(this.canvas,{dragId:u.id,elId:this.elementId});var d=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var r=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);r.endpoints[1]&&(d=r.endpoints[1])}var s=this._jsPlumb.instance.makeAnchor("Center");s.isFloating=!0,this._jsPlumb.floatingEndpoint=function(n,o,i,t,e,_,w,d){return w({paintStyle:n,endpoint:i,anchor:new D.FloatingAnchor({reference:o,referenceCanvas:t,jsPlumbInstance:_}),source:e,scope:d})}(this.getPaintStyle(),s,d,this.canvas,u.element,g,m,this.scope);var B=this._jsPlumb.floatingEndpoint.anchor;if(null==c)this.setHover(!1,!1),(c=v({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:u.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:C.connectorStyle,hoverPaintStyle:C.connectorHoverStyle,connector:C.connector,overlays:C.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:C.scope,data:i})).pending=!0,c.addClass(g.draggingClass),this._jsPlumb.floatingEndpoint.addClass(g.draggingClass),this._jsPlumb.floatingEndpoint.anchor=B,g.fire("connectionDrag",c),g.router.newConnection(c);else{h=!0,c.setHover(!1);var a=c.endpoints[0].id===this.id?0:1;this.detachFromConnection(c,null,!0);var j=g.getDragScope(_);g.setAttribute(this.canvas,"originalScope",j),g.fire("connectionDrag",c),0==a?(p=[c.source,c.sourceId,_,j],g.router.sourceOrTargetChanged(c.endpoints[a].elementId,u.id,c,u.element,0)):(p=[c.target,c.targetId,_,j],g.router.sourceOrTargetChanged(c.endpoints[a].elementId,u.id,c,u.element,1)),c.suspendedEndpoint=c.endpoints[a],c.suspendedElement=c.endpoints[a].getElement(),c.suspendedElementId=c.endpoints[a].elementId,c.suspendedElementType=0==a?"source":"target",c.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=c.suspendedEndpoint,c.endpoints[a]=this._jsPlumb.floatingEndpoint,c.addClass(g.draggingClass),this._jsPlumb.floatingEndpoint.addClass(g.draggingClass)}g.registerFloatingConnection(u,c,this._jsPlumb.floatingEndpoint),g.currentlyDragging=!0}.bind(this),w=function(){if(g.setConnectionBeingDragged(!1),c&&null!=c.endpoints){var n=g.getDropEvent(arguments),o=g.getFloatingAnchorIndex(c);if(c.endpoints[0===o?1:0].anchor.unlock(),c.removeClass(g.draggingClass),this._jsPlumb&&(c.deleteConnectionNow||c.endpoints[o]===this._jsPlumb.floatingEndpoint)&&h&&c.suspendedEndpoint){0===o?(c.floatingElement=c.source,c.floatingId=c.sourceId,c.floatingEndpoint=c.endpoints[0],c.floatingIndex=0,c.source=p[0],c.sourceId=p[1]):(c.floatingElement=c.target,c.floatingId=c.targetId,c.floatingEndpoint=c.endpoints[1],c.floatingIndex=1,c.target=p[0],c.targetId=p[1]);var i=this._jsPlumb.floatingEndpoint;g.setDragScope(p[2],p[3]),c.endpoints[o]=c.suspendedEndpoint,c.isReattach()||c._forceReattach||c._forceDetach||!g.deleteConnection(c,{originalEvent:n})?(c.setHover(!1),c._forceDetach=null,c._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(c),c.suspendedEndpoint.addConnection(c),1===o?g.router.sourceOrTargetChanged(c.floatingId,c.targetId,c,c.target,o):g.router.sourceOrTargetChanged(c.floatingId,c.sourceId,c,c.source,o),g.repaint(p[1])):g.deleteObject({endpoint:i})}this.deleteAfterDragStop?g.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),g.fire("connectionDragStop",c,n),c.pending&&g.fire("connectionAborted",c,n),g.currentlyDragging=!1,c.suspendedElement=null,c.suspendedEndpoint=null,c=null}u.element&&g.remove(u.element,!1,!1),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.unlock(),this._jsPlumb.floatingEndpoint=null)}.bind(this);(n=D.extend({},n)).scope=this.scope||n.scope,n[e]=y.wrap(n[e],function(n){l=n.e.payload||{}},!1),n[o]=y.wrap(n[o],_,!1),n[t]=y.wrap(n[t],f.drag),n[i]=y.wrap(n[i],w),n.multipleDrop=!1,n.canDrag=function(){return this.isSource||this.isTemporarySource||0<this.connections.length&&!1!==this.connectionsDetachable}.bind(this),g.initDraggable(this.canvas,n,"internal"),this.canvas._jsPlumbRelatedElement=this.element,d=!0}};var o=C.endpoint||this._jsPlumb.instance.Defaults.Endpoint||D.Defaults.Endpoint;this.setEndpoint(o,!0);var e=C.anchor?C.anchor:C.anchors?C.anchors:g.Defaults.Anchor||"Top";this.setAnchor(e,!0);var _=["default",C.type||""].join(" ");this.addType(_,C.data,!0),this.canvas=this.endpoint.canvas,(this.canvas._jsPlumb=this).initDraggable();var w=function(n,o,i,t){if(D.isDropSupported(this.element)){var e=C.dropOptions||g.Defaults.DropOptions||D.Defaults.DropOptions;(e=D.extend({},e)).scope=e.scope||this.scope;var _=D.dragEvents.drop,w=D.dragEvents.over,d=D.dragEvents.out,r=this,s=g.EndpointDropHandler({getEndpoint:function(){return r},jsPlumb:g,enabled:function(){return null==i||i.isEnabled()},isFull:function(){return i.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(n){r.addClass(n)},removeClass:function(n){r.removeClass(n)},isDropAllowed:function(){return r.isDropAllowed.apply(r,arguments)},reference:t,isRedrop:function(n,o){return n.suspendedEndpoint&&o.reference&&n.suspendedEndpoint.id===o.reference.id}});e[_]=y.wrap(e[_],s,!0),e[w]=y.wrap(e[w],function(){var n=D.getDragObject(arguments),o=g.getAttribute(D.getElement(n),"dragId"),i=g.getFloatingConnectionFor(o);if(null!=i){var t=g.getFloatingAnchorIndex(i);if(this.isTarget&&0!==t||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===i.suspendedEndpoint.id){var e=g.checkCondition("checkDropAllowed",{sourceEndpoint:i.endpoints[t],targetEndpoint:this,connection:i});this[(e?"add":"remove")+"Class"](g.endpointDropAllowedClass),this[(e?"remove":"add")+"Class"](g.endpointDropForbiddenClass),i.endpoints[t].anchor.over(this.anchor,this)}}}.bind(this)),e[d]=y.wrap(e[d],function(){var n=D.getDragObject(arguments),o=null==n?null:g.getAttribute(D.getElement(n),"dragId"),i=o?g.getFloatingConnectionFor(o):null;if(null!=i){var t=g.getFloatingAnchorIndex(i);(this.isTarget&&0!==t||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===i.suspendedEndpoint.id)&&(this.removeClass(g.endpointDropAllowedClass),this.removeClass(g.endpointDropForbiddenClass),i.endpoints[t].anchor.out())}}.bind(this)),g.initDroppable(n,e,"internal",o)}}.bind(this);return this.anchor.isFloating||w(this.canvas,!(C._transient||this.anchor.isFloating),this,C.reference),this},y.extend(D.Endpoint,D.OverlayCapableJsPlumbUIComponent,{setVisible:function(n,o,i){if(this._jsPlumb.visible=n,this.canvas&&(this.canvas.style.display=n?"block":"none"),this[n?"showOverlays":"hideOverlays"](),!o)for(var t=0;t<this.connections.length;t++)if(this.connections[t].setVisible(n),!i){var e=this===this.connections[t].endpoints[0]?1:0;1===this.connections[t].endpoints[e].connections.length&&this.connections[t].endpoints[e].setVisible(n,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(n,o){this.setPaintStyle(n.endpointStyle||n.paintStyle,o),this.setHoverPaintStyle(n.endpointHoverStyle||n.hoverPaintStyle,o),null!=n.maxConnections&&(this._jsPlumb.maxConnections=n.maxConnections),n.scope&&(this.scope=n.scope),D.extend(this,n,r),null!=n.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,n.cssClass),D.OverlayCapableJsPlumbUIComponent.applyType(this,n)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(n){this._jsPlumb.enabled=n},cleanup:function(){var n=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");D.removeClass(this.element,n),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(n){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(n)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(n){var o=!1;if(n)for(var i=0;i<this.connections.length;i++)if(this.connections[i].endpoints[1]===n||this.connections[i].endpoints[0]===n){o=!0;break}return o},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(n){this._jsPlumb.connectionCost=n},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(n){this._jsPlumb.connectionsDirected=n},setElementId:function(n){this.elementId=n,this.anchor.elementId=n},setReferenceElement:function(n){this.element=D.getElement(n)},setDragAllowedWhenFull:function(n){this.dragAllowedWhenFull=n},equals:function(n){return this.anchor.equals(n.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(n){return this.anchor.compute(n)}}),this.jsPlumbInstance.prototype.EndpointDropHandler=function(l){return function(n){var e=l.jsPlumb;l.removeClass(e.endpointDropAllowedClass),l.removeClass(e.endpointDropForbiddenClass);var _=e.getDropEvent(arguments),o=e.getDragObject(arguments),i=e.getAttribute(o,"dragId"),t=(e.getAttribute(o,"elId"),e.getAttribute(o,"originalScope")),w=e.getFloatingConnectionFor(i);if(null!=w){var d=null!=w.suspendedEndpoint;if(!d||null!=w.suspendedEndpoint._jsPlumb){var r=l.getEndpoint(w);if(null!=r){if(l.isRedrop(w,l))return w._forceReattach=!0,w.setHover(!1),void(l.maybeCleanup&&l.maybeCleanup(r));var s=e.getFloatingAnchorIndex(w);if(0===s&&!l.isSource||1===s&&!l.isTarget)l.maybeCleanup&&l.maybeCleanup(r);else{l.onDrop&&l.onDrop(w),t&&e.setDragScope(o,t);var B=l.isFull(n);if(B&&r.fire("maxConnections",{endpoint:this,connection:w,maxConnections:r._jsPlumb.maxConnections},_),!B&&l.enabled()){var a=!0;0===s?(w.floatingElement=w.source,w.floatingId=w.sourceId,w.floatingEndpoint=w.endpoints[0],w.floatingIndex=0,w.source=l.element,w.sourceId=e.getId(l.element)):(w.floatingElement=w.target,w.floatingId=w.targetId,w.floatingEndpoint=w.endpoints[1],w.floatingIndex=1,w.target=l.element,w.targetId=e.getId(l.element)),d&&w.suspendedEndpoint.id!==r.id&&(w.isDetachAllowed(w)&&w.endpoints[s].isDetachAllowed(w)&&w.suspendedEndpoint.isDetachAllowed(w)&&e.checkCondition("beforeDetach",w)||(a=!1));var j=function(n){w.endpoints[s].detachFromConnection(w),w.suspendedEndpoint&&w.suspendedEndpoint.detachFromConnection(w),(w.endpoints[s]=r).addConnection(w);var o=r.getParameters();for(var i in o)w.setParameter(i,o[i]);if(d){var t=w.suspendedEndpoint.elementId;e.fireMoveEvent({index:s,originalSourceId:0===s?t:w.sourceId,newSourceId:0===s?r.elementId:w.sourceId,originalTargetId:1===s?t:w.targetId,newTargetId:1===s?r.elementId:w.targetId,originalSourceEndpoint:0===s?w.suspendedEndpoint:w.endpoints[0],newSourceEndpoint:0===s?r:w.endpoints[0],originalTargetEndpoint:1===s?w.suspendedEndpoint:w.endpoints[1],newTargetEndpoint:1===s?r:w.endpoints[1],connection:w},_)}else o.draggable&&e.initDraggable(this.element,l.dragOptions,"internal",e);1===s?e.router.sourceOrTargetChanged(w.floatingId,w.targetId,w,w.target,1):e.router.sourceOrTargetChanged(w.floatingId,w.sourceId,w,w.source,0),w.endpoints[0].finalEndpoint&&(w.endpoints[0].detachFromConnection(w),w.endpoints[0]=w.endpoints[0].finalEndpoint,w.endpoints[0].addConnection(w));y.isObject(n)&&w.mergeData(n),e.finaliseConnection(w,null,_,!1),w.setHover(!1),e.revalidate(w.endpoints[0].element)}.bind(this);if(a=a&&l.isDropAllowed(w.sourceId,w.targetId,w.scope,w,r))return j(a),!0;w.suspendedEndpoint&&(w.endpoints[s]=w.suspendedEndpoint,w.setHover(!1),w._forceDetach=!0,0===s?(w.source=w.suspendedEndpoint.element,w.sourceId=w.suspendedEndpoint.elementId):(w.target=w.suspendedEndpoint.element,w.targetId=w.suspendedEndpoint.elementId),w.suspendedEndpoint.addConnection(w),1===s?e.router.sourceOrTargetChanged(w.floatingId,w.targetId,w,w.target,1):e.router.sourceOrTargetChanged(w.floatingId,w.sourceId,w,w.source,0),e.repaint(w.sourceId),w._forceDetach=!1)}l.maybeCleanup&&l.maybeCleanup(r),e.currentlyDragging=!1}}}}}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";function _(n,o,i,t,e){if(C.Connectors[o]=C.Connectors[o]||{},null==C.Connectors[o][i]){if(null==C.Connectors[i]){if(n.Defaults.DoNotThrowErrors)return null;throw new TypeError("jsPlumb: unknown connector type '"+i+"'")}C.Connectors[o][i]=function(){C.Connectors[i].apply(this,arguments),C.ConnectorRenderers[o].apply(this,arguments)},g.extend(C.Connectors[o][i],[C.Connectors[i],C.ConnectorRenderers[o]])}return new C.Connectors[o][i](t,e)}function u(n,o,i){return n?i.makeAnchor(n,o,i):null}function o(n,o,i,t){null!=o&&(o._jsPlumbConnections=o._jsPlumbConnections||{},t?delete o._jsPlumbConnections[n.id]:o._jsPlumbConnections[n.id]=!0,g.isEmpty(o._jsPlumbConnections)?i.removeClass(o,i.connectedClass):i.addClass(o,i.connectedClass))}var i=this,C=i.jsPlumb,g=i.jsPlumbUtil;C.Connection=function(_){var w=_.newEndpoint;this.id=_.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=_.previousConnection,this.source=C.getElement(_.source),this.target=C.getElement(_.target),C.OverlayCapableJsPlumbUIComponent.apply(this,arguments),_.sourceEndpoint?(this.source=_.sourceEndpoint.getElement(),this.sourceId=_.sourceEndpoint.elementId):this.sourceId=this._jsPlumb.instance.getId(this.source),_.targetEndpoint?(this.target=_.targetEndpoint.getElement(),this.targetId=_.targetEndpoint.elementId):this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=_.scope,this.endpoints=[],this.endpointStyles=[];var d=this._jsPlumb.instance;d.manage(this.sourceId,this.source),d.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.params={cssClass:_.cssClass,container:_.container,"pointer-events":_["pointer-events"],editorParams:_.editorParams,overlays:_.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.makeEndpoint=function(n,o,i,t,e){return i=i||this._jsPlumb.instance.getId(o),this.prepareEndpoint(d,w,this,t,n?0:1,_,o,i,e)},_.type&&(_.endpoints=_.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(_.type).endpoints);var n=this.makeEndpoint(!0,this.source,this.sourceId,_.sourceEndpoint),o=this.makeEndpoint(!1,this.target,this.targetId,_.targetEndpoint);n&&g.addToList(_.endpointsByElement,this.sourceId,n),o&&g.addToList(_.endpointsByElement,this.targetId,o),this.scope||(this.scope=this.endpoints[0].scope),null!=_.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(_.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(_.deleteEndpointsOnEmpty));var i=d.Defaults.ConnectionsDetachable;!1===_.detachable&&(i=!1),!1===this.endpoints[0].connectionsDetachable&&(i=!1),!1===this.endpoints[1].connectionsDetachable&&(i=!1);var t=_.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||d.Defaults.ReattachConnections;this.appendToDefaultType({detachable:i,reattach:t,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||_.paintStyle||d.Defaults.PaintStyle||C.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||_.hoverPaintStyle||d.Defaults.HoverPaintStyle||C.Defaults.HoverPaintStyle});var e=d.getSuspendedAt();if(!d.isSuspendDrawing()){var r=d.getCachedData(this.sourceId),s=r.o,B=r.s,a=d.getCachedData(this.targetId),j=a.o,l=a.s,u=e||d.timestamp(),c=this.endpoints[0].anchor.compute({xy:[s.left,s.top],wh:B,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[j.left,j.top],twh:l,tElement:this.endpoints[1],timestamp:u});this.endpoints[0].paint({anchorLoc:c,timestamp:u}),c=this.endpoints[1].anchor.compute({xy:[j.left,j.top],wh:l,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[s.left,s.top],twh:B,tElement:this.endpoints[0],timestamp:u}),this.endpoints[1].paint({anchorLoc:c,timestamp:u})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(n){return!1!==this._jsPlumb.detachable&&(null!=n?!0===n.connectionsDetachable:!0===this._jsPlumb.detachable)},this.setDetachable=function(n){this._jsPlumb.detachable=!0===n},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(n){this._jsPlumb.reattach=!0===n},this._jsPlumb.cost=_.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=_.directed,null==_.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var h=C.extend({},this.endpoints[1].getParameters());C.extend(h,this.endpoints[0].getParameters()),C.extend(h,this.getParameters()),this.setParameters(h),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||_.connector||d.Defaults.Connector||C.Defaults.Connector,!0);var p=null!=_.data&&g.isObject(_.data)?_.data:{};this.getData=function(){return p},this.setData=function(n){p=n||{}},this.mergeData=function(n){p=C.extend(p,n)};var f=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,_.type].join(" ");/[^\s]/.test(f)&&this.addType(f,_.data,!0),this.updateConnectedClass()},g.extend(C.Connection,C.OverlayCapableJsPlumbUIComponent,{applyType:function(n,o,i){var t=null;null!=n.connector&&(null==(t=this.getCachedTypeItem("connector",i.connector))&&(t=this.prepareConnector(n.connector,i.connector),this.cacheTypeItem("connector",t,i.connector)),this.setPreparedConnector(t)),null!=n.detachable&&this.setDetachable(n.detachable),null!=n.reattach&&this.setReattach(n.reattach),n.scope&&(this.scope=n.scope),null!=n.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,n.cssClass);var e=null;n.anchor?null==(e=this.getCachedTypeItem("anchors",i.anchor))&&(e=[this._jsPlumb.instance.makeAnchor(n.anchor),this._jsPlumb.instance.makeAnchor(n.anchor)],this.cacheTypeItem("anchors",e,i.anchor)):n.anchors&&null==(e=this.getCachedTypeItem("anchors",i.anchors))&&(e=[this._jsPlumb.instance.makeAnchor(n.anchors[0]),this._jsPlumb.instance.makeAnchor(n.anchors[1])],this.cacheTypeItem("anchors",e,i.anchors)),null!=e&&(this.endpoints[0].anchor=e[0],this.endpoints[1].anchor=e[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),C.OverlayCapableJsPlumbUIComponent.applyType(this,n)},addClass:function(n,o){o&&(this.endpoints[0].addClass(n),this.endpoints[1].addClass(n),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(n)),this.connector&&this.connector.addClass(n)},removeClass:function(n,o){o&&(this.endpoints[0].removeClass(n),this.endpoints[1].removeClass(n),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(n)),this.connector&&this.connector.removeClass(n)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(n){this._jsPlumb.visible=n,this.connector&&this.connector.setVisible(n),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,(this.target=null)!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(n){this._jsPlumb&&(o(this,this.source,this._jsPlumb.instance,n),o(this,this.target,this._jsPlumb.instance,n))},setHover:function(n){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(n),i.jsPlumb[n?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),i.jsPlumb[n?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(n){this._jsPlumb.cost=n},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(n,o){var i,t={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},e=this._jsPlumb.instance.getRenderMode();return g.isString(n)?i=_(this._jsPlumb.instance,e,n,t,this):g.isArray(n)&&(i=1===n.length?_(this._jsPlumb.instance,e,n[0],t,this):_(this._jsPlumb.instance,e,n[0],g.merge(n[1],t),this)),null!=o&&(i.typeId=o),i},setPreparedConnector:function(n,o,i,t){if(this.connector!==n){var e,_="";if(null!=this.connector&&(_=(e=this.connector).getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=n,t&&this.cacheTypeItem("connector",n,t),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.connector.reattach(this._jsPlumb.instance),this.addClass(_),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=e)for(var w=this.getOverlays(),d=0;d<w.length;d++)w[d].transfer&&w[d].transfer(this.connector);i||this.setListenerComponent(this.connector),o||this.repaint()}},setConnector:function(n,o,i,t){var e=this.prepareConnector(n,t);this.setPreparedConnector(e,o,i,t)},paint:function(n){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){var o=(n=n||{}).timestamp,i=this.targetId,t=this.sourceId;if(null==o||o!==this._jsPlumb.lastPaintedAt){var e=this._jsPlumb.instance.updateOffset({elId:t}).o,_=this._jsPlumb.instance.updateOffset({elId:i}).o,w=this.endpoints[0],d=this.endpoints[1],r=w.anchor.getCurrentLocation({xy:[e.left,e.top],wh:[e.width,e.height],element:w,timestamp:o}),s=d.anchor.getCurrentLocation({xy:[_.left,_.top],wh:[_.width,_.height],element:d,timestamp:o});this.connector.resetBounds(),this.connector.compute({sourcePos:r,targetPos:s,sourceOrientation:w.anchor.getOrientation(w),targetOrientation:d.anchor.getOrientation(d),sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:e,targetInfo:_});var B={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var a in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(a)){var j=this._jsPlumb.overlays[a];j.isVisible()&&(this._jsPlumb.overlayPlacements[a]=j.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(j)),B.minX=Math.min(B.minX,this._jsPlumb.overlayPlacements[a].minX),B.maxX=Math.max(B.maxX,this._jsPlumb.overlayPlacements[a].maxX),B.minY=Math.min(B.minY,this._jsPlumb.overlayPlacements[a].minY),B.maxY=Math.max(B.maxY,this._jsPlumb.overlayPlacements[a].maxY))}var l=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,u=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),c={xmin:Math.min(this.connector.bounds.minX-(l+u),B.minX),ymin:Math.min(this.connector.bounds.minY-(l+u),B.minY),xmax:Math.max(this.connector.bounds.maxX+(l+u),B.maxX),ymax:Math.max(this.connector.bounds.maxY+(l+u),B.maxY)};for(var h in this.connector.paintExtents=c,this.connector.paint(this._jsPlumb.paintStyleInUse,null,c),this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(h)){var p=this._jsPlumb.overlays[h];p.isVisible()&&p.paint(this._jsPlumb.overlayPlacements[h],c)}}this._jsPlumb.lastPaintedAt=o}},repaint:function(n){var o=jsPlumb.extend(n||{},{});o.elId=this.sourceId,this.paint(o)},prepareEndpoint:function(n,o,i,t,e,_,w,d,r){var s;if(t)(i.endpoints[e]=t).addConnection(i);else{_.endpoints||(_.endpoints=[null,null]);var B=r||_.endpoints[e]||_.endpoint||n.Defaults.Endpoints[e]||C.Defaults.Endpoints[e]||n.Defaults.Endpoint||C.Defaults.Endpoint;_.endpointStyles||(_.endpointStyles=[null,null]),_.endpointHoverStyles||(_.endpointHoverStyles=[null,null]);var a=_.endpointStyles[e]||_.endpointStyle||n.Defaults.EndpointStyles[e]||C.Defaults.EndpointStyles[e]||n.Defaults.EndpointStyle||C.Defaults.EndpointStyle;null==a.fill&&null!=_.paintStyle&&(a.fill=_.paintStyle.stroke),null==a.outlineStroke&&null!=_.paintStyle&&(a.outlineStroke=_.paintStyle.outlineStroke),null==a.outlineWidth&&null!=_.paintStyle&&(a.outlineWidth=_.paintStyle.outlineWidth);var j=_.endpointHoverStyles[e]||_.endpointHoverStyle||n.Defaults.EndpointHoverStyles[e]||C.Defaults.EndpointHoverStyles[e]||n.Defaults.EndpointHoverStyle||C.Defaults.EndpointHoverStyle;null!=_.hoverPaintStyle&&(null==j&&(j={}),null==j.fill&&(j.fill=_.hoverPaintStyle.stroke));var l=_.anchors?_.anchors[e]:_.anchor?_.anchor:u(n.Defaults.Anchors[e],d,n)||u(C.Defaults.Anchors[e],d,n)||u(n.Defaults.Anchor,d,n)||u(C.Defaults.Anchor,d,n);s=o({paintStyle:a,hoverPaintStyle:j,endpoint:B,connections:[i],uuid:_.uuids?_.uuids[e]:null,anchor:l,source:w,scope:_.scope,reattach:_.reattach||n.Defaults.ReattachConnections,detachable:_.detachable||n.Defaults.ConnectionsDetachable}),null==t&&s.setDeleteOnEmpty(!0),i.endpoints[e]=s,!1===_.drawEndpoints&&s.setVisible(!1,!0,!0)}return s},replaceEndpoint:function(n,o){var i=this.endpoints[n],t=i.elementId,e=this._jsPlumb.instance.getEndpoints(t),_=e.indexOf(i),w=this.makeEndpoint(0===n,i.element,t,null,o);this.endpoints[n]=w,e.splice(_,1,w),this._jsPlumb.instance.deleteObject({endpoint:i,deleteAttachedObjects:!1}),this._jsPlumb.instance.fire("endpointReplaced",{previous:i,current:w}),this._jsPlumb.instance.router.sourceOrTargetChanged(this.endpoints[1].elementId,this.endpoints[1].elementId,this,this.endpoints[1].element,1)}})}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var M=this.jsPlumbUtil,O=this.jsPlumb;O.AnchorManager=function(D){function n(n,o){return o[0][0]-n[0][0]}function o(n,o){return(n[0][0]<0?-Math.PI-n[0][0]:Math.PI-n[0][0])-(o[0][0]<0?-Math.PI-o[0][0]:Math.PI-o[0][0])}function E(l,n){function o(n,o,i,t,e,_,w){if(0<t.length)for(var d=function(n,o,i,t,e,_,w){for(var d=[],r=o[e?0:1]/(t.length+1),s=0;s<t.length;s++){var B=(s+1)*r,a=_*o[e?1:0];w&&(B=o[e?0:1]-B);var j=e?B:a,l=i[0]+j,u=j/o[0],c=e?a:B,h=i[1]+c,p=c/o[1];d.push([l,h,u,p,t[s][1],t[s][2]])}return d}(0,o,i,function(n,o){return n.sort(o)}(t,u[n]),e,_,"right"===n||"top"===n),r=function(n,o){h[n.id]=[o[0],o[1],o[2],o[3]],p[n.id]=w},s=0;s<d.length;s++){var B=d[s][4],a=B.endpoints[0].elementId===l,j=B.endpoints[1].elementId===l;a&&r(B.endpoints[0],d[s]),j&&r(B.endpoints[1],d[s])}}var i=k.getCachedData(l),t=i.s,e=i.o;o("bottom",t,[e.left,e.top],n.bottom,!0,1,[0,1]),o("top",t,[e.left,e.top],n.top,!0,0,[0,-1]),o("left",t,[e.left,e.top],n.left,!1,0,[-1,0]),o("right",t,[e.left,e.top],n.right,!1,1,[1,0])}var x={},h={},p={},S={},r=this,I={},k=D.jsPlumbInstance,T={},u={top:o,right:n,bottom:n,left:o};this.reset=function(){x={},S={},I={}},this.addFloatingConnection=function(n,o){T[n]=o},this.newConnection=function(_){function n(n,o,i,t,e){w===d&&i.isContinuous&&(_._jsPlumb.instance.removeElement(r[1].canvas),s=!1),M.addToList(S,t,[e,o,i.constructor===O.DynamicAnchor])}var w=_.sourceId,d=_.targetId,r=_.endpoints,s=!0;n(0,r[0],r[0].anchor,d,_),s&&n(0,r[1],r[1].anchor,w,_)};function d(n){!function(n,o){if(n){var i=function(n){return n[4]===o};M.removeWithFunction(n.top,i),M.removeWithFunction(n.left,i),M.removeWithFunction(n.bottom,i),M.removeWithFunction(n.right,i)}}(I[n.elementId],n.id)}this.connectionDetached=function(n,o){function i(n,o,i,t,e){M.removeWithFunction(S[t],function(n){return n[0].id===e.id})}var t=n.connection||n,e=n.sourceId,_=n.targetId,w=t.endpoints;i(0,w[1],w[1].anchor,e,t),i(0,w[0],w[0].anchor,_,t),t.floatingId&&(i(t.floatingIndex,t.floatingEndpoint,t.floatingEndpoint.anchor,t.floatingId,t),d(t.floatingEndpoint)),d(t.endpoints[0]),d(t.endpoints[1]),o||(r.redraw(t.sourceId),t.targetId!==t.sourceId&&r.redraw(t.targetId))},this.add=function(n,o){M.addToList(x,o,n)},this.changeId=function(n,o){S[o]=S[n],x[o]=x[n],delete S[n],delete x[n]},this.getConnectionsFor=function(n){return S[n]||[]},this.getEndpointsFor=function(n){return x[n]||[]},this.deleteEndpoint=function(o){M.removeWithFunction(x[o.elementId],function(n){return n.id===o.id}),d(o)},this.elementRemoved=function(n){delete T[n],delete x[n],x[n]=[]};function N(n,o,i,t,e,_,w,d,r,s,B,a){var j,l,u=-1,c=t.endpoints[w],h=c.id,p=[1,0][w],f=[[o,i],t,e,_,h],C=n[r],g=c._continuousAnchorEdge?n[c._continuousAnchorEdge]:null;if(g){var v=M.findWithFunction(g,function(n){return n[4]===h});if(-1!==v)for(g.splice(v,1),j=0;j<g.length;j++)l=g[j][1],M.addWithFunction(B,l,function(n){return n.id===l.id}),M.addWithFunction(a,g[j][1].endpoints[w],function(n){return n.id===l.endpoints[w].id}),M.addWithFunction(a,g[j][1].endpoints[p],function(n){return n.id===l.endpoints[p].id})}for(j=0;j<C.length;j++)l=C[j][1],1===D.idx&&C[j][3]===_&&-1===u&&(u=j),M.addWithFunction(B,l,function(n){return n.id===l.id}),M.addWithFunction(a,C[j][1].endpoints[w],function(n){return n.id===l.endpoints[w].id}),M.addWithFunction(a,C[j][1].endpoints[p],function(n){return n.id===l.endpoints[p].id});var m=d?-1!==u?u:0:C.length;C.splice(m,0,f),c._continuousAnchorEdge=r}this.sourceOrTargetChanged=function(n,o,i,t,e){if(0===e){if(n!==o){i.sourceId=o,i.source=t,M.removeWithFunction(S[n],function(n){return n[0].id===i.id});var _=M.findWithFunction(S[i.targetId],function(n){return n[0].id===i.id});-1<_&&(S[i.targetId][_][0]=i,S[i.targetId][_][1]=i.endpoints[0],S[i.targetId][_][2]=i.endpoints[0].anchor.constructor===O.DynamicAnchor),M.addToList(S,o,[i,i.endpoints[1],i.endpoints[1].anchor.constructor===O.DynamicAnchor]),i.endpoints[1].anchor.isContinuous&&(i.source===i.target?i._jsPlumb.instance.removeElement(i.endpoints[1].canvas):null==i.endpoints[1].canvas.parentNode&&i._jsPlumb.instance.appendElement(i.endpoints[1].canvas)),i.updateConnectedClass()}}else if(1===e){var w=i.endpoints[0].elementId;i.target=t,i.targetId=o;var d=M.findWithFunction(S[w],function(n){return n[0].id===i.id}),r=M.findWithFunction(S[n],function(n){return n[0].id===i.id});-1!==d&&(S[w][d][0]=i,S[w][d][1]=i.endpoints[1],S[w][d][2]=i.endpoints[1].anchor.constructor===O.DynamicAnchor),-1<r&&(S[n].splice(r,1),M.addToList(S,o,[i,i.endpoints[0],i.endpoints[0].anchor.constructor===O.DynamicAnchor])),i.updateConnectedClass()}},this.rehomeEndpoint=function(n,o,i){var t=x[o]||[],e=k.getId(i);if(e!==o){var _=t.indexOf(n);if(-1<_){var w=t.splice(_,1)[0];r.add(w,e)}}for(var d=0;d<n.connections.length;d++)n.connections[d].sourceId===o?r.sourceOrTargetChanged(o,n.elementId,n.connections[d],n.element,0):n.connections[d].targetId===o&&r.sourceOrTargetChanged(o,n.elementId,n.connections[d],n.element,1)},this.redraw=function(o,n,i,t,e,_){if(!k.isSuspendDrawing()){var w=x[o]||[],d=S[o]||[],r=[],s=[],B=[];i=i||k.timestamp(),t=t||{left:0,top:0},n=n&&{left:n.left+t.left,top:n.top+t.top};for(var a=k.updateOffset({elId:o,offset:n,recalc:!1,timestamp:i}),j={},l=0;l<d.length;l++){var u=d[l][0],c=u.sourceId,h=u.targetId,p=u.endpoints[0].anchor.isContinuous,f=u.endpoints[1].anchor.isContinuous;if(p||f){var C=c+"_"+h,g=j[C],v=u.sourceId===o?1:0;p&&!I[c]&&(I[c]={top:[],right:[],bottom:[],left:[]}),f&&!I[h]&&(I[h]={top:[],right:[],bottom:[],left:[]}),o!==h&&k.updateOffset({elId:h,timestamp:i}),o!==c&&k.updateOffset({elId:c,timestamp:i});var m=k.getCachedData(h),D=k.getCachedData(c);h===c&&(p||f)?(N(I[c],-Math.PI/2,0,u,!1,h,0,!1,"top",0,r,s),N(I[h],-Math.PI/2,0,u,!1,c,1,!1,"top",0,r,s)):(g||(g=this.calculateOrientation(c,h,D.o,m.o,u.endpoints[0].anchor,u.endpoints[1].anchor,u),j[C]=g),p&&N(I[c],g.theta,0,u,!1,h,0,!1,g.a[0],0,r,s),f&&N(I[h],g.theta2,-1,u,!0,c,1,!0,g.a[1],0,r,s)),p&&M.addWithFunction(B,c,function(n){return n===c}),f&&M.addWithFunction(B,h,function(n){return n===h}),M.addWithFunction(r,u,function(n){return n.id===u.id}),(p&&0==v||f&&1==v)&&M.addWithFunction(s,u.endpoints[v],function(n){return n.id===u.endpoints[v].id})}}for(l=0;l<w.length;l++)0===w[l].connections.length&&w[l].anchor.isContinuous&&(I[o]||(I[o]={top:[],right:[],bottom:[],left:[]}),N(I[o],-Math.PI/2,0,{endpoints:[w[l],w[l]],paint:function(){}},!1,o,0,!1,w[l].anchor.getDefaultFace(),0,r,s),M.addWithFunction(B,o,function(n){return n===o}));for(l=0;l<B.length;l++)E(B[l],I[B[l]]);for(l=0;l<w.length;l++)w[l].paint({timestamp:i,offset:a,dimensions:a.s,recalc:!0!==_});for(l=0;l<s.length;l++){var y=k.getCachedData(s[l].elementId);s[l].paint({timestamp:null,offset:y,dimensions:y.s})}for(l=0;l<d.length;l++){var b=d[l][1];if(b.anchor.constructor===O.DynamicAnchor){b.paint({elementWithPrecedence:o,timestamp:i}),M.addWithFunction(r,d[l][0],function(n){return n.id===d[l][0].id});for(var A=0;A<b.connections.length;A++)b.connections[A]!==d[l][0]&&M.addWithFunction(r,b.connections[A],function(n){return n.id===b.connections[A].id})}else M.addWithFunction(r,d[l][0],function(n){return n.id===d[l][0].id})}var P=T[o];for(P&&P.paint({timestamp:i,recalc:!1,elId:o}),l=0;l<r.length;l++)r[l].paint({elId:o,timestamp:null,recalc:!1,clearEdits:e})}};function i(n){M.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var o=n.faces||["top","right","bottom","left"],i=!(!1===n.clockwise),t={},e={top:"bottom",right:"left",left:"right",bottom:"top"},_={top:"right",right:"bottom",left:"top",bottom:"left"},w={top:"left",right:"top",left:"bottom",bottom:"right"},d=i?_:w,r=i?w:_,s=n.cssClass||"",B=null,a=null,j=["left","right"],l=["top","bottom"],u=null,c=0;c<o.length;c++)t[o[c]]=!0;this.getDefaultFace=function(){return 0===o.length?"top":o[0]},this.isRelocatable=function(){return!0},this.isSnapOnRelocate=function(){return!0},this.verifyEdge=function(n){return t[n]?n:t[e[n]]?e[n]:t[d[n]]?d[n]:t[r[n]]?r[n]:n},this.isEdgeSupported=function(n){return null==u?null==a?!0===t[n]:a===n:-1!==u.indexOf(n)},this.setCurrentFace=function(n,o){B=n,o&&null!=a&&(a=B)},this.getCurrentFace=function(){return B},this.getSupportedFaces=function(){var n=[];for(var o in t)t[o]&&n.push(o);return n},this.lock=function(){a=B},this.unlock=function(){a=null},this.isLocked=function(){return null!=a},this.lockCurrentAxis=function(){null!=B&&(u="left"===B||"right"===B?j:l)},this.unlockCurrentAxis=function(){u=null},this.compute=function(n){return h[n.element.id]||[0,0]},this.getCurrentLocation=function(n){return h[n.element.id]||[0,0]},this.getOrientation=function(n){return p[n.id]||[0,0]},this.getCssClass=function(){return s}}k.continuousAnchorFactory={get:function(n){return new i(n)},clear:function(n){delete h[n]}}},O.AnchorManager.prototype.calculateOrientation=function(n,o,i,t,e,_){var w=["left","top","right","bottom"];if(n===o)return{orientation:"identity",a:["top","top"]};var d=Math.atan2(t.centery-i.centery,t.centerx-i.centerx),r=Math.atan2(i.centery-t.centery,i.centerx-t.centerx),s=[],B={};!function(n,o){for(var i=0;i<n.length;i++)B[n[i]]={left:[o[i].left,o[i].centery],right:[o[i].right,o[i].centery],top:[o[i].centerx,o[i].top],bottom:[o[i].centerx,o[i].bottom]}}(["source","target"],[i,t]);for(var a=0;a<w.length;a++)for(var j=0;j<w.length;j++)s.push({source:w[a],target:w[j],dist:Biltong.lineLength(B.source[w[a]],B.target[w[j]])});s.sort(function(n,o){return n.dist<o.dist?-1:n.dist>o.dist?1:0});for(var l=s[0].source,u=s[0].target,c=0;c<s.length&&(l=!e.isContinuous||e.isEdgeSupported(s[c].source)?s[c].source:null,u=!_.isContinuous||_.isEdgeSupported(s[c].target)?s[c].target:null,null==l||null==u);c++);return e.isContinuous&&e.setCurrentFace(l),_.isContinuous&&_.setCurrentFace(u),{a:[l,u],theta:d,theta2:r}},O.Anchor=function(n){this.x=n.x||0,this.y=n.y||0,this.elementId=n.elementId,this.cssClass=n.cssClass||"",this.userDefinedLocation=null,this.orientation=n.orientation||[0,0],this.lastReturnValue=null,this.offsets=n.offsets||[0,0],this.timestamp=null;var o=!1!==n.relocatable;this.isRelocatable=function(){return o};var i=!(this.setRelocatable=function(n){o=n})!==n.snapOnRelocate,_=!(this.isSnapOnRelocate=function(){return i});this.lock=function(){_=!0},this.unlock=function(){_=!1},this.isLocked=function(){return _},M.EventGenerator.apply(this),this.compute=function(n){var o=n.xy,i=n.wh,t=n.timestamp;return n.clearUserDefinedLocation&&(this.userDefinedLocation=null),t&&t===this.timestamp||(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:this.lastReturnValue=[o[0]+this.x*i[0]+this.offsets[0],o[1]+this.y*i[1]+this.offsets[1],this.x,this.y],this.timestamp=t),this.lastReturnValue},this.getCurrentLocation=function(n){return n=n||{},null==this.lastReturnValue||null!=n.timestamp&&this.timestamp!==n.timestamp?this.compute(n):this.lastReturnValue},this.setPosition=function(n,o,i,t,e){_&&!e||(this.x=n,this.y=o,this.orientation=[i,t],this.lastReturnValue=null)}},M.extend(O.Anchor,M.EventGenerator,{equals:function(n){if(!n)return!1;var o=n.getOrientation(),i=this.getOrientation();return this.x===n.x&&this.y===n.y&&this.offsets[0]===n.offsets[0]&&this.offsets[1]===n.offsets[1]&&i[0]===o[0]&&i[1]===o[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(n){this.userDefinedLocation=n},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),O.FloatingAnchor=function(n){O.Anchor.apply(this,arguments);var i=n.reference,o=n.referenceCanvas,t=O.getSize(o),e=null,_=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(n){var o=n.xy,i=[o[0]+t[0]/2,o[1]+t[1]/2];return _=i},this.getOrientation=function(n){if(e)return e;var o=i.getOrientation(n);return[0*Math.abs(o[0])*-1,0*Math.abs(o[1])*-1]},this.over=function(n,o){e=n.getOrientation(o)},this.out=function(){e=null},this.getCurrentLocation=function(n){return null==_?this.compute(n):_}},M.extend(O.FloatingAnchor,O.Anchor);O.DynamicAnchor=function(n){O.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=n.elementId,this.jsPlumbInstance=n.jsPlumbInstance;for(var o=0;o<n.anchors.length;o++)this.anchors[o]=(i=n.anchors[o],t=this.jsPlumbInstance,e=this.elementId,i.constructor===O.Anchor?i:t.makeAnchor(i,e,t));var i,t,e;this.getAnchors=function(){return this.anchors};var w=0<this.anchors.length?this.anchors[0]:null,d=w,r=this,s=n.selector||function(n,o,i,t,e){for(var _,w,d,r,s,B,a,j,l,u=i[0]+t[0]/2,c=i[1]+t[1]/2,h=-1,p=1/0,f=0;f<e.length;f++){var C=(_=e[f],w=u,d=c,s=o,void 0,B=(r=n)[0]+_.x*s[0],a=r[1]+_.y*s[1],j=r[0]+s[0]/2,l=r[1]+s[1]/2,Math.sqrt(Math.pow(w-B,2)+Math.pow(d-a,2))+Math.sqrt(Math.pow(j-B,2)+Math.pow(l-a,2)));C<p&&(h=f+0,p=C)}return e[h]};this.compute=function(n){var o=n.xy,i=n.wh,t=n.txy,e=n.twh;this.timestamp=n.timestamp;var _=r.getUserDefinedLocation();return null!=_?_:this.isLocked()||null==t||null==e?w.compute(n):(n.timestamp=null,w=s(o,i,t,e,this.anchors),this.x=w.x,this.y=w.y,w!==d&&this.fire("anchorChanged",w),(d=w).compute(n))},this.getCurrentLocation=function(n){return this.getUserDefinedLocation()||(null!=w?w.getCurrentLocation(n):null)},this.getOrientation=function(n){return null!=w?w.getOrientation(n):[0,0]},this.over=function(n,o){null!=w&&w.over(n,o)},this.out=function(){null!=w&&w.out()},this.setAnchor=function(n){w=n},this.getCssClass=function(){return w&&w.getCssClass()||""},this.setAnchorCoordinates=function(o){var n=jsPlumbUtil.findWithFunction(this.anchors,function(n){return n.x===o[0]&&n.y===o[1]});return-1!==n&&(this.setAnchor(this.anchors[n]),!0)}},M.extend(O.DynamicAnchor,O.Anchor);function n(i,t,e,_,w,d){O.Anchors[w]=function(n){var o=n.jsPlumbInstance.makeAnchor([i,t,e,_,0,0],n.elementId,n.jsPlumbInstance);return o.type=w,d&&d(o,n),o}}n(.5,0,0,-1,"TopCenter"),n(.5,1,0,1,"BottomCenter"),n(0,.5,-1,0,"LeftMiddle"),n(1,.5,1,0,"RightMiddle"),n(.5,0,0,-1,"Top"),n(.5,1,0,1,"Bottom"),n(0,.5,-1,0,"Left"),n(1,.5,1,0,"Right"),n(.5,.5,0,0,"Center"),n(1,0,0,-1,"TopRight"),n(1,1,0,1,"BottomRight"),n(0,0,0,-1,"TopLeft"),n(0,1,0,1,"BottomLeft"),O.Defaults.DynamicAnchors=function(n){return n.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],n.elementId,n.jsPlumbInstance)},O.Anchors.AutoDefault=function(n){var o=n.jsPlumbInstance.makeDynamicAnchor(O.Defaults.DynamicAnchors(n));return o.type="AutoDefault",o};function o(i,t){O.Anchors[i]=function(n){var o=n.jsPlumbInstance.makeAnchor(["Continuous",{faces:t}],n.elementId,n.jsPlumbInstance);return o.type=i,o}}O.Anchors.Continuous=function(n){return n.jsPlumbInstance.continuousAnchorFactory.get(n)},o("ContinuousLeft",["left"]),o("ContinuousTop",["top"]),o("ContinuousBottom",["bottom"]),o("ContinuousRight",["right"]),n(0,0,0,0,"Assign",function(n,o){var i=o.position||"Fixed";n.positionFinder=i.constructor===String?o.jsPlumbInstance.AnchorPositionFinders[i]:i,n.constructorParams=o}),this.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(n,o,i){return[(n.left-o.left)/i[0],(n.top-o.top)/i[1]]},Grid:function(n,o,i,t){var e=n.left-o.left,_=n.top-o.top,w=i[0]/t.grid[0],d=i[1]/t.grid[1],r=Math.floor(e/w),s=Math.floor(_/d);return[(r*w+w/2)/i[0],(s*d+d/2)/i[1]]}},O.Anchors.Perimeter=function(n){var j=(n=n||{}).anchorCount||60,o=n.shape;if(!o)throw new Error("no shape supplied to Perimeter Anchor type");function i(){for(var n=2*Math.PI/j,o=0,i=[],t=0;t<j;t++){var e=.5+.5*Math.sin(o),_=.5+.5*Math.cos(o);i.push([e,_,0,0]),o+=n}return i}function d(n){for(var B=j/n.length,a=[],o=function(n,o,i,t,e,_,w){for(var d=(i-n)/(B=j*e),r=(t-o)/B,s=0;s<B;s++)a.push([n+d*s,o+r*s,null==_?0:_,null==w?0:w])},i=0;i<n.length;i++)o.apply(null,n[i]);return a}function t(n){for(var o=[],i=0;i<n.length;i++)o.push([n[i][0],n[i][1],n[i][2],n[i][3],1/n.length,n[i][4],n[i][5]]);return d(o)}function e(){return t([[0,0,1,0,0,-1],[1,0,1,1,1,0],[1,1,0,1,0,1],[0,1,0,0,-1,0]])}var _={Circle:i,Ellipse:i,Diamond:function(){return t([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:e,Square:e,Triangle:function(){return t([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(n){for(var o=n.points,i=[],t=0,e=0;e<o.length-1;e++){var _=Math.sqrt(Math.pow(o[e][2]-o[e][0])+Math.pow(o[e][3]-o[e][1]));t+=_,i.push([o[e][0],o[e][1],o[e+1][0],o[e+1][1],_])}for(var w=0;w<i.length;w++)i[w][4]=i[w][4]/t;return d(i)}};if(!_[o])throw new Error("Shape ["+o+"] is unknown by Perimeter Anchor type");var w=_[o](n);n.rotation&&(w=function(n,o){for(var i=[],t=o/180*Math.PI,e=0;e<n.length;e++){var _=n[e][0]-.5,w=n[e][1]-.5;i.push([_*Math.cos(t)-w*Math.sin(t)+.5,_*Math.sin(t)+w*Math.cos(t)+.5,n[e][2],n[e][3]])}return i}(w,n.rotation));var r=n.jsPlumbInstance.makeDynamicAnchor(w);return r.type="Perimeter",r}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";this.jsPlumbUtil;var o=this.jsPlumb;o.DefaultRouter=function(n){this.jsPlumbInstance=n,this.anchorManager=new o.AnchorManager({jsPlumbInstance:n}),this.sourceOrTargetChanged=function(n,o,i,t,e){this.anchorManager.sourceOrTargetChanged(n,o,i,t,e)},this.reset=function(){this.anchorManager.reset()},this.changeId=function(n,o){this.anchorManager.changeId(n,o)},this.elementRemoved=function(n){this.anchorManager.elementRemoved(n)},this.newConnection=function(n){this.anchorManager.newConnection(n)},this.connectionDetached=function(n,o){this.anchorManager.connectionDetached(n,o)}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var e=this,p=e.jsPlumb,c=e.jsPlumbUtil,D=e.Biltong;p.Segments={AbstractSegment:function(n){this.params=n,this.findClosestPointOnPath=function(n,o){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(n.x1,n.x2),minY:Math.min(n.y1,n.y2),maxX:Math.max(n.x1,n.x2),maxY:Math.max(n.y1,n.y2)}},this.lineIntersection=function(n,o,i,t){return[]},this.boxIntersection=function(n,o,i,t){var e=[];return e.push.apply(e,this.lineIntersection(n,o,n+i,o)),e.push.apply(e,this.lineIntersection(n+i,o,n+i,o+t)),e.push.apply(e,this.lineIntersection(n+i,o+t,n,o+t)),e.push.apply(e,this.lineIntersection(n,o+t,n,o)),e},this.boundingBoxIntersection=function(n){return this.boxIntersection(n.x,n.y,n.w,n.y)}},Straight:function(n){var d,a,r,j,l,u,c;p.Segments.AbstractSegment.apply(this,arguments);this.type="Straight",this.getLength=function(){return d},this.getGradient=function(){return a},this.getCoordinates=function(){return{x1:j,y1:u,x2:l,y2:c}},this.setCoordinates=function(n){j=n.x1,u=n.y1,l=n.x2,c=n.y2,d=Math.sqrt(Math.pow(l-j,2)+Math.pow(c-u,2)),a=D.gradient({x:j,y:u},{x:l,y:c}),r=-1/a},this.setCoordinates({x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2}),this.getBounds=function(){return{minX:Math.min(j,l),minY:Math.min(u,c),maxX:Math.max(j,l),maxY:Math.max(u,c)}},this.pointOnPath=function(n,o){if(0!==n||o){if(1!==n||o){var i=o?0<n?n:d+n:n*d;return D.pointOnLine({x:j,y:u},{x:l,y:c},i)}return{x:l,y:c}}return{x:j,y:u}},this.gradientAtPoint=function(n){return a},this.pointAlongPathFrom=function(n,o,i){var t=this.pointOnPath(n,i),e=o<=0?{x:j,y:u}:{x:l,y:c};return o<=0&&1<Math.abs(o)&&(o*=-1),D.pointOnLine(t,e,o)};function s(n,o,i){return i>=Math.min(n,o)&&i<=Math.max(n,o)}function B(n,o,i){return Math.abs(i-n)<Math.abs(i-o)?n:o}this.findClosestPointOnPath=function(n,o){var i={d:1/0,x:null,y:null,l:null,x1:j,x2:l,y1:u,y2:c};if(0===a)i.y=u,i.x=s(j,l,n)?n:B(j,l,n);else if(a===1/0||a===-1/0)i.x=j,i.y=s(u,c,o)?o:B(u,c,o);else{var t=u-a*j,e=(o-r*n-t)/(a-r),_=a*e+t;i.x=s(j,l,e)?e:B(j,l,e),i.y=s(u,c,_)?_:B(u,c,_)}var w=D.lineLength([i.x,i.y],[j,u]);return i.d=D.lineLength([n,o],[i.x,i.y]),i.l=w/d,i};var h=function(n,o,i){return o<i?o<=n&&n<=i:n<=o&&i<=n};this.lineIntersection=function(n,o,i,t){var e=Math.abs(D.gradient({x:n,y:o},{x:i,y:t})),_=Math.abs(a),w=_===1/0?j:u-_*j,d=[],r=e===1/0?n:o-e*n;if(e!==_)if(e===1/0&&0===_)h(n,j,l)&&h(u,o,t)&&(d=[n,u]);else if(0===e&&_===1/0)h(o,u,c)&&h(j,n,i)&&(d=[j,o]);else{var s,B;e===1/0?h(s=n,j,l)&&h(B=_*n+w,o,t)&&(d=[s,B]):0===e?h(B=o,u,c)&&h(s=(o-w)/_,n,i)&&(d=[s,B]):(B=_*(s=(r-w)/(_-e))+w,h(s,j,l)&&h(B,u,c)&&(d=[s,B]))}return d},this.boxIntersection=function(n,o,i,t){var e=[];return e.push.apply(e,this.lineIntersection(n,o,n+i,o)),e.push.apply(e,this.lineIntersection(n+i,o,n+i,o+t)),e.push.apply(e,this.lineIntersection(n+i,o+t,n,o+t)),e.push.apply(e,this.lineIntersection(n,o+t,n,o)),e},this.boundingBoxIntersection=function(n){return this.boxIntersection(n.x,n.y,n.w,n.h)}},Arc:function(d){function n(n,o){return D.theta([d.cx,d.cy],[n,o])}p.Segments.AbstractSegment.apply(this,arguments);var _=2*Math.PI;this.radius=d.r,this.anticlockwise=d.ac,this.type="Arc",d.startAngle&&d.endAngle?(this.startAngle=d.startAngle,this.endAngle=d.endAngle,this.x1=d.cx+this.radius*Math.cos(d.startAngle),this.y1=d.cy+this.radius*Math.sin(d.startAngle),this.x2=d.cx+this.radius*Math.cos(d.endAngle),this.y2=d.cy+this.radius*Math.sin(d.endAngle)):(this.startAngle=n(d.x1,d.y1),this.endAngle=n(d.x2,d.y2),this.x1=d.x1,this.y1=d.y1,this.x2=d.x2,this.y2=d.y2),this.endAngle<0&&(this.endAngle+=_),this.startAngle<0&&(this.startAngle+=_);var o=this.endAngle<this.startAngle?this.endAngle+_:this.endAngle;this.sweep=Math.abs(o-this.startAngle),this.anticlockwise&&(this.sweep=_-this.sweep);var r=2*Math.PI*this.radius,i=this.sweep/_,w=r*i;this.getLength=function(){return w},this.getBounds=function(){return{minX:d.cx-d.r,maxX:d.cx+d.r,minY:d.cy-d.r,maxY:d.cy+d.r}};function s(n){var o=Math.floor(n),i=Math.ceil(n);return n-o<1e-10?o:i-n<1e-10?i:n}this.pointOnPath=function(n,o){if(0===n)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===n)return{x:this.x2,y:this.y2,theta:this.endAngle};o&&(n/=w);var i=function(n,o){if(n.anticlockwise){var i=n.startAngle<n.endAngle?n.startAngle+_:n.startAngle;return i-Math.abs(i-n.endAngle)*o}var t=n.endAngle<n.startAngle?n.endAngle+_:n.endAngle,e=Math.abs(t-n.startAngle);return n.startAngle+e*o}(this,n),t=d.cx+d.r*Math.cos(i),e=d.cy+d.r*Math.sin(i);return{x:s(t),y:s(e),theta:i}},this.gradientAtPoint=function(n,o){var i=this.pointOnPath(n,o),t=D.normal([d.cx,d.cy],[i.x,i.y]);return this.anticlockwise||t!==1/0&&t!==-1/0||(t*=-1),t},this.pointAlongPathFrom=function(n,o,i){var t=this.pointOnPath(n,i),e=o/r*2*Math.PI,_=this.anticlockwise?-1:1,w=t.theta+_*e;return{x:d.cx+this.radius*Math.cos(w),y:d.cy+this.radius*Math.sin(w)}}},Bezier:function(n){this.curve=[{x:n.x1,y:n.y1},{x:n.cp1x,y:n.cp1y},{x:n.cp2x,y:n.cp2y},{x:n.x2,y:n.y2}];var w=function(n){var o={x:0,y:0};if(0===n)return this.curve[0];var i=this.curve.length-1;if(1===n)return this.curve[i];var t=this.curve,e=1-n;if(0==i)return this.curve[0];if(1==i)return{x:e*t[0].x+n*t[1].x,y:e*t[0].y+n*t[1].y};if(i<4){var _,w,d,r=e*e,s=n*n,B=0;return 2==i?(t=[t[0],t[1],t[2],o],_=r,w=e*n*2,d=s):3==i&&(_=r*e,w=r*n*3,d=e*s*3,B=n*s),{x:_*t[0].x+w*t[1].x+d*t[2].x+B*t[3].x,y:_*t[0].y+w*t[1].y+d*t[2].y+B*t[3].y}}return o}.bind(this),o=function(){!function(n){return n[0].x===n[1].x&&n[0].y===n[1].y}(this.curve)||(this.length=0);for(var n,o,i=function(n){var o=[];n--;for(var i=0;i<=n;i++)o.push(w(i/n));return o}(16),t=this.length=0;t<15;t++){var e=i[t],_=i[t+1];this.length+=(n=e,o=_,Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2)))}}.bind(this);p.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(n.x1,n.x2,n.cp1x,n.cp2x),minY:Math.min(n.y1,n.y2,n.cp1y,n.cp2y),maxX:Math.max(n.x1,n.x2,n.cp1x,n.cp2x),maxY:Math.max(n.y1,n.y2,n.cp1y,n.cp2y)},this.type="Bezier",o();function t(n,o,i){return i&&(o=e.jsBezier.locationAlongCurveFrom(n,0<o?0:1,o)),o}this.pointOnPath=function(n,o){return n=t(this.curve,n,o),e.jsBezier.pointOnCurve(this.curve,n)},this.gradientAtPoint=function(n,o){return n=t(this.curve,n,o),e.jsBezier.gradientAtPoint(this.curve,n)},this.pointAlongPathFrom=function(n,o,i){return n=t(this.curve,n,i),e.jsBezier.pointAlongCurveFrom(this.curve,n,o)},this.getLength=function(){return this.length},this.getBounds=function(){return this.bounds},this.findClosestPointOnPath=function(n,o){var i=e.jsBezier.nearestPointOnCurve({x:n,y:o},this.curve);return{d:Math.sqrt(Math.pow(i.point.x-n,2)+Math.pow(i.point.y-o,2)),x:i.point.x,y:i.point.y,l:1-i.location,s:this}},this.lineIntersection=function(n,o,i,t){return e.jsBezier.lineIntersection(n,o,i,t,this.curve)}}},p.SegmentRenderer={getPath:function(e,n){return{Straight:function(n){var o=e.getCoordinates();return(n?"M "+o.x1+" "+o.y1+" ":"")+"L "+o.x2+" "+o.y2},Bezier:function(n){var o=e.params;return(n?"M "+o.x2+" "+o.y2+" ":"")+"C "+o.cp2x+" "+o.cp2y+" "+o.cp1x+" "+o.cp1y+" "+o.x1+" "+o.y1},Arc:function(n){var o=e.params,i=e.sweep>Math.PI?1:0,t=e.anticlockwise?0:1;return(n?"M"+e.x1+" "+e.y1+" ":"")+"A "+e.radius+" "+o.r+" 0 "+i+","+t+" "+e.x2+" "+e.y2}}[e.type](n)}};function a(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()}p.Connectors.AbstractConnector=function(n){a.apply(this,arguments);var w=[],_=0,d=[],r=[],o=n.stub||0,C=c.isArray(o)?o[0]:o,g=c.isArray(o)?o[1]:o,i=n.gap||0,v=c.isArray(i)?i[0]:i,m=c.isArray(i)?i[1]:i,t=null,e=null;this.getPathData=function(){for(var n="",o=0;o<w.length;o++)n+=p.SegmentRenderer.getPath(w[o],0===o),n+=" ";return n},this.findSegmentForPoint=function(n,o){for(var i={d:1/0,s:null,x:null,y:null,l:null},t=0;t<w.length;t++){var e=w[t].findClosestPointOnPath(n,o);e.d<i.d&&(i.d=e.d,i.l=e.l,i.x=e.x,i.y=e.y,i.s=w[t],i.x1=e.x1,i.x2=e.x2,i.y1=e.y1,i.y2=e.y2,i.index=t,i.connectorLocation=d[t][0]+e.l*(d[t][1]-d[t][0]))}return i},this.lineIntersection=function(n,o,i,t){for(var e=[],_=0;_<w.length;_++)e.push.apply(e,w[_].lineIntersection(n,o,i,t));return e},this.boxIntersection=function(n,o,i,t){for(var e=[],_=0;_<w.length;_++)e.push.apply(e,w[_].boxIntersection(n,o,i,t));return e},this.boundingBoxIntersection=function(n){for(var o=[],i=0;i<w.length;i++)o.push.apply(o,w[i].boundingBoxIntersection(n));return o};function s(n,o){var i,t,e;if(o&&(n=0<n?n/_:(_+n)/_),1===n)i=w.length-1,e=1;else if(0===n)i=e=0;else if(.5<=n){for(e=i=0,t=d.length-1;-1<t;t--)if(d[t][1]>=n&&d[t][0]<=n){e=(n-d[i=t][0])/r[t];break}}else for(i=d.length-1,e=1,t=0;t<d.length;t++)if(d[t][1]>=n){e=(n-d[i=t][0])/r[t];break}return{segment:w[i],proportion:e,index:i}}this.setSegments=function(n){t=[];for(var o=_=0;o<n.length;o++)t.push(n[o]),_+=n[o].getLength()},this.getLength=function(){return _};function B(n){this.strokeWidth=n.strokeWidth;var o=D.quadrant(n.sourcePos,n.targetPos),i=n.targetPos[0]<n.sourcePos[0],t=n.targetPos[1]<n.sourcePos[1],e=n.strokeWidth||1,_=n.sourceEndpoint.anchor.getOrientation(n.sourceEndpoint),w=n.targetEndpoint.anchor.getOrientation(n.targetEndpoint),d=i?n.targetPos[0]:n.sourcePos[0],r=t?n.targetPos[1]:n.sourcePos[1],s=Math.abs(n.targetPos[0]-n.sourcePos[0]),B=Math.abs(n.targetPos[1]-n.sourcePos[1]);if(0===_[0]&&0===_[1]||0===w[0]&&0===w[1]){var a=B<s?0:1,j=[1,0][a];w=[],(_=[])[a]=n.sourcePos[a]>n.targetPos[a]?-1:1,w[a]=n.sourcePos[a]>n.targetPos[a]?1:-1,_[j]=0,w[j]=0}var l=i?s+v*_[0]:v*_[0],u=t?B+v*_[1]:v*_[1],c=i?m*w[0]:s+m*w[0],h=t?m*w[1]:B+m*w[1],p=_[0]*w[0]+_[1]*w[1],f={sx:l,sy:u,tx:c,ty:h,lw:e,xSpan:Math.abs(c-l),ySpan:Math.abs(h-u),mx:(l+c)/2,my:(u+h)/2,so:_,to:w,x:d,y:r,w:s,h:B,segment:o,startStubX:l+_[0]*C,startStubY:u+_[1]*C,endStubX:c+w[0]*g,endStubY:h+w[1]*g,isXGreaterThanStubTimes2:Math.abs(l-c)>C+g,isYGreaterThanStubTimes2:Math.abs(u-h)>C+g,opposite:-1==p,perpendicular:0==p,orthogonal:1==p,sourceAxis:0===_[0]?"y":"x",points:[d,r,s,B,l,u,c,h],stubs:[C,g]};return f.anchorOrientation=f.opposite?"opposite":f.orthogonal?"orthogonal":"perpendicular",f}this.getSegments=function(){return w},this.updateBounds=function(n){var o=n.getBounds();this.bounds.minX=Math.min(this.bounds.minX,o.minX),this.bounds.maxX=Math.max(this.bounds.maxX,o.maxX),this.bounds.minY=Math.min(this.bounds.minY,o.minY),this.bounds.maxY=Math.max(this.bounds.maxY,o.maxY)};return this.pointOnPath=function(n,o){var i=s(n,o);return i.segment&&i.segment.pointOnPath(i.proportion,!1)||[0,0]},this.gradientAtPoint=function(n,o){var i=s(n,o);return i.segment&&i.segment.gradientAtPoint(i.proportion,!1)||0},this.pointAlongPathFrom=function(n,o,i){var t=s(n,i);return t.segment&&t.segment.pointAlongPathFrom(t.proportion,o,!1)||[0,0]},this.compute=function(n){e=B.call(this,n),_=w.length=d.length=r.length=0,this._compute(e,n),this.x=e.points[0],this.y=e.points[1],this.w=e.points[2],this.h=e.points[3],this.segment=e.segment,function(){for(var n=0,o=0;o<w.length;o++){var i=w[o].getLength();r[o]=i/_,d[o]=[n,n+=i/_]}}()},{addSegment:function(n,o,i){if(i.x1!==i.x2||i.y1!==i.y2){var t=new p.Segments[o](i);w.push(t),_+=t.getLength(),n.updateBounds(t)}},prepareCompute:B,sourceStub:C,targetStub:g,maxStub:Math.max(C,g),sourceGap:v,targetGap:m,maxGap:Math.max(v,m)}},c.extend(p.Connectors.AbstractConnector,a),p.Endpoints.AbstractEndpoint=function(n){return a.apply(this,arguments),{compute:this.compute=function(n,o,i,t){var e=this._compute.apply(this,arguments);return this.x=e[0],this.y=e[1],this.w=e[2],this.h=e[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,e},cssClass:n.cssClass}},c.extend(p.Endpoints.AbstractEndpoint,a),p.Endpoints.Dot=function(n){this.type="Dot";p.Endpoints.AbstractEndpoint.apply(this,arguments);n=n||{},this.radius=n.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(n,o,i,t){this.radius=i.radius||this.radius;var e=n[0]-this.radius,_=n[1]-this.radius,w=2*this.radius,d=2*this.radius;if(i.stroke){var r=i.strokeWidth||1;e-=r,_-=r,w+=2*r,d+=2*r}return[e,_,w,d,this.radius]}},c.extend(p.Endpoints.Dot,p.Endpoints.AbstractEndpoint),p.Endpoints.Rectangle=function(n){this.type="Rectangle";p.Endpoints.AbstractEndpoint.apply(this,arguments);n=n||{},this.width=n.width||20,this.height=n.height||20,this._compute=function(n,o,i,t){var e=i.width||this.width,_=i.height||this.height;return[n[0]-e/2,n[1]-_/2,e,_]}},c.extend(p.Endpoints.Rectangle,p.Endpoints.AbstractEndpoint);function _(n){p.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]}c.extend(_,p.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(n){this._jsPlumb.displayElements.push(n)}}),p.Endpoints.Image=function(n){this.type="Image",_.apply(this,arguments),p.Endpoints.AbstractEndpoint.apply(this,arguments);var t=n.onload,o=n.src||n.url,i=n.cssClass?" "+n.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=n.width,this._jsPlumb.heightToUse=n.height,this._jsPlumb.endpoint=n.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,t&&t(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(n,o){var i=n.constructor===String?n:n.src;t=o,this._jsPlumb.img.src=i,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(o,t),this._compute=function(n,o,i,t){return this.anchorPoint=n,this._jsPlumb.ready?[n[0]-this._jsPlumb.widthToUse/2,n[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=p.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+i),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(n,o,i){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var t=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,e=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;c.sizeElement(this.canvas,t,e,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(n,o){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(n,o):e.setTimeout(function(){this.paint(n,o)}.bind(this),200))}},c.extend(p.Endpoints.Image,[_,p.Endpoints.AbstractEndpoint],{cleanup:function(n){n&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),p.Endpoints.Blank=function(n){p.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank",_.apply(this,arguments),this._compute=function(n,o,i,t){return[n[0],n[1],10,0]};var o=n.cssClass?" "+n.cssClass:"";this.canvas=p.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+o),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(n,o){c.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},c.extend(p.Endpoints.Blank,[p.Endpoints.AbstractEndpoint,_],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),p.Endpoints.Triangle=function(n){this.type="Triangle",p.Endpoints.AbstractEndpoint.apply(this,arguments);var w=this;(n=n||{}).width=n.width||55,n.height=n.height||55,this.width=n.width,this.height=n.height,this._compute=function(n,o,i,t){var e=i.width||w.width,_=i.height||w.height;return[n[0]-e/2,n[1]-_/2,e,_]}};var o=p.Overlays.AbstractOverlay=function(n){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=n.component,this.loc=null==n.location?.5:n.location,this.endpointLoc=null==n.endpointLocation?[.5,.5]:n.endpointLocation,this.visible=!1!==n.visible};o.prototype={cleanup:function(n){n&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(n,o){},setVisible:function(n){this.visible=n,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(n){this.loc+=n,this.component.repaint()},setLocation:function(n){this.loc=n,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},p.Overlays.Arrow=function(t){this.type="Arrow",o.apply(this,arguments),this.isAppendedAtTopLevel=!1,t=t||{};var n=this;this.length=t.length||20,this.width=t.width||20,this.id=t.id,this.direction=(t.direction||1)<0?-1:1;var l=t.paintStyle||{"stroke-width":1},u=t.foldback||.623;this.computeMaxSize=function(){return 1.5*n.width},this.elementCreated=function(n,o){if(this.path=n,t.events)for(var i in t.events)p.on(n,i,t.events[i])},this.draw=function(n,o){var i,t,e,_;if(n.pointAlongPathFrom){if(c.isString(this.loc)||1<this.loc||this.loc<0){var w=parseInt(this.loc,10),d=this.loc<0?1:0;i=n.pointAlongPathFrom(d,w,!1),t=n.pointAlongPathFrom(d,w-this.direction*this.length/2,!1),e=D.pointOnLine(i,t,this.length)}else if(1===this.loc){if(i=n.pointOnPath(this.loc),t=n.pointAlongPathFrom(this.loc,-this.length),e=D.pointOnLine(i,t,this.length),-1===this.direction){var r=e;e=i,i=r}}else if(0===this.loc){if(e=n.pointOnPath(this.loc),t=n.pointAlongPathFrom(this.loc,this.length),i=D.pointOnLine(e,t,this.length),-1===this.direction){var s=e;e=i,i=s}}else i=n.pointAlongPathFrom(this.loc,this.direction*this.length/2),t=n.pointOnPath(this.loc),e=D.pointOnLine(i,t,this.length);var B={hxy:i,tail:_=D.perpendicularLineTo(i,e,this.width),cxy:D.pointOnLine(i,e,u*this.length)},a=l.stroke||o.stroke,j=l.fill||o.stroke;return{component:n,d:B,"stroke-width":l.strokeWidth||o.strokeWidth,stroke:a,fill:j,minX:Math.min(i.x,_[0].x,_[1].x),maxX:Math.max(i.x,_[0].x,_[1].x),minY:Math.min(i.y,_[0].y,_[1].y),maxY:Math.max(i.y,_[0].y,_[1].y)}}return{component:n,minX:0,maxX:0,minY:0,maxY:0}}},c.extend(p.Overlays.Arrow,o,{updateFrom:function(n){this.length=n.length||this.length,this.width=n.width||this.width,this.direction=null!=n.direction?n.direction:this.direction,this.foldback=n.foldback||this.foldback},cleanup:function(){this.path&&this.path.parentNode&&this.path.parentNode.removeChild(this.path)}}),p.Overlays.PlainArrow=function(n){n=n||{};var o=p.extend(n,{foldback:1});p.Overlays.Arrow.call(this,o),this.type="PlainArrow"},c.extend(p.Overlays.PlainArrow,p.Overlays.Arrow),p.Overlays.Diamond=function(n){var o=(n=n||{}).length||40,i=p.extend(n,{length:o/2,foldback:2});p.Overlays.Arrow.call(this,i),this.type="Diamond"},c.extend(p.Overlays.Diamond,p.Overlays.Arrow);function B(n,o){return null!=n._jsPlumb.cachedDimensions&&!o||(n._jsPlumb.cachedDimensions=n.getDimensions()),n._jsPlumb.cachedDimensions}function i(i){p.jsPlumbUIComponent.apply(this,arguments),o.apply(this,arguments);var n=this.fire;this.fire=function(){n.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=i.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=i.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=i.create,this._jsPlumb.initiallyInvisible=!1===i.visible,this.getElement=function(){if(null==this._jsPlumb.div){var n=this._jsPlumb.div=p.getElement(this._jsPlumb.create(this._jsPlumb.component));n.style.position="absolute",jsPlumb.addClass(n,this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:i.cssClass?i.cssClass:"")),this._jsPlumb.instance.appendElement(n),this._jsPlumb.instance.getId(n);var o="translate(-50%, -50%)";(this.canvas=n).style.webkitTransform=o,n.style.mozTransform=o,n.style.msTransform=o,n.style.oTransform=o,n.style.transform=o,n._jsPlumb=this,!1===i.visible&&(n.style.display="none")}return this._jsPlumb.div},this.draw=function(n,o,i){var t=B(this);if(null==t||2!==t.length)return{minX:0,maxX:0,minY:0,maxY:0};var e={x:0,y:0};if(i)e={x:i[0],y:i[1]};else if(n.pointOnPath){var _=this.loc,w=!1;(c.isString(this.loc)||this.loc<0||1<this.loc)&&(_=parseInt(this.loc,10),w=!0),e=n.pointOnPath(_,w)}else{var d=this.loc.constructor===Array?this.loc:this.endpointLoc;e={x:d[0]*n.w,y:d[1]*n.h}}var r=e.x-t[0]/2,s=e.y-t[1]/2;return{component:n,d:{minx:r,miny:s,td:t,cxy:e},minX:r,maxX:r+t[0],minY:s,maxY:s+t[1]}}}c.extend(i,[p.jsPlumbUIComponent,o],{getDimensions:function(){return[1,1]},setVisible:function(n){this._jsPlumb.div&&(this._jsPlumb.div.style.display=n?"block":"none",n&&this._jsPlumb.initiallyInvisible&&(B(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(n){n?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(n,o){null!=this._jsPlumb.div&&n.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var n=B(this);return Math.max(n[0],n[1])},paint:function(n,o){this._jsPlumb.initialised||(this.getElement(),n.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=n.component.x+n.d.minx+"px",this._jsPlumb.div.style.top=n.component.y+n.d.miny+"px"}}),p.Overlays.Custom=function(n){this.type="Custom",i.apply(this,arguments)},c.extend(p.Overlays.Custom,i),p.Overlays.GuideLines=function(){var d=this;d.length=50,d.strokeWidth=5,this.type="GuideLines",o.apply(this,arguments),p.jsPlumbUIComponent.apply(this,arguments),this.draw=function(n,o){var i=n.pointAlongPathFrom(d.loc,d.length/2),t=n.pointOnPath(d.loc),e=D.pointOnLine(i,t,d.length),_=D.perpendicularLineTo(i,e,40),w=D.perpendicularLineTo(e,i,20);return{connector:n,head:i,tail:e,headLine:w,tailLine:_,minX:Math.min(i.x,e.x,w[0].x,w[1].x),minY:Math.min(i.y,e.y,w[0].y,w[1].y),maxX:Math.max(i.x,e.x,w[0].x,w[1].x),maxY:Math.max(i.y,e.y,w[0].y,w[1].y)}}},p.Overlays.Label=function(n){this.labelStyle=n.labelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var o=p.extend({create:function(){return p.createElement("div")}},n);if(p.Overlays.Custom.call(this,o),this.type="Label",this.label=n.label||"",this.labelText=null,this.labelStyle){var i=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",i.style.font=this.labelStyle.font,i.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(i.style.background=this.labelStyle.fill),0<this.labelStyle.borderWidth){var t=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";i.style.border=this.labelStyle.borderWidth+"px solid "+t}this.labelStyle.padding&&(i.style.padding=this.labelStyle.padding)}},c.extend(p.Overlays.Label,p.Overlays.Custom,{cleanup:function(n){n&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(n){this.label=n,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),i.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var n=this.label(this);this.getElement().innerHTML=n.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(n){null!=n.label&&this.setLabel(n.label)}})}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var o=this.jsPlumb,n=this.jsPlumbUtil;o.Connectors.AbstractBezierConnector=function(n){var j,l=!1!==(n=n||{}).showLoopback,u=(n.curviness,n.margin||5),c=(n.proximityLimit,n.orientation&&"clockwise"===n.orientation),h=n.loopbackRadius||25;return this._compute=function(n,o){var i=o.sourcePos,t=o.targetPos,e=Math.abs(i[0]-t[0]),_=Math.abs(i[1]-t[1]);if(l&&o.sourceEndpoint.elementId===o.targetEndpoint.elementId){!0;var w=o.sourcePos[0],d=o.sourcePos[1]-u,r=w,s=d-h,B=r-h,a=s-h;_=e=2*h,n.points[0]=B,n.points[1]=a,n.points[2]=e,n.points[3]=_,j.addSegment(this,"Arc",{loopback:!0,x1:w-B+4,y1:d-a,startAngle:0,endAngle:2*Math.PI,r:h,ac:!c,x2:w-B-4,y2:d-a,cx:r-B,cy:s-a})}else!1,this._computeBezier(n,o,i,t,e,_)},j=o.Connectors.AbstractConnector.apply(this,arguments)},n.extend(o.Connectors.AbstractBezierConnector,o.Connectors.AbstractConnector);function i(n){n=n||{},this.type="Bezier";var j=o.Connectors.AbstractBezierConnector.apply(this,arguments),r=n.curviness||150;this.getCurviness=function(){return r},this._findControlPoint=function(n,o,i,t,e,_,w){var d=[];return _[0]!==w[0]||_[1]===w[1]?(0===w[0]?d.push(i[0]<o[0]?n[0]+10:n[0]-10):d.push(n[0]+r*w[0]),0===w[1]?d.push(i[1]<o[1]?n[1]+10:n[1]-10):d.push(n[1]+r*_[1])):(0===_[0]?d.push(o[0]<i[0]?n[0]+10:n[0]-10):d.push(n[0]-r*_[0]),0===_[1]?d.push(o[1]<i[1]?n[1]+10:n[1]-10):d.push(n[1]+r*w[1])),d},this._computeBezier=function(n,o,i,t,e,_){var w,d,r=i[0]<t[0]?e:0,s=i[1]<t[1]?_:0,B=i[0]<t[0]?0:e,a=i[1]<t[1]?0:_;w=this._findControlPoint([r,s],i,t,o.sourceEndpoint,o.targetEndpoint,n.so,n.to),d=this._findControlPoint([B,a],t,i,o.targetEndpoint,o.sourceEndpoint,n.to,n.so),j.addSegment(this,"Bezier",{x1:r,y1:s,x2:B,y2:a,cp1x:w[0],cp1y:w[1],cp2x:d[0],cp2y:d[1]})}}o.Connectors.Bezier=i,n.extend(i,o.Connectors.AbstractBezierConnector)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";function n(n){n=n||{},this.type="StateMachine";var f,C=o.Connectors.AbstractBezierConnector.apply(this,arguments),g=n.curviness||10,v=n.margin||5,m=n.proximityLimit||80;n.orientation&&n.orientation,this._computeBezier=function(n,o,i,t,e,_){var w=o.sourcePos[0]<o.targetPos[0]?0:e,d=o.sourcePos[1]<o.targetPos[1]?0:_,r=o.sourcePos[0]<o.targetPos[0]?e:0,s=o.sourcePos[1]<o.targetPos[1]?_:0;0===o.sourcePos[2]&&(w-=v),1===o.sourcePos[2]&&(w+=v),0===o.sourcePos[3]&&(d-=v),1===o.sourcePos[3]&&(d+=v),0===o.targetPos[2]&&(r-=v),1===o.targetPos[2]&&(r+=v),0===o.targetPos[3]&&(s-=v),1===o.targetPos[3]&&(s+=v);var B,a,j,l,u=(w+r)/2,c=(d+s)/2,h=function(n,o,i,t){return n<=i&&t<=o?1:n<=i&&o<=t?2:i<=n&&o<=t?3:4}(w,d,r,s),p=Math.sqrt(Math.pow(r-w,2)+Math.pow(s-d,2));B=(f=function(n,o,i,t,e,_,w,d,r){return d<=r?[n,o]:1===i?t[3]<=0&&1<=e[3]?[n+(t[2]<.5?-1*_:_),o]:1<=t[2]&&e[2]<=0?[n,o+(t[3]<.5?-1*w:w)]:[n+-1*_,o+-1*w]:2===i?1<=t[3]&&e[3]<=0?[n+(t[2]<.5?-1*_:_),o]:1<=t[2]&&e[2]<=0?[n,o+(t[3]<.5?-1*w:w)]:[n+_,o+-1*w]:3===i?1<=t[3]&&e[3]<=0?[n+(t[2]<.5?-1*_:_),o]:t[2]<=0&&1<=e[2]?[n,o+(t[3]<.5?-1*w:w)]:[n+-1*_,o+-1*w]:4===i?t[3]<=0&&1<=e[3]?[n+(t[2]<.5?-1*_:_),o]:t[2]<=0&&1<=e[2]?[n,o+(t[3]<.5?-1*w:w)]:[n+_,o+-1*w]:void 0}(u,c,h,o.sourcePos,o.targetPos,g,g,p,m))[0],a=f[0],j=f[1],l=f[1],C.addSegment(this,"Bezier",{x1:r,y1:s,x2:w,y2:d,cp1x:B,cp1y:j,cp2x:a,cp2y:l})}}var o=this.jsPlumb,i=this.jsPlumbUtil;o.Connectors.StateMachine=n,i.extend(n,o.Connectors.AbstractBezierConnector)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var i=this.jsPlumb,n=this.jsPlumbUtil,A="Straight";i.Connectors.Flowchart=function(n){this.type="Flowchart",(n=n||{}).stub=null==n.stub?30:n.stub;function o(n){return n<0?-1:0===n?0:1}function g(n){return[o(n[2]-n[0]),o(n[3]-n[1])]}function a(n,o,i,t){if(c!==o||y!==i){var e=null==c?t.sx:c,_=null==y?t.sy:y,w=e===o?"v":"h";c=o,y=i,n.push([e,_,o,i,w])}}function v(n){return Math.sqrt(Math.pow(n[0]-n[2],2)+Math.pow(n[1]-n[3],2))}function m(n){var o=[];return o.push.apply(o,n),o}var j,D=i.Connectors.AbstractConnector.apply(this,arguments),l=null==n.midpoint?.5:n.midpoint,u=!0===n.alwaysRespectStubs,c=null,y=null,b=null!=n.cornerRadius?n.cornerRadius:0;n.loopbackRadius;this._compute=function(h,s){j=[],y=c=null;function n(){return[h.startStubX,h.startStubY,h.endStubX,h.endStubY]}var o={perpendicular:n,orthogonal:n,opposite:function(n){var o=h,i="x"===n?0:1;return!u&&{x:function(){return 1===o.so[i]&&(o.startStubX>o.endStubX&&o.tx>o.startStubX||o.sx>o.endStubX&&o.tx>o.sx)||-1===o.so[i]&&(o.startStubX<o.endStubX&&o.tx<o.startStubX||o.sx<o.endStubX&&o.tx<o.sx)},y:function(){return 1===o.so[i]&&(o.startStubY>o.endStubY&&o.ty>o.startStubY||o.sy>o.endStubY&&o.ty>o.sy)||-1===o.so[i]&&(o.startStubY<o.endStubY&&o.ty<o.startStubY||o.sy<o.endStubY&&o.ty<o.sy)}}[n]()?{x:[(h.sx+h.tx)/2,h.startStubY,(h.sx+h.tx)/2,h.endStubY],y:[h.startStubX,(h.sy+h.ty)/2,h.endStubX,(h.sy+h.ty)/2]}[n]:[h.startStubX,h.startStubY,h.endStubX,h.endStubY]}}[h.anchorOrientation](h.sourceAxis),B="x"===h.sourceAxis?0:1,i="x"===h.sourceAxis?1:0,t=o[B],e=o[i],_=o[2+B],w=o[2+i];a(j,o[0],o[1],h);var p=h.startStubX+(h.endStubX-h.startStubX)*l,f=h.startStubY+(h.endStubY-h.startStubY)*l,C={x:[0,1],y:[1,0]},d={perpendicular:function(n){var o=h,i={x:[[o.startStubX,o.endStubX],null,[o.endStubX,o.startStubX]],y:[[o.startStubY,o.endStubY],null,[o.endStubY,o.startStubY]]},t={x:[[p,o.startStubY],[p,o.endStubY]],y:[[o.startStubX,f],[o.endStubX,f]]},e={x:[[o.endStubX,o.startStubY]],y:[[o.startStubX,o.endStubY]]},_={x:[[o.startStubX,o.endStubY],[o.endStubX,o.endStubY]],y:[[o.endStubX,o.startStubY],[o.endStubX,o.endStubY]]},w={x:[[o.startStubX,f],[o.endStubX,f],[o.endStubX,o.endStubY]],y:[[p,o.startStubY],[p,o.endStubY],[o.endStubX,o.endStubY]]},d={x:[o.startStubY,o.endStubY],y:[o.startStubX,o.endStubX]},r=C[n][0],s=C[n][1],B=o.so[r]+1,a=o.to[s]+1,j=-1===o.to[s]&&d[n][1]<d[n][0]||1===o.to[s]&&d[n][1]>d[n][0],l=i[n][B][0],u=i[n][B][1],c={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[n][B][a];return o.segment===c[3]||o.segment===c[2]&&j?t[n]:o.segment===c[2]&&u<l?e[n]:o.segment===c[2]&&l<=u||o.segment===c[1]&&!j?w[n]:o.segment===c[0]||o.segment===c[1]&&j?_[n]:void 0},orthogonal:function(n,o,i,t,e){var _=h,w={x:-1===_.so[0]?Math.min(o,t):Math.max(o,t),y:-1===_.so[1]?Math.min(o,t):Math.max(o,t)}[n];return{x:[[w,i],[w,e],[t,e]],y:[[i,w],[e,w],[e,t]]}[n]},opposite:function(n,o,i,t){var e=h,_={x:"y",y:"x"}[n],w={x:"height",y:"width"}[n],d=e["is"+n.toUpperCase()+"GreaterThanStubTimes2"];if(s.sourceEndpoint.elementId!==s.targetEndpoint.elementId)return!d||1===e.so[B]&&t<o||-1===e.so[B]&&o<t?{x:[[o,f],[t,f]],y:[[p,o],[p,t]]}[n]:1===e.so[B]&&o<t||-1===e.so[B]&&t<o?{x:[[p,e.sy],[p,e.ty]],y:[[e.sx,f],[e.tx,f]]}[n]:void 0;var r=i+(1-s.sourceEndpoint.anchor[_])*s.sourceInfo[w]+D.maxStub;return{x:[[o,r],[t,r]],y:[[r,o],[r,t]]}[n]}}[h.anchorOrientation](h.sourceAxis,t,e,_,w);if(d)for(var r=0;r<d.length;r++)a(j,d[r][0],d[r][1],h);a(j,o[2],o[3],h),a(j,h.tx,h.ty,h),function(n,o,i){for(var t,e,_,w=null,d=0;d<o.length-1;d++){if(w=w||m(o[d]),t=m(o[d+1]),e=g(w),_=g(t),0<b&&w[4]!==t[4]){var r=Math.min(v(w),v(t)),s=Math.min(b,r/2);w[2]-=e[0]*s,w[3]-=e[1]*s,t[0]+=_[0]*s,t[1]+=_[1]*s;var B=e[1]===_[0]&&1===_[0]||e[1]===_[0]&&0===_[0]&&e[0]!==_[1]||e[1]===_[0]&&-1===_[0],a=(t[1]>w[3]?1:-1)==(t[0]>w[2]?1:-1),j=a&&B||!a&&!B?t[0]:w[2],l=a&&B||!a&&!B?w[3]:t[1];D.addSegment(n,A,{x1:w[0],y1:w[1],x2:w[2],y2:w[3]}),D.addSegment(n,"Arc",{r:s,x1:w[2],y1:w[3],x2:t[0],y2:t[1],cx:j,cy:l,ac:B})}else{var u=w[2]===w[0]?0:w[2]>w[0]?i.lw/2:-i.lw/2,c=w[3]===w[1]?0:w[3]>w[1]?i.lw/2:-i.lw/2;D.addSegment(n,A,{x1:w[0]-u,y1:w[1]-c,x2:w[2]+u,y2:w[3]+c})}w=t}null!=t&&D.addSegment(n,A,{x1:t[0],y1:t[1],x2:t[2],y2:t[3]})}(this,j,h)}},n.extend(i.Connectors.Flowchart,i.Connectors.AbstractConnector)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";function n(n){this.type=t;var i=o.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(n,o){i.addSegment(this,t,{x1:n.sx,y1:n.sy,x2:n.startStubX,y2:n.startStubY}),i.addSegment(this,t,{x1:n.startStubX,y1:n.startStubY,x2:n.endStubX,y2:n.endStubY}),i.addSegment(this,t,{x1:n.endStubX,y1:n.endStubY,x2:n.tx,y2:n.ty})}}var o=this.jsPlumb,i=this.jsPlumbUtil,t="Straight";o.Connectors.Straight=n,i.extend(n,o.Connectors.AbstractConnector)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";function a(n,o){for(var i in o)n.setAttribute(i,""+o[i])}function l(n,o){return(o=o||{}).version="1.1",o.xmlns=i,h.createElementNS(i,n,null,null,o)}function r(n){return"position:absolute;left:"+n[0]+"px;top:"+n[1]+"px"}function u(n){for(var o=n.querySelectorAll(" defs,linearGradient,radialGradient"),i=0;i<o.length;i++)o[i].parentNode.removeChild(o[i])}function j(n,o,i,t,e){if(o.setAttribute("fill",i.fill?i.fill:"none"),o.setAttribute("stroke",i.stroke?i.stroke:"none"),i.gradient?function(n,o,i,t,e){var _,w="jsplumb_gradient_"+e._jsPlumb.instance.idstamp();u(n),_=i.gradient.offset?l("radialGradient",{id:w}):l("linearGradient",{id:w,gradientUnits:"userSpaceOnUse"});var d=l("defs");n.appendChild(d),d.appendChild(_);for(var r=0;r<i.gradient.stops.length;r++){var s=1===e.segment||2===e.segment?r:i.gradient.stops.length-1-r,B=i.gradient.stops[s][1],a=l("stop",{offset:Math.floor(100*i.gradient.stops[r][0])+"%","stop-color":B});_.appendChild(a)}var j=i.stroke?"stroke":"fill";o.setAttribute(j,"url(#"+w+")")}(n,o,i,0,e):(u(n),o.setAttribute("style","")),i.strokeWidth&&o.setAttribute("stroke-width",i.strokeWidth),i[f]&&i.strokeWidth&&!i[p]){var _=-1===i[f].indexOf(",")?" ":",",w=i[f].split(_),d="";w.forEach(function(n){d+=Math.floor(n*i.strokeWidth)+_}),o.setAttribute(p,d)}else i[p]&&o.setAttribute(p,i[p]);for(var r in B)i[r]&&o.setAttribute(B[r],i[r])}function c(n,o,i){n.childNodes.length>i?n.insertBefore(o,n.childNodes[i]):n.appendChild(o)}var h=this.jsPlumb,s=this.jsPlumbUtil,B={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},p="stroke-dasharray",f="dashstyle",i="http://www.w3.org/2000/svg";s.svg={node:l,attr:a,pos:r};function o(w){var n=w.pointerEventsSpec||"all",d={};h.jsPlumbUIComponent.apply(this,w.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var o=w.cssClass+" "+(w.originalArgs[0].cssClass||""),i={style:"",width:0,height:0,"pointer-events":n,position:"absolute"};this.svg=l("svg",i),w.useDivWrapper?(this.canvas=h.createElement("div",{position:"absolute"}),s.sizeElement(this.canvas,0,0,1,1),this.canvas.className=o):(a(this.svg,{class:o}),this.canvas=this.svg),w._jsPlumb.appendElement(this.canvas,w.originalArgs[0].parent),w.useDivWrapper&&this.canvas.appendChild(this.svg);var t=[this.canvas];return this.getDisplayElements=function(){return t},this.appendDisplayElement=function(n){t.push(n)},this.paint=function(n,o,i){if(null!=n){var t,e=[this.x,this.y],_=[this.w,this.h];null!=i&&(i.xmin<0&&(e[0]+=i.xmin),i.ymin<0&&(e[1]+=i.ymin),_[0]=i.xmax+(i.xmin<0?-i.xmin:0),_[1]=i.ymax+(i.ymin<0?-i.ymin:0)),t=w.useDivWrapper?(s.sizeElement(this.canvas,e[0],e[1],0<_[0]?_[0]:1,0<_[1]?_[1]:1),e[0]=0,e[1]=0,r([0,0])):r([e[0],e[1]]),d.paint.apply(this,arguments),a(this.svg,{style:t,width:_[0]||1,height:_[1]||1})}},{renderer:d}}s.extend(o,h.jsPlumbUIComponent,{cleanup:function(n){n||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(n){var o=n.getContainer();this.canvas&&null==this.canvas.parentNode&&o.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&o.appendChild(this.bgCanvas)},setVisible:function(n){this.canvas&&(this.canvas.style.display=n?"block":"none")}}),h.ConnectorRenderers.svg=function(s){var B=this;o.apply(this,[{cssClass:s._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:s._jsPlumb}]).renderer.paint=function(n,o,i){var t=B.getSegments(),e=[0,0];if(i.xmin<0&&(e[0]=-i.xmin),i.ymin<0&&(e[1]=-i.ymin),0<t.length){var _={d:B.getPathData(),transform:"translate("+e[0]+","+e[1]+")","pointer-events":s["pointer-events"]||"visibleStroke"},w=null;B.x,B.y,B.w,B.h;if(n.outlineStroke){var d=n.outlineWidth||1,r=n.strokeWidth+2*d;delete(w=h.extend({},n)).gradient,w.stroke=n.outlineStroke,w.strokeWidth=r,null==B.bgPath?(B.bgPath=l("path",_),h.addClass(B.bgPath,h.connectorOutlineClass),c(B.svg,B.bgPath,0)):a(B.bgPath,_),j(B.svg,B.bgPath,w,0,B)}null==B.path?(B.path=l("path",_),c(B.svg,B.path,n.outlineStroke?1:0)):a(B.path,_),j(B.svg,B.path,n,0,B)}}},s.extend(h.ConnectorRenderers.svg,o);var n=h.SvgEndpoint=function(n){o.apply(this,[{cssClass:n._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:n._jsPlumb}]).renderer.paint=function(n){var o=h.extend({},n);o.outlineStroke&&(o.stroke=o.outlineStroke),null==this.node?(this.node=this.makeNode(o),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),j(this.svg,this.node,o,(this.x,this.y,this.w,this.h),this),r(this.node,(this.x,this.y))}.bind(this)};s.extend(n,o),h.Endpoints.svg.Dot=function(){h.Endpoints.Dot.apply(this,arguments),n.apply(this,arguments),this.makeNode=function(n){return l("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(n){a(n,{cx:this.w/2,cy:this.h/2,r:this.radius})}},s.extend(h.Endpoints.svg.Dot,[h.Endpoints.Dot,n]),h.Endpoints.svg.Rectangle=function(){h.Endpoints.Rectangle.apply(this,arguments),n.apply(this,arguments),this.makeNode=function(n){return l("rect",{width:this.w,height:this.h})},this.updateNode=function(n){a(n,{width:this.w,height:this.h})}},s.extend(h.Endpoints.svg.Rectangle,[h.Endpoints.Rectangle,n]),h.Endpoints.svg.Image=h.Endpoints.Image,h.Endpoints.svg.Blank=h.Endpoints.Blank,h.Overlays.svg.Label=h.Overlays.Label,h.Overlays.svg.Custom=h.Overlays.Custom;function t(n,e){n.apply(this,e),h.jsPlumbUIComponent.apply(this,e),this.isAppendedAtTopLevel=!1,this.path=null,this.paint=function(n,o){if(n.component.svg&&o){null==this.path&&(this.path=l("path",{"pointer-events":"all"}),n.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,n.component),this.canvas=n.component.svg);var i=e&&1===e.length&&e[0].cssClass||"",t=[0,0];o.xmin<0&&(t[0]=-o.xmin),o.ymin<0&&(t[1]=-o.ymin),a(this.path,{d:_(n.d),class:i,stroke:n.stroke?n.stroke:null,fill:n.fill?n.fill:null,transform:"translate("+t[0]+","+t[1]+")"})}};var _=function(n){return isNaN(n.cxy.x)||isNaN(n.cxy.y)?"":"M"+n.hxy.x+","+n.hxy.y+" L"+n.tail[0].x+","+n.tail[0].y+" L"+n.cxy.x+","+n.cxy.y+" L"+n.tail[1].x+","+n.tail[1].y+" L"+n.hxy.x+","+n.hxy.y};this.transfer=function(n){n.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),n.canvas.appendChild(this.path))}}var e={cleanup:function(n){null!=this.path&&(n?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(n,o){this.path&&o.canvas&&o.canvas.appendChild(this.path)},setVisible:function(n){null!=this.path&&(this.path.style.display=n?"block":"none")}};s.extend(t,[h.jsPlumbUIComponent,h.Overlays.AbstractOverlay]),h.Overlays.svg.Arrow=function(){t.apply(this,[h.Overlays.Arrow,arguments])},s.extend(h.Overlays.svg.Arrow,[h.Overlays.Arrow,t],e),h.Overlays.svg.PlainArrow=function(){t.apply(this,[h.Overlays.PlainArrow,arguments])},s.extend(h.Overlays.svg.PlainArrow,[h.Overlays.PlainArrow,t],e),h.Overlays.svg.Diamond=function(){t.apply(this,[h.Overlays.Diamond,arguments])},s.extend(h.Overlays.svg.Diamond,[h.Overlays.Diamond,t],e),h.Overlays.svg.GuideLines=function(){var t,e,_=null,w=this;h.Overlays.GuideLines.apply(this,arguments),this.paint=function(n,o){null==_&&(_=l("path"),n.connector.svg.appendChild(_),w.attachListeners(_,n.connector),w.attachListeners(_,w),t=l("path"),n.connector.svg.appendChild(t),w.attachListeners(t,n.connector),w.attachListeners(t,w),e=l("path"),n.connector.svg.appendChild(e),w.attachListeners(e,n.connector),w.attachListeners(e,w));var i=[0,0];o.xmin<0&&(i[0]=-o.xmin),o.ymin<0&&(i[1]=-o.ymin),a(_,{d:d(n.head,n.tail),stroke:"red",fill:null,transform:"translate("+i[0]+","+i[1]+")"}),a(t,{d:d(n.tailLine[0],n.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+i[0]+","+i[1]+")"}),a(e,{d:d(n.headLine[0],n.headLine[1]),stroke:"green",fill:null,transform:"translate("+i[0]+","+i[1]+")"})};var d=function(n,o){return"M "+n.x+","+n.y+" L"+o.x+","+o.y}},s.extend(h.Overlays.svg.GuideLines,h.Overlays.GuideLines)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";function e(t,n){var o="_katavorio_"+(n=n||"main"),i=t[o],e=t.getEventManager();return i||((i=new d({bind:e.on,unbind:e.off,getSize:u.getSize,getConstrainingRectangle:function(n){return[n.parentNode.scrollWidth,n.parentNode.scrollHeight]},getPosition:function(n,o){var i=t.getOffset(n,o,n._katavorioDrag?n.offsetParent:null);return[i.left,i.top]},setPosition:function(n,o){n.style.left=o[0]+"px",n.style.top=o[1]+"px"},addClass:u.addClass,removeClass:u.removeClass,intersects:r.intersects,indexOf:function(n,o){return n.indexOf(o)},scope:t.getDefaultScope(),css:{noSelect:t.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}})).setZoom(t.getZoom()),t[o]=i,t.bind("zoom",i.setZoom)),i}function l(t,e){function n(n){if(null==e[n])return t[n];if(a.isString(e[n])){var o=e[n].match(/-=/)?-1:1,i=e[n].substring(2);return t[n]+o*i}return e[n]}return[n("left"),n("top")]}function n(n,o){if(null==o)return[0,0];var i=h(o),t=c(i,0);return[t[n+"X"],t[n+"Y"]]}function o(s){var B={},n=[],a={},j={},l={};this.register=function(_){var w,d=s.getId(_);B[d]||(B[d]=_,n.push(_),a[d]={});var r=function(n){if(n)for(var o=0;o<n.childNodes.length;o++)if(3!==n.childNodes[o].nodeType&&8!==n.childNodes[o].nodeType){var i=jsPlumb.getElement(n.childNodes[o]),t=s.getId(n.childNodes[o],null,!0);if(t&&j[t]&&0<j[t]){w=w||s.getOffset(_);var e=s.getOffset(i);a[d][t]={id:t,offset:{left:e.left-w.left,top:e.top-w.top}},l[t]=d}r(n.childNodes[o])}};r(_)},this.updateOffsets=function(n,o){if(null!=n){o=o||{};var i,t=jsPlumb.getElement(n),e=s.getId(t),_=a[e];if(_)for(var w in _)if(_.hasOwnProperty(w)){var d=jsPlumb.getElement(w),r=o[w]||s.getOffset(d);if(null==d.offsetParent&&null!=a[e][w])continue;i=i||s.getOffset(t),a[e][w]={id:w,offset:{left:r.left-i.left,top:r.top-i.top}},l[w]=e}}},this.endpointAdded=function(n,o){o=o||s.getId(n);var i=document.body,t=n.parentNode;for(j[o]=j[o]?j[o]+1:1;null!=t&&t!==i;){var e=s.getId(t,null,!0);if(e&&B[e]){var _=s.getOffset(t);if(null==a[e][o]){var w=s.getOffset(n);a[e][o]={id:o,offset:{left:w.left-_.left,top:w.top-_.top}},l[o]=e}break}t=t.parentNode}},this.endpointDeleted=function(n){if(j[n.elementId]&&(j[n.elementId]--,j[n.elementId]<=0))for(var o in a)a.hasOwnProperty(o)&&a[o]&&(delete a[o][n.elementId],delete l[n.elementId])},this.changeId=function(n,o){a[o]=a[n],a[n]={},l[o]=l[n],l[n]=null},this.getElementsForDraggable=function(n){return a[n]},this.elementRemoved=function(n){var o=l[n];o&&(delete a[o][n],delete l[n])},this.reset=function(){B={},n=[],a={},j={}},this.dragEnded=function(n){if(null!=n.offsetParent){var o=s.getId(n),i=l[o];i&&this.updateOffsets(i)}},this.setParent=function(n,o,i,t,e){var _=l[o];a[t]||(a[t]={});var w=s.getOffset(i),d=e||s.getOffset(n);_&&a[_]&&delete a[_][o],a[t][o]={id:o,offset:{left:d.left-w.left,top:d.top-w.top}},l[o]=t},this.clearParent=function(n,o){var i=l[o];i&&(delete a[i][o],delete l[o])},this.revalidateParent=function(n,o,i){var t=l[o];if(t){var e={};e[o]=i,this.updateOffsets(t,e),s.revalidate(t)}},this.getDragAncestor=function(n){var o=jsPlumb.getElement(n),i=s.getId(o),t=l[i];return t?jsPlumb.getElement(t):null}}function _(n,o,i){o=a.fastTrim(o),void 0!==n.className.baseVal?n.className.baseVal=o:n.className=o;try{var t=n.classList;if(null!=t){for(;0<t.length;)t.remove(t.item(0));for(var e=0;e<i.length;e++)i[e]&&t.add(i[e])}}catch(n){a.log("JSPLUMB: cannot set class list",n)}}function w(n){return void 0===n.className.baseVal?n.className:n.className.baseVal}function t(n,o,i){function t(n,o){for(var i=0;i<o.length;i++)if(n)-1===e.indexOf(o[i])&&e.push(o[i]);else{var t=e.indexOf(o[i]);-1!==t&&e.splice(t,1)}}o=null==o?[]:a.isArray(o)?o:o.split(/\s+/),i=null==i?[]:a.isArray(i)?i:i.split(/\s+/);var e=w(n).split(/\s+/);t(!0,o),t(!1,i),_(n,e.join(" "),e)}var i=this,u=i.jsPlumb,a=i.jsPlumbUtil,d=i.Katavorio,r=i.Biltong,s=n.bind(this,"page"),B=n.bind(this,"screen"),j=n.bind(this,"client"),c=function(n,o){return n.item?n.item(o):n[o]},h=function(n){return n.touches&&0<n.touches.length?n.touches:n.changedTouches&&0<n.changedTouches.length?n.changedTouches:n.targetTouches&&0<n.targetTouches.length?n.targetTouches:[n]};i.jsPlumb.extend(i.jsPlumbInstance.prototype,{headless:!1,pageLocation:s,screenLocation:B,clientLocation:j,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new o(this)),this.dragManager},recalculateOffsets:function(n){this.getDragManager().updateOffsets(n)},createElement:function(n,o,i,t){return this.createElementNS(null,n,o,i,t)},createElementNS:function(n,o,i,t,e){var _,w=null==n?document.createElement(o):document.createElementNS(n,o);for(_ in i=i||{})w.style[_]=i[_];for(_ in t&&(w.className=t),e=e||{})w.setAttribute(_,""+e[_]);return w},getAttribute:function(n,o){return null!=n.getAttribute?n.getAttribute(o):null},setAttribute:function(n,o,i){null!=n.setAttribute&&n.setAttribute(o,i)},setAttributes:function(n,o){for(var i in o)o.hasOwnProperty(i)&&n.setAttribute(i,o[i])},appendToRoot:function(n){document.body.appendChild(n)},getRenderModes:function(){return["svg"]},getClass:w,addClass:function(n,o){jsPlumb.each(n,function(n){t(n,o)})},hasClass:function(n,o){return(n=jsPlumb.getElement(n)).classList?n.classList.contains(o):-1!==w(n).indexOf(o)},removeClass:function(n,o){jsPlumb.each(n,function(n){t(n,null,o)})},toggleClass:function(n,o){jsPlumb.hasClass(n,o)?jsPlumb.removeClass(n,o):jsPlumb.addClass(n,o)},updateClasses:function(n,o,i){jsPlumb.each(n,function(n){t(n,o,i)})},setClass:function(n,o){null!=o&&jsPlumb.each(n,function(n){_(n,o,o.split(/\s+/))})},setPosition:function(n,o){n.style.left=o.left+"px",n.style.top=o.top+"px"},getPosition:function(i){function n(n){var o=i.style[n];return o?o.substring(0,o.length-2):0}return{left:n("left"),top:n("top")}},getStyle:function(n,o){return void 0!==window.getComputedStyle?getComputedStyle(n,null).getPropertyValue(o):n.currentStyle[o]},getSelector:function(n,o){return 1===arguments.length?null!=n.nodeType?n:document.querySelectorAll(n):n.querySelectorAll(o)},getOffset:function(n,o,i){n=jsPlumb.getElement(n),i=i||this.getContainer();for(var t={left:n.offsetLeft,top:n.offsetTop},e=o||null!=i&&n!==i&&n.offsetParent!==i?n.offsetParent:null,_=function(n){null!=n&&n!==document.body&&(0<n.scrollTop||0<n.scrollLeft)&&(t.left-=n.scrollLeft,t.top-=n.scrollTop)}.bind(this);null!=e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,_(e),e=o?e.offsetParent:e.offsetParent===i?null:e.offsetParent;if(null!=i&&!o&&(0<i.scrollTop||0<i.scrollLeft)){var w=null!=n.offsetParent?this.getStyle(n.offsetParent,"position"):"static",d=this.getStyle(n,"position");"absolute"!==d&&"fixed"!==d&&"absolute"!==w&&"fixed"!==w&&(t.left-=i.scrollLeft,t.top-=i.scrollTop)}return t},getPositionOnElement:function(n,o,i){var t=void 0!==o.getBoundingClientRect?o.getBoundingClientRect():{left:0,top:0,width:0,height:0},e=document.body,_=document.documentElement,w=window.pageYOffset||_.scrollTop||e.scrollTop,d=window.pageXOffset||_.scrollLeft||e.scrollLeft,r=_.clientTop||e.clientTop||0,s=_.clientLeft||e.clientLeft||0,B=t.top+w-r+0*i,a=t.left+d-s+0*i,j=jsPlumb.pageLocation(n),l=t.width||o.offsetWidth*i,u=t.height||o.offsetHeight*i;return[(j[0]-a)/l,(j[1]-B)/u]},getAbsolutePosition:function(i){function n(n){var o=i.style[n];if(o)return parseFloat(o.substring(0,o.length-2))}return[n("left"),n("top")]},setAbsolutePosition:function(n,o,i,t){i?this.animate(n,{left:"+="+(o[0]-i[0]),top:"+="+(o[1]-i[1])},t):(n.style.left=o[0]+"px",n.style.top=o[1]+"px")},getSize:function(n){return[n.offsetWidth,n.offsetHeight]},getWidth:function(n){return n.offsetWidth},getHeight:function(n){return n.offsetHeight},getRenderMode:function(){return"svg"},draggable:function(n,o){var i;return n=a.isArray(n)||null!=n.length&&!a.isString(n)?n:[n],Array.prototype.slice.call(n).forEach(function(n){(i=this.info(n)).el&&this._initDraggableIfNecessary(i.el,!0,o,i.id,!0)}.bind(this)),this},snapToGrid:function(n,t,e){var _=[],o=function(n){var o=this.info(n);if(null!=o.el&&o.el._katavorioDrag){var i=o.el._katavorioDrag.snap(t,e);this.revalidate(o.el),_.push([o.el,i])}}.bind(this);if(1===arguments.length||3===arguments.length)o(n,t,e);else{var i=this.getManagedElements();for(var w in i)o(w,n,t)}return _},initDraggable:function(n,o,i){e(this,i).draggable(n,o),n._jsPlumbDragOptions=o},destroyDraggable:function(n,o){e(this,o).destroyDraggable(n),delete n._jsPlumbDragOptions},unbindDraggable:function(n,o,i,t){e(this,t).destroyDraggable(n,o,i)},setDraggable:function(n,o){return jsPlumb.each(n,function(n){this.isDragSupported(n)&&(this._draggableStates[this.getAttribute(n,"id")]=o,this.setElementDraggable(n,o))}.bind(this))},_draggableStates:{},toggleDraggable:function(n){var i;return jsPlumb.each(n,function(n){var o=this.getAttribute(n,"id");return i=!(i=null!=this._draggableStates[o]&&this._draggableStates[o]),this._draggableStates[o]=i,this.setDraggable(n,i),i}.bind(this)),i},_initDraggableIfNecessary:function(n,o,i,t,e){if(!jsPlumb.headless&&(null!=o&&o&&jsPlumb.isDragSupported(n,this))){var _=i||this.Defaults.DragOptions;if(_=jsPlumb.extend({},_),jsPlumb.isAlreadyDraggable(n,this))i.force&&this.initDraggable(n,_);else{var w=jsPlumb.dragEvents.drag,d=jsPlumb.dragEvents.stop,r=jsPlumb.dragEvents.start;this.manage(t,n),_[r]=a.wrap(_[r],function(n){var o=n.el._jsPlumbDragOptions,i=!0;return o.canDrag&&(i=o.canDrag()),i&&(this.setHoverSuspended(!0),this.select({source:n.el}).addClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:n.el}).addClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),this.setConnectionBeingDragged(!0)),i}.bind(this)),_[w]=a.wrap(_[w],function(n){var o=this.getUIPosition(arguments,this.getZoom());if(null!=o){var i=n.el._jsPlumbDragOptions;this.draw(n.el,o,null,!0),i._dragging&&this.addClass(n.el,"jtk-dragged"),i._dragging=!0}}.bind(this)),_[d]=a.wrap(_[d],function(n){for(var o,i=n.selection,t=function(n){null!=n[1]&&(o=this.getUIPosition([{el:n[2].el,pos:[n[1].left,n[1].top]}]),this.draw(n[2].el,o)),null!=n[0]._jsPlumbDragOptions&&delete n[0]._jsPlumbDragOptions._dragging,this.removeClass(n[0],"jtk-dragged"),this.select({source:n[2].el}).removeClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:n[2].el}).removeClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),this.getDragManager().dragEnded(n[2].el)}.bind(this),e=0;e<i.length;e++)t(i[e]);this.setHoverSuspended(!1),this.setConnectionBeingDragged(!1)}.bind(this));var s=this.getId(n);this._draggableStates[s]=!0;var B=this._draggableStates[s];_.disabled=null!=B&&!B,this.initDraggable(n,_),this.getDragManager().register(n),e&&this.fire("elementDraggable",{el:n,options:_})}}},animationSupported:!0,getElement:function(n){return null==n?null:"string"==typeof(n="string"==typeof n?n:null!=n.length&&null==n.enctype?n[0]:n)?document.getElementById(n):n},removeElement:function(n){e(this).elementRemoved(n),this.getEventManager().remove(n)},doAnimate:function(n,o,i){i=i||{};var t=this.getOffset(n),e=l(t,o),_=e[0]-t.left,w=e[1]-t.top,d=i.duration||250,r=d/15,s=15/d*_,B=15/d*w,a=0,j=setInterval(function(){u.setPosition(n,{left:t.left+s*(a+1),top:t.top+B*(a+1)}),null!=i.step&&i.step(a,Math.ceil(r)),r<=++a&&(window.clearInterval(j),null!=i.complete&&i.complete())},15)},destroyDroppable:function(n,o){e(this,o).destroyDroppable(n)},unbindDroppable:function(n,o,i,t){e(this,t).destroyDroppable(n,o,i)},droppable:function(n,o){var i;return n=a.isArray(n)||null!=n.length&&!a.isString(n)?n:[n],(o=o||{}).allowLoopback=!1,Array.prototype.slice.call(n).forEach(function(n){(i=this.info(n)).el&&this.initDroppable(i.el,o)}.bind(this)),this},initDroppable:function(n,o,i){e(this,i).droppable(n,o)},isAlreadyDraggable:function(n){return null!=n._katavorioDrag},isDragSupported:function(n,o){return!0},isDropSupported:function(n,o){return!0},isElementDraggable:function(n){return(n=u.getElement(n))._katavorioDrag&&n._katavorioDrag.isEnabled()},getDragObject:function(n){return n[0].drag.getDragElement()},getDragScope:function(n){return n._katavorioDrag&&n._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(n){return n[0].e},getUIPosition:function(n,o){var i=n[0].el;if(null==i.offsetParent)return null;var t=n[0].finalPos||n[0].pos,e={left:t[0],top:t[1]};if(i._katavorioDrag&&i.offsetParent!==this.getContainer()){var _=this.getOffset(i.offsetParent);e.left+=_.left,e.top+=_.top}return e},setDragFilter:function(n,o,i){n._katavorioDrag&&n._katavorioDrag.setFilter(o,i)},setElementDraggable:function(n,o){(n=u.getElement(n))._katavorioDrag&&n._katavorioDrag.setEnabled(o)},setDragScope:function(n,o){n._katavorioDrag&&n._katavorioDrag.k.setDragScope(n,o)},setDropScope:function(n,o){n._katavorioDrop&&0<n._katavorioDrop.length&&n._katavorioDrop[0].k.setDropScope(n,o)},addToPosse:function(n,o){var i=Array.prototype.slice.call(arguments,1),t=e(this);u.each(n,function(n){(n=[u.getElement(n)]).push.apply(n,i),t.addToPosse.apply(t,n)})},setPosse:function(n,o){var i=Array.prototype.slice.call(arguments,1),t=e(this);u.each(n,function(n){(n=[u.getElement(n)]).push.apply(n,i),t.setPosse.apply(t,n)})},removeFromPosse:function(n,o){var i=Array.prototype.slice.call(arguments,1),t=e(this);u.each(n,function(n){(n=[u.getElement(n)]).push.apply(n,i),t.removeFromPosse.apply(t,n)})},removeFromAllPosses:function(n){var o=e(this);u.each(n,function(n){o.removeFromAllPosses(u.getElement(n))})},setPosseState:function(n,o,i){var t=e(this);u.each(n,function(n){t.setPosseState(u.getElement(n),o,i)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(n){n._katavorioDrag&&n._katavorioDrag.abort()},addToDragSelection:function(n){var o=this.getElement(n);null==o||!o._isJsPlumbGroup&&null!=o._jsPlumbGroup||e(this).select(n)},removeFromDragSelection:function(n){e(this).deselect(n)},getDragSelection:function(){return e(this).getSelection()},clearDragSelection:function(){e(this).deselectAll()},trigger:function(n,o,i,t){this.getEventManager().trigger(n,o,i,t)},doReset:function(){for(var n in this)0===n.indexOf("_katavorio_")&&this[n].reset()},getEventManager:function(){return function(n){var o=n._mottle;return o=o||(n._mottle=new i.Mottle)}(this)},on:function(n,o,i){return this.getEventManager().on.apply(this,arguments),this},off:function(n,o,i){return this.getEventManager().off.apply(this,arguments),this}});var p,f;p=u.init,(f=function(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?p():setTimeout(f,9)})()}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";function o(a){var _={},r={},s={},j=this;function B(n,o){for(var i=a.getContainer();;){if(null==n||n===i)return!1;if(n===o)return!0;n=n.parentNode}}function t(n,o){for(var i=n.getEl().querySelectorAll(".jtk-managed"),t=0;t<i.length;t++)a[o?"show":"hide"](i[t],!0)}a.bind("connection",function(n){var o=a.getGroupFor(n.source),i=a.getGroupFor(n.target);null!=o&&null!=i&&o===i?(r[n.connection.id]=o,s[n.connection.id]=o):(null!=o&&(m.suggest(o.connections.source,n.connection),r[n.connection.id]=o),null!=i&&(m.suggest(i.connections.target,n.connection),s[n.connection.id]=i))}),a.bind("internal.connectionDetached",function(n){!function(o){delete o.proxies;var n,i=r[o.id];null!=i&&(n=function(n){return n.id===o.id},m.removeWithFunction(i.connections.source,n),m.removeWithFunction(i.connections.target,n),delete r[o.id]),null!=(i=s[o.id])&&(n=function(n){return n.id===o.id},m.removeWithFunction(i.connections.source,n),m.removeWithFunction(i.connections.target,n),delete s[o.id])}(n.connection)}),a.bind("connectionMoved",function(n){var o=(0===n.index?r:s)[n.connection.id];if(o){var i=o.connections[0===n.index?"source":"target"],t=i.indexOf(n.connection);-1!==t&&i.splice(t,1)}}),this.addGroup=function(n){a.addClass(n.getEl(),d),(_[n.id]=n).manager=this,o(n),a.fire("group:add",{group:n})},this.addToGroup=function(t,n,o){if(t=this.getGroup(t)){var i=t.getEl();if(n._isJsPlumbGroup)return;var e=n._jsPlumbGroup;if(e!==t){a.removeFromDragSelection(n);var _=a.getOffset(n,!0),w=t.collapsed?a.getOffset(i,!0):a.getOffset(t.getDragArea(),!0);null!=e&&(e.remove(n,!1,o,!1,t),j.updateConnectionsForGroup(e)),t.add(n,o);var d=function(n,o){var i=0===o?1:0;n.each(function(n){n.setVisible(!1),n.endpoints[i].element._jsPlumbGroup===t?(n.endpoints[i].setVisible(!1),u(n,i,t)):(n.endpoints[o].setVisible(!1),l(n,o,t))})};t.collapsed&&(d(a.select({source:n}),0),d(a.select({target:n}),1));var r=a.getId(n);a.dragManager.setParent(n,r,i,a.getId(i),_);var s={left:_.left-w.left,top:_.top-w.top};if(a.setPosition(n,s),a.dragManager.revalidateParent(n,r,_),j.updateConnectionsForGroup(t),a.revalidate(r),!o){var B={group:t,el:n,pos:s};e&&(B.sourceGroup=e),a.fire("group:addMember",B)}}}},this.removeFromGroup=function(w,d,n){if(w=this.getGroup(w)){if(w.collapsed){var o=function(n,o){for(var i=0;i<n.length;i++){var t=n[i];if(t.proxies)for(var e=0;e<t.proxies.length;e++)if(null!=t.proxies[e]){var _=t.proxies[e].originalEp.element;_!==d&&!B(_,d)||u(t,o,w)}}};o(w.connections.source.slice(),0),o(w.connections.target.slice(),1)}w.remove(d,null,n)}},this.getGroup=function(n){var o=n;if(m.isString(n)&&null==(o=_[n]))throw new TypeError("No such group ["+n+"]");return o},this.getGroups=function(){var n=[];for(var o in _)n.push(_[o]);return n},this.removeGroup=function(n,o,i,t){n=this.getGroup(n),this.expandGroup(n,!0);var e=n[o?"removeAll":"orphanAll"](i,t);return a.remove(n.getEl()),delete _[n.id],delete a._groups[n.id],a.fire("group:remove",{group:n}),e},this.removeAllGroups=function(n,o,i){for(var t in _)this.removeGroup(_[t],n,o,i)};var l=function(n,o,i){var t=n.endpoints[0===o?1:0].element;if(!t[D]||t[D].shouldProxy()||!t[D].collapsed){var e=i.getEl(),_=a.getId(e);a.proxyConnection(n,o,e,_,function(n,o){return i.getEndpoint(n,o)},function(n,o){return i.getAnchor(n,o)})}};this.collapseGroup=function(e){if(null!=(e=this.getGroup(e))&&!e.collapsed){var n=e.getEl();if(t(e,!1),e.shouldProxy()){var o=function(n,o){for(var i=0;i<n.length;i++){var t=n[i];l(t,o,e)}};o(e.connections.source,0),o(e.connections.target,1)}e.collapsed=!0,a.removeClass(n,d),a.addClass(n,w),a.revalidate(n),a.fire("group:collapse",{group:e})}};var u=function(n,o,i){a.unproxyConnection(n,o,a.getId(i.getEl()))};function o(e){for(var n=e.getMembers().slice(),o=[],i=0;i<n.length;i++)Array.prototype.push.apply(o,n[i].querySelectorAll(".jtk-managed"));Array.prototype.push.apply(n,o);var t=a.getConnections({source:n,scope:"*"},!0),_=a.getConnections({target:n,scope:"*"},!0),w={};e.connections.source.length=0,e.connections.target.length=0;function d(n){for(var o=0;o<n.length;o++)if(!w[n[o].id]){w[n[o].id]=!0;var i=a.getGroupFor(n[o].source),t=a.getGroupFor(n[o].target);i===e?(t!==e&&e.connections.source.push(n[o]),r[n[o].id]=e):t===e&&(e.connections.target.push(n[o]),s[n[o].id]=e)}}d(t),d(_)}this.expandGroup=function(e,n){if(null!=(e=this.getGroup(e))&&e.collapsed){var o=e.getEl();if(t(e,!0),e.shouldProxy()){var i=function(n,o){for(var i=0;i<n.length;i++){var t=n[i];u(t,o,e)}};i(e.connections.source,0),i(e.connections.target,1)}e.collapsed=!1,a.addClass(o,d),a.removeClass(o,w),a.revalidate(o),this.repaintGroup(e),n||a.fire("group:expand",{group:e})}},this.repaintGroup=function(n){for(var o=(n=this.getGroup(n)).getMembers(),i=0;i<o.length;i++)a.revalidate(o[i])},this.updateConnectionsForGroup=o,this.refreshAllGroups=function(){for(var n in _)o(_[n]),a.dragManager.updateOffsets(a.getId(_[n].getEl()))}}function i(s,i){var _=this,o=i.el;this.getEl=function(){return o},this.id=i.id||m.uuid(),o._isJsPlumbGroup=!0;var t=this.getDragArea=function(){var n=s.getSelector(o,"[jtk-group-content]");return n&&0<n.length?n[0]:o},e=!0===i.ghost,w=e||!0===i.constrain,d=!1!==i.revert,r=!0===i.orphan,B=!0===i.prune,a=!0===i.dropOverride,n=!1!==i.proxied,j=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(n,o){return i.anchor||"Continuous"},this.getEndpoint=function(n,o){return i.endpoint||["Dot",{radius:10}]},(this.collapsed=!1)!==i.draggable){var l={drag:function(){for(var n=0;n<j.length;n++)s.draw(j[n])},stop:function(n){s.fire("groupDragStop",jsPlumb.extend(n,{group:_}))},scope:"_jsPlumbGroupDrag"};i.dragOptions&&v.jsPlumb.extend(l,i.dragOptions),s.draggable(i.el,l)}function u(n,o){for(var i=null==n.nodeType?n:[n],t=0;t<i.length;t++)o(i[t])}function c(n,o){var i=function(n){return n.offsetParent}(n),t=s.getSize(i),e=s.getSize(n),_=o[0],w=_+e[0],d=o[1],r=d+e[1];return 0<w&&_<t[0]&&0<r&&d<t[1]}function h(n){var o=s.getId(n),i=s.getOffset(n);return n.parentNode.removeChild(n),s.getContainer().appendChild(n),s.setPosition(n,i),C(n),s.dragManager.clearParent(n,o),[o,i]}function p(n){var o=[];function i(n,o,i){var t=null;if(!c(n,[o,i])){var e=n._jsPlumbGroup;B?s.remove(n):t=h(n),e.remove(n)}return t}for(var t=0;t<n.selection.length;t++)o.push(i(n.selection[t][0],n.selection[t][1].left,n.selection[t][1].top));return 1===o.length?o[0]:o}function f(n){var o=s.getId(n);s.revalidate(n),s.dragManager.revalidateParent(n,o)}function C(n){n._katavorioDrag&&((B||r)&&n._katavorioDrag.off("stop",p),B||r||!d||(n._katavorioDrag.off("revert",f),n._katavorioDrag.setRevert(null)))}function g(n){n._katavorioDrag&&((B||r)&&n._katavorioDrag.on("stop",p),w&&n._katavorioDrag.setConstrain(!0),e&&n._katavorioDrag.setUseGhostProxy(!0),B||r||!d||(n._katavorioDrag.on("revert",f),n._katavorioDrag.setRevert(function(n,o){return!c(n,o)})))}!1!==i.droppable&&s.droppable(i.el,{drop:function(n){var o=n.drag.el;if(!o._isJsPlumbGroup){var i=o._jsPlumbGroup;if(i!==_){if(null!=i&&i.overrideDrop(o,_))return;s.getGroupManager().addToGroup(_,o,!1)}}}}),this.overrideDrop=function(n,o){return a&&(d||B||r)},this.add=function(n,o){var i=t();u(n,function(n){if(null!=n._jsPlumbGroup){if(n._jsPlumbGroup===_)return;n._jsPlumbGroup.remove(n,!0,o,!1)}n._jsPlumbGroup=_,j.push(n),s.isAlreadyDraggable(n)&&g(n),n.parentNode!==i&&i.appendChild(n)}),s.getGroupManager().updateConnectionsForGroup(_)},this.remove=function(n,i,t,o,e){u(n,function(o){if(o._jsPlumbGroup===_){if(delete o._jsPlumbGroup,m.removeWithFunction(j,function(n){return n===o}),i)try{_.getDragArea().removeChild(o)}catch(n){jsPlumbUtil.log("Could not remove element from Group "+n)}if(C(o),!t){var n={group:_,el:o};e&&(n.targetGroup=e),s.fire("group:removeMember",n)}}}),o||s.getGroupManager().updateConnectionsForGroup(_)},this.removeAll=function(n,o){for(var i=0,t=j.length;i<t;i++){var e=j[0];_.remove(e,n,o,!0),s.remove(e,!0)}j.length=0,s.getGroupManager().updateConnectionsForGroup(_)},this.orphanAll=function(){for(var n={},o=0;o<j.length;o++){var i=h(j[o]);n[i[0]]=i[1]}return j.length=0,n},this.getMembers=function(){return j},o[D]=this,s.bind("elementDraggable",function(n){n.el._jsPlumbGroup===this&&g(n.el)}.bind(this)),this.shouldProxy=function(){return n},s.getGroupManager().addGroup(this)}var v=this,m=v.jsPlumbUtil,n=v.jsPlumbInstance,w="jtk-group-collapsed",d="jtk-group-expanded",t="_groupManager",D="_jsPlumbGroup";n.prototype.addGroup=function(n){if(this._groups=this._groups||{},null!=this._groups[n.id])throw new TypeError("cannot create Group ["+n.id+"]; a Group with that ID exists");if(null!=n.el[D])throw new TypeError("cannot create Group ["+n.id+"]; the given element is already a Group");var o=new i(this,n);return this._groups[o.id]=o,n.collapsed&&this.collapseGroup(o),o},n.prototype.addToGroup=function(i,n,t){var o=function(n){var o=this.getId(n);this.manage(o,n),this.getGroupManager().addToGroup(i,n,t)}.bind(this);if(Array.isArray(n))for(var e=0;e<n.length;e++)o(n[e]);else o(n)},n.prototype.removeFromGroup=function(n,o,i){this.getGroupManager().removeFromGroup(n,o,i),this.getContainer().appendChild(o)},n.prototype.removeGroup=function(n,o,i,t){return this.getGroupManager().removeGroup(n,o,i,t)},n.prototype.removeAllGroups=function(n,o,i){this.getGroupManager().removeAllGroups(n,o,i)},n.prototype.getGroup=function(n){return this.getGroupManager().getGroup(n)},n.prototype.getGroups=function(){return this.getGroupManager().getGroups()},n.prototype.expandGroup=function(n){this.getGroupManager().expandGroup(n)},n.prototype.collapseGroup=function(n){this.getGroupManager().collapseGroup(n)},n.prototype.repaintGroup=function(n){this.getGroupManager().repaintGroup(n)},n.prototype.toggleGroup=function(n){null!=(n=this.getGroupManager().getGroup(n))&&this.getGroupManager()[n.collapsed?"expandGroup":"collapseGroup"](n)},n.prototype.getGroupManager=function(){var n=this[t];return null==n&&(n=this[t]=new o(this)),n},n.prototype.removeGroupManager=function(){delete this[t]},n.prototype.getGroupFor=function(n){if(n=this.getElement(n)){for(var o=this.getContainer(),i=!1,t=null;!i;)null==n||n===o?i=!0:n[D]?(t=n[D],n,i=!0):n=n.parentNode;return t}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var n=this.Farahey={};"undefined"!=typeof exports&&(exports.Farahey=n);function A(n,o,i){var t=function(n,o,i){for(var t=0,e=n.length,_=-1,w=0;t<e;)if((w=i(n[_=parseInt((t+e)/2)],o))<0)t=_+1;else{if(!(0<w))return _;e=_}return t}(n,o,i);n.splice(t,0,o)}function P(n,i){function e(n){if(!t[n[1]]){var o=i(n[2]);t[n[1]]={l:n[0][0],t:n[0][1],w:o[0],h:o[1],center:[n[0][0]+o[0]/2,n[0][1]+o[1]/2]}}return t[n[1]]}var _=n,t={};this.setOrigin=function(n){_=n,t={}},this.compare=function(n,o){var i=S.lineLength(_,e(n).center),t=S.lineLength(_,e(o).center);return i<t?-1:i===t?0:1}}function E(s,B,a,j,l,n,u,c,h,p,f,C,g){function v(n,o,i,t){e[n]=!0,o[0]+=i,o[1]+=t}p=p||function(){},f=f||2;var m,D,y=k(n=n||[0,0],[1,1],j),b=1,A=!0,e={},P=function(){for(var n=0;n<s.length;n++)if(!C(s[n][1],s[n][2])){var o=B[s[n][1]],i=s[n][1],t=(s[n][2],a[s[n][1]]),e=k(o,t,j);!g&&u(s[n][1],s[n][2])&&S.intersects(y,e)&&(m=I(y,e),D=l(s[n][1],o,m),v(i,o,D.left,D.top)),e=k(o,t,j);for(var _=0;_<s.length;_++)if(n!==_){if(C(s[_][1],s[_][2]))continue;if(u(s[_][1],s[_][2])){var w=B[s[_][1]],d=a[s[_][1]],r=k(w,d,j);S.intersects(e,r)&&(A=!0,m=I(e,r),D=l(s[_][1],w,m),v(s[_][1],w,D.left,D.top))}}}c&&p(),A&&b<f&&(A=!1,b++,c?window.setTimeout(P,h):P())};return P(),e}function x(n){if(null==n)return null;if("[object Array]"===Object.prototype.toString.call(n)){var o=[];return o.push.apply(o,n),o}var i=[];for(var t in n)i.push(n[t]);return i}function o(w){function i(){return v.setOrigin(p),l.length=0,u={},c={},function(n){var o,i,t,e,_;o=i=1/0,t=e=-1/0;for(var w=0;w<n.length;w++){var d=B(n[w]),r=a(n[w]),s=j(n[w]);u[s]=[d.left,d.top],_=[[d.left,d.top],s,n[w]],g&&0!==l.length?A(l,_,v.compare):l.push(_),c[s]=r,o=Math.min(o,d.left),i=Math.min(i,d.top),t=Math.max(t,d.left+r[0]),e=Math.max(e,d.top+r[1])}return[o,t,i,e]}(h)}function t(n){if(1<h.length){var o=(n=n||{}).filter||f,i=n.padding||r,t=n.iterations,e=n.exclude||C,_=n.excludeFocus;n.gather&&function(n,o,i,t,e,_,w,d,r,s,B,a){for(var j=k(_=_||[0,0],[1,1],t),l=0;l<n.length;l++)if(!a(n[l][1],n[l][2])){var u=o[n[l][1]],c=i[n[l][1]],h=k(u,c,t);if(w(n[l][1],n[l][2])){var p=I(j,h);u[0]+=p.left,u[1]+=p.top}}}(l,u,c,i,0,p,o,0,0,0,0,e);var w=E(l,u,c,i,s,p,o,m,D,b,t,e,_);return b(w),w}}function e(n){null!=n&&(p=n,v.setOrigin(n))}var d,n,B=w.getPosition,a=w.getSize,j=w.getId,_=w.setPosition,r=w.padding||[20,20],s=w.constrain||function(n,o,i){return i},l=[],u={},c={},h=x(w.elements||[]),p=w.origin||[0,0],o=w.executeNow,f=(this.getOrigin=function(){return p},w.filter||function(n){return!0}),C=w.exclude||function(n){return!1},g=w.orderByDistanceFromOrigin,v=new P(p,a),m=w.updateOnStep,D=w.stepInterval||350,y=w.debug,b=function(n){for(var o=0;o<h.length;o++){var i=j(h[o]);n[i]&&_(h[o],{left:u[i][0],top:u[i][1]})}};return this.execute=function(n,o){return e(n),i(),t(o)},this.executeAtCenter=function(n){var o=i();return e([(o[0]+o[1])/2,(o[2]+o[3])/2]),t(n)},this.executeAtEvent=function(n,o){var i=w.container,t=w.getContainerPosition(i),e=n.pageX-t.left+i.scrollLeft,_=n.pageY-t.top+i.scrollTop;return y&&(d.style.left=n.pageX+"px",d.style.top=n.pageY+"px"),this.execute([e,_],o)},this.setElements=function(n){return h=x(n),this},this.addElement=function(n,o){return null==n||!o&&-1!==h.indexOf(n)||h.push(n),this},this.addElements=function(n,o){if(o)Array.prototype.push.apply(h,n);else for(var i=0;i<n.length;i++)this.addElement(n[i]);return this},this.getElements=function(){return h},this.removeElement=function(n){for(var o=-1,i=0;i<h.length;i++)if(h[i]===n){o=i;break}return-1!==o&&h.splice(o,1),this},this.setPadding=function(n){r=n},this.setConstrain=function(n){s=n},this.setFilter=function(n){f=n},this.reset=function(){h.length=0},y&&((n=document.createElement("div")).style.position="absolute",n.style.width="10px",n.style.height="10px",n.style.backgroundColor="red",document.body.appendChild(n),d=n),o&&this.execute(),this}var S=this.Biltong,i=[function(n,o){return n.x+n.w-o.x},function(n,o){return n.x-(o.x+o.w)}],t=[function(n,o){return n.y+n.h-o.y},function(n,o){return n.y-(o.y+o.h)}],B=[null,[i[0],t[1]],[i[0],t[0]],[i[1],t[0]],[i[1],t[1]]],I=n.calculateSpacingAdjustment=function(n,o){var i=n.center||[n.x+n.w/2,n.y+n.h/2],t=o.center||[o.x+o.w/2,o.y+o.h/2],e=S.gradient(i,t),_=S.quadrant(i,t);return function(n,o,i,t,e){isNaN(i)&&(i=0);var _,w,d=o.y+o.h,r=i==1/0||i==-1/0?o.x+o.w/2:(d-t)/i,s=Math.atan(i);return function(n,o,i,t){return n[o]<=t&&t<=n[o]+n[i]}(o,"x","w",r)?{left:w=(_=B[e][1](n,o))/Math.sin(s)*Math.cos(s),top:_}:{left:w=B[e][0](n,o),top:_=w/Math.cos(s)*Math.sin(s)}}(n,o,e,e==1/0||e==-1/0||isNaN(e)?0:i[1]-e*i[0],_)},k=n.paddedRectangle=function(n,o,i){return{x:n[0]-i[0],y:n[1]-i[1],w:o[0]+2*i[0],h:o[1]+2*i[1]}};n.getInstance=function(n){return new o(n)}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(n,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o((n=n||self).knockle={})}(this,function(n){"use strict";function a(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function t(n,o){for(var i=0;i<o.length;i++){var t=o[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function e(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}function j(n,o,i){return o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,n}function o(n,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),o&&i(n,o)}function l(n){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function i(n,o){return(i=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(n,o)}function u(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function c(n,o){return!o||"object"!=typeof o&&"function"!=typeof o?u(n):o}function h(n,o){return function(n){if(Array.isArray(n))return n}(n)||function(n,o){if(!(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n)))return;var i=[],t=!0,e=!1,_=void 0;try{for(var w,d=n[Symbol.iterator]();!(t=(w=d.next()).done)&&(i.push(w.value),!o||i.length!==o);t=!0);}catch(n){e=!0,_=n}finally{try{t||null==d.return||d.return()}finally{if(e)throw _}}return i}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(n){return function(n){if(Array.isArray(n)){for(var o=0,i=new Array(n.length);o<n.length;o++)i[o]=n[o];return i}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var o=16*Math.random()|0;return("x"===n?o:3&o|8).toString(16)})}function p(n){if(null==n)return null;for(var o=n.replace(/^\s\s*/,""),i=/\s/,t=o.length;i.test(o.charAt(--t)););return o.slice(0,t+1)}function w(n,o,i){for(var t in o)n[t]=o[t],i&&i(t,n[t]);return n}function r(n,o,s){if(null==n)return null;if("$data"===o||null==o)return n;var i=o.match(/^\{(.*)\}$/);if(i){for(var t={},e=i[1].split(","),_=0;_<e.length;_++){var w=e[_].split(":"),d=r(n,w[1]);t[p(w[0])]=d||w[1].replace(/'/g,"")}return t}o=o.replace(/\['([^']*)'\]/g,".$1");var B=n,a=null;return o.replace(/([^\.])+/g,function(n,o,i,t){if(null==a){var e=n.match(/([^\[0-9]+){1}(\[)([0-9+])/),_=function(){return B[e[1]]||(B[e[1]]=[],B[e[1]])};if(i+n.length>=t.length)if(e){var w=_(),d=e[3];null==s?a=w[d]:w[d]=s}else null==s?a=B[n]:B[n]=s;else if(e){var r=_();B=r[e[3]]||(r[e[3]]={},r[e[3]])}else B=B[n]||(B[n]={},B[n])}}),a}function s(n){return n.filter(function(n){return null!=n&&0<p(n).length})}function f(n,o){for(var i=0;i<n.length;i++){var t=n[i];null!=t&&0!==t.length&&o(i,t)}}function B(n){var o=document.getElementById(n);return null!=o?o.innerHTML:null}function C(n,o){return null==n?n:s(n.replace("/>",">").split(/^<|>$/)[1].split(o))}function g(n){return 0<n.length?n[n.length-1]:null}function v(n){if(null==n||0===n.length)return!1;for(var o=n.length-1;-1<o;o--)if("each"===n[o].type)return!0;return!1}function m(n,o,i,t,e){var _=d(),w={w:o,e:[],u:_};return(e.bindings[_]=w).reapply=new Function("$data",(null!=t?"var out='';try { with($data) { if ("+t+") out = this.w; else return null; }}catch(_){return null;}":"var out = this.w;")+"for (var k = 0; k < this.e.length; k++) { with($data) { "+(null!=t?"try {  if("+t+") { out = out.replace(this.e[k][0], eval(this.e[k][1])); } else out=''; } catch(__) { out='';}":"try { out = out.replace(this.e[k][0], eval(this.e[k][1])); } catch(__) { out=out.replace(this.e[k][0], '');}")+" }} return out;"),i.bindings[n]=w,o.replace(/\$\{([^\}]*)\}/g,function(n,o,i,t){return w.e.push([n,o]),""}),_}function D(n,o,i,t,e){m(n,i.atts[n]=o,i,t,e)}function y(n,t){for(var o=C(n,t.attributesRe),e={el:p(o[0]),atts:{},bindings:{}},i=function(n,o){var i=n.match(/([^=]+)=['"](.*)['"]/);return null==i&&null==o?e.atts[n]="":null==i?D(n,"",e,o,t):D(i[1],i[2],e,o,t),i},_=1;_<o.length;_++){var w=p(o[_]);if(null!=w&&0<w.length){var d=w.match(t.inlineIfRe);if(d)for(var r=d[2].split(t.attributesRe),s=0;s<r.length;s++){var B=p(r[s]);null!=B&&0<B.length&&i(B,d[1])}else i(w)}}return e}function b(n){a(this,b),this.instance=n,j(this,"type",void 0),j(this,"tag",void 0),j(this,"remove",void 0),j(this,"uuid",void 0),j(this,"children",[]),j(this,"elements",[]),j(this,"bindings",void 0),j(this,"context",void 0),j(this,"functionBody",void 0),j(this,"precompile",void 0),j(this,"postcompile",void 0),this.uuid=d(),n.entries[this.uuid]=this}var A=function(){function t(n,o){var i;return a(this,t),j(u(i=c(this,l(t).call(this,o))),"type","text"),j(u(i),"value",void 0),j(u(i),"bindings",void 0),i.value=n.value,i.bindings={},i}return o(t,b),e(t,[{key:"_getBoundValue",value:function(){return"_rotors.bind(__knockleData[0], '"+this.bindings.__element.u+"', typeof $key !== 'undefined' ? $key : null, typeof $value !== 'undefined' ? $value : null)"}},{key:"compile",value:function(){return this.instance.getExecutionContent(this._getBoundValue(),this.uuid,!0)+";_rotors.pet(_eid, '"+this.uuid+"');"}},{key:"updateFrom",value:function(n,o){return n.el.nodeValue=o.el.nodeValue,{added:[],removed:[],elements:[]}}}]),t}();function P(n,o){for(var i=0;i<o.children.length;i++){var t=!0;for(var e in n)if(n[e]!==o.children[i][e]){t=!1;break}if(t)return o.children[i]}}function E(n,o,i,t,e){function _(n){for(var o="",i=0;i<t.length;i++)o+=n[t[i]];return o}var w,d,r,s={},B=[],a=[],j={added:[],removed:[],elements:[]};if(0<i.children.length)for(var l=0;l<o.children.length;l++){d=o.children[l];for(var u={},c=0;c<t.length;c++)u[t[c]]=d[t[c]];null==(w=P(u,i))?B.push(d):(s[_(d)]=!0,r=n.updateFrom(d,w,null),Array.prototype.push.apply(j.added,r.added),Array.prototype.push.apply(j.removed,r.removed))}else Array.prototype.push.apply(B,o.children);for(var h={},p=0;p<B.length;p++)B[p].el.parentNode&&B[p].el.parentNode.removeChild(B[p].el),h[B[p].index]=!0;var f=o.children.filter(function(n){return!0!==h[n.index]});o.children=f;for(var C=0<o.children.length?o.children[o.children.length-1].el:null,g=0;g<i.children.length;g++)s[_(d=i.children[g])]||(o.children.push(d),a.push(d));if(0<a.length)for(var v=0;v<a.length;v++)null!=C?C.parentNode.insertBefore(a[v].el,C.nextSibling):null!=e?e.el.appendChild(a[v].el):console.log("Knockle: couldnt insert child, nothing to insert after"),C=a[v].el;return Array.prototype.push.apply(j.added,a),Array.prototype.push.apply(j.removed,B),j}function x(n,o,i){var _=this;a(this,x),this.instance=n,this.tagName=o,this.options=i,j(this,"template",void 0),j(this,"getFunctionBody",void 0),j(this,"getFunctionEnd",void 0),j(this,"rendered",void 0),j(this,"updated",void 0),this.template=i.template,this.getFunctionBody=function(n,o){var i=function(o,t){for(var e=[],n=function(n){var i=w({},o[n]);i.compile=o[n].compile,e.push(i),w(i.atts,t.atts,function(n,o){D(n,o,i,null,_.instance)})},i=0;i<o.length;i++)n(i);return e}(n.parse(_.template,null,{originalCustomTag:o.tag,context:o.context,customParent:o}),o);return n.compile(i,!1,!0,!0)},this.getFunctionEnd=function(){return";_els.pop();"},this.rendered=i.rendered||function(n,o,i){},this.updated=i.updated||function(n,o,i){}}var S=function(){function t(n,o){var i;return a(this,t),j(u(i=c(this,l(t).call(this,o))),"type","comment"),j(u(i),"comment",void 0),i.comment=n,i}return o(t,b),e(t,[{key:"compile",value:function(){return""}},{key:"updateFrom",value:function(){return{added:[],removed:[],elements:[]}}}]),t}(),I=function(){function d(n,o,i,t,e){var _;a(this,d),(_=c(this,l(d).call(this,o))).templateResolver=i,_.stack=t,_.parseIdStack=e,j(u(_),"type","element"),j(u(_),"namespace",void 0),j(u(_),"atts",void 0),j(u(_),"custom",void 0);var w=n.el.split(":");return _.tag=n.el,2===w.length&&(_.namespace=w[0]),_.atts=n.atts,_.bindings=n.bindings,_.remove=!1,_}return o(d,b),e(d,[{key:"compile",value:function(n){var o=this.instance.getCustomTag(this.tag);if(o){for(var i=o.getFunctionBody(this.instance,this),t="_rotors.customTagRendered('"+this.tag+"', _le, __knockleData[0]);",e=0;e<this.children.length;e++)this.children[e].precompile&&(i+=this.children[e].precompile(this.instance)),i+=this.children[e].compile(),this.children[e].postcompile&&(i+=this.children[e].postcompile(this.instance));return i+="_le=_els.pop();"+t+"_rotors.pet(_eid,'"+this.uuid+"');"}var _,w,d="/* element entry "+this.uuid+" */;";if(!0!==this.remove)for(var r in d+=this.instance.getExecutionContent(this.tag,this.uuid,!1,this.namespace),this.atts)if(this.atts.hasOwnProperty(r)){var s=void 0;if(null!=this.bindings[r]){if(s="_rotors.bind(__knockleData[0], '"+this.bindings[r].u+"');",_=r.match(/\(([^)]+)\)/))w=';if(__a!=null){_rotors.addCommand(_eid,e,"'+_[1]+'","'+this.atts[r]+'");}'}else s="'"+this.atts[r]+"'";d+="__a="+s+(_?w:";if(__a!=null) {_rotors.setAttribute(e,'"+r+"',__a || '');}")}for(var B=0;B<this.children.length;B++){this.children[B].precompile&&(d+=this.children[B].precompile());var a=this.children[B].compile();d+=a,this.children[B].functionBody=a,this.children[B].postcompile&&(d+=this.children[B].postcompile())}return!0===this.remove||n||(d+="_le=_els.pop();",d+="_rotors.pet(_eid, '"+this.uuid+"');"),d}},{key:"_applyStyles",value:function(t,n){n.split(";").forEach(function(n){var o=n.indexOf(":"),i=n.substring(0,o);t.style[i]=n.substring(o+1)})}},{key:"updateFrom",value:function(n,o){var i,t,e,_={added:[],removed:[],elements:[]};for(i in this.atts)this.atts.hasOwnProperty(i)&&"class"!==i&&((t=o.el.getAttribute(i))?"style"===i&&null!=n.el.style?this._applyStyles(n.el,t):n.el.setAttribute(i,t):n.el.removeAttribute(i));if(this.originalCustomTag){var w=this.instance.getCustomTag(this.originalCustomTag);w&&_.elements.push([n.el,w])}for(var d=0;d<n.children.length;d++)e=this.instance.updateFrom(n.children[d],o.children[d],n),Array.prototype.push.apply(_.removed,e.removed),Array.prototype.push.apply(_.added,e.added),Array.prototype.push.apply(_.elements,e.elements);if(n.el._RotorsUpdate)for(var r=this.instance.updaters[n.el._RotorsUpdate],s=0;s<r.length;s++)r[s](n.el);return _}}]),d}(),k={},T={construct:function(n,o,i,t,e,_){var w=k[n];if(w)return new w(o,i,t,e,_);throw{message:"Knockle: unknown element '"+n+"'"}},register:function(n,o){k[n]=o},exists:function(n){return null!=k[n]}},N=function(){function n(){a(this,n),j(this,"childNodes",void 0),this.childNodes=[]}return e(n,[{key:"appendChild",value:function(n){this.childNodes.push(n)}},{key:"toString",value:function(){for(var n="",o=0;o<this.childNodes.length;o++)n+=this.childNodes[o].toString();return n}}]),n}(),M=function(){function i(n){var o;return a(this,i),j(u(o=c(this,l(i).call(this))),"tag",void 0),j(u(o),"atts",void 0),o.tag=n,o.atts={},o}return o(i,N),e(i,[{key:"getAttribute",value:function(n){return this.atts[n]}},{key:"setAttributeNS",value:function(n,o,i){this.atts[n+":"+o]=i}},{key:"setAttribute",value:function(n,o){this.atts[n]=o}},{key:"toString",value:function(){var n="<"+this.tag,o="";for(var i in this.atts)o+=" "+i+'="'+this.atts[i]+'"';n=n+o+">";for(var t=0;t<this.childNodes.length;t++)n+=this.childNodes[t].toString();return n+"</"+this.tag+">"}},{key:"insertAdjacentElement",value:function(){throw"FakeElement insertAdjacentElement - not implemented. Update failed."}}]),i}(),O=function(){function o(n){a(this,o),j(this,"nodeValue",void 0),this.nodeValue=n}return e(o,[{key:"toString",value:function(){return this.nodeValue}}]),o}();var F=function(){function t(o,n,i){a(this,t),this.registerGlobalTag=n,this.getGlobalTag=i,j(this,"templateResolver",void 0),j(this,"defaultTemplate",void 0),j(this,"entries",void 0),j(this,"bindings",void 0),j(this,"customTags",{}),j(this,"cache",new Map),j(this,"templateCache",new Map),j(this,"openRe",new RegExp("<([^/>]*?)>$|<([^/].*[^/])>$")),j(this,"closeRe",new RegExp("^</([^>]+)>")),j(this,"openCloseRe",new RegExp("<(.*)(/>$)")),j(this,"tokenizerRe",/(<[^\^>]+\/>)|(<!--[\s\S]*?-->)|(<[\/a-zA-Z0-9\-:]+(?:\s*[\(a-zA-Z\-\)]+=\"[^\"]*\"|\s*[a-zA-Z\-]+='[^']+'|\s*[\(a-zA-Z\-\)]|\s*\{\{.*\}\})*>)/),j(this,"commentRe",/<!--[\s\S]*?-->/),j(this,"attributesRe",/([\(a-zA-Z0-9\-_:\)]+="[^"]*")|(\{\{if [^(?:\}\})]+\}\}.*\{\{\/if\}\})/),j(this,"inlineIfRe",/\{\{if ([^\}]+)\}\}(.*)\{\{\/if\}\}/),j(this,"singleExpressionRe",/^[\s]*\$\{([^\}]*)\}[\s]*$/),j(this,"_fnPreamble","__knockleData=[__knockleData||{}];var frag=_rotors.cf(),_els=[],e,_le,__a,$value,$key,_eid = _rotors.nec();_els.push(frag);"),j(this,"_fnSuffix",";_rotors.pushCommands(_eid,frag);return frag;"),j(this,"isBrowser",!0),j(this,"executions",void 0),j(this,"updaters",{}),j(this,"namespaceHandlers",{svg:function(n){return"e = document.createElementNS('http://www.w3.org/2000/svg', '"+n.split(":")[1]+"');e.setAttribute('version', '1.1');e.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml');"}}),j(this,"namespaces",{xlink:"http://www.w3.org/1999/xlink"}),o=o||{},this.entries={},this.bindings={},this.executions={},this.defaultTemplate=o.defaultTemplate,this.templateResolver=o.templateResolver?o.templateResolver:o.templates?function(n){return o.templates[n]}:function(n){return n.isBrowser?B:null}(this)}return e(t,[{key:"bind",value:function(n,o){var i=this.bindings[o];return null==i?"":i.reapply(n)}},{key:"addCommand",value:function(n,o,i,t){this.executions[n].commands=this.executions[n].commands||{},this.executions[n].commands[i]=this.executions[n].commands[i]||[],this.executions[n].commands[i].push({element:o,command:i,action:t})}},{key:"pushCommands",value:function(n,o){o.commands=this.executions[n].commands}},{key:"setAttribute",value:function(n,o,i){var t=o.split(":");1===t.length||null==this.namespaces[t[0]]?n.setAttribute(t[0],i):n.setAttributeNS(this.namespaces[t[0]],t[1],i)}},{key:"clearCache",value:function(){this.cache.clear(),this.templateCache.clear()}},{key:"cf",value:function(){return this.isBrowser?document.createDocumentFragment():new N}},{key:"ctn",value:function(n){return this.isBrowser?document.createTextNode(n):new O(n)}},{key:"ce",value:function(n){return this.isBrowser?document.createElement(n):new M(n)}},{key:"nec",value:function(){var n=d();return this.executions[n]={current:[{children:[]}]},n}},{key:"te",value:function(n,o,i,t){var e={el:n,children:[],id:i,index:t};this.executions[o].current[0].children.push(e);var _=i+(null!=t?"-"+t:"");this.executions[o][_]=e,this.executions[o].current.unshift(e)}},{key:"pet",value:function(n){this.executions[n].current=this.executions[n].current.splice(1)}},{key:"parseAttributes",value:function(n){return C(n,this.attributesRe)}},{key:"getExecutionContent",value:function(n,o,i,t){return(null!=t?this.namespaceHandlers[t](n):i?"e=_rotors.ctn("+n+");":"e=_rotors.ce('"+n+"');")+"_rotors.peek(_els).appendChild(e);"+(i?"":"_els.push(e);")+"e._rotors=_rotors.entries['"+o+"'];e._rotorsEid=_eid;if(typeof _rotorsLoopId !== 'undefined') {e._rotorsLoopId=_rotorsLoopId;e._rotorsLoopContext=_rotorsLoopContext;e._rotorsKey=$key;}_rotors.te(e, _eid, '"+o+"', typeof $key != 'undefined' ? $key  : null);"}},{key:"_wrapCache",value:function(i,t){var e=this;return function(n){var o=t?null:e.cache.get(n);return null==o&&(o=i(n)),null==o&&(o=e.defaultTemplate),null!=o&&e.cache.set(n,o),o}}},{key:"constructElement",value:function(n,o,i,t,e){return T.construct(n,o,this,i,t,e)}},{key:"isCustomElement",value:function(n){return T.exists(n)}},{key:"parse",value:function(n,r,o,s){var B=this;s=s||[],r=this._wrapCache(r||this.templateResolver,null);function i(){return 0<w.length?w[w.length-1]:null}function e(n,o){0<w.length&&i().children.push(n),o?0===w.length&&d.push(n):w.push(n)}function t(){var n=w.pop();if(0!==w.length||n.remove){if(n.remove){var o=i();o&&o.children.pop()}}else d.push(n);return n}function _(n,o,i){var t=y(n,B);return B.isCustomElement(t.el)?B.constructElement(t.el,t,i,w,s):new I(t,B,i,w,s)}var w=[],d=[],a=[{re:this.commentRe,handler:function(n,o,i,t){e(new S(n,t),!0)}},{re:this.openRe,handler:function(n,o,i){var t=_(n,0,i);e(t,t.remove)}},{re:this.closeRe,handler:function(n,o){if("r-tmpl"!==o[1]){if(!function(n){var o=i();return null!=o&&o.tag===n}(o[1]))throw new TypeError("Unbalanced closing tag '"+o[1]+"'; opening tag was '"+t().tag+"'");t()}}},{re:this.openCloseRe,handler:function(n,o,i){var t=_(n,0,i);e(t,!0)}},{re:/.*/,handler:function(n){var o=new A({value:n},B);!function(n){e(n,!0)}(o),m("__element",n,o,null,B)}}];if(f(p(n).split(this.tokenizerRe),function(n,o){for(var i,t,e,_=p(o),w=0;w<a.length;w++){var d=(i=_,t=a[w].re,void 0,null==(e=i.match(t))?null:e);if(d){a[w].handler(o,d,r,B,s);break}}}),0<d.length&&o)for(var j in o)d[0][j]=o[j];return d}},{key:"compile",value:function(n,o,i,t){for(var e,_=[],w=0;w<n.length;w++){var d="";n[w].precompile&&(d+=n[w].precompile(this)),d+=e=n[w].compile(t),n[w].functionBody=e,n[w].postcompile&&(d+=n[w].postcompile(this)),_.push(d)}var r=_.join("");if(i)return r;var s=this._compileSingle(r),B=this;if(o)return s;function a(n){return s.apply(this,[n,B])}return a.functionBody=r,a}},{key:"_compileSingle",value:function(n){return new Function("__knockleData,_rotors",this._fnPreamble+n+this._fnSuffix)}},{key:"_executeSingle",value:function(n,o){return this._compileSingle(n)(o,this)}},{key:"updateFrom",value:function(n,o,i){return this.entries[n.id].updateFrom(n,o,i)}},{key:"getTemplate",value:function(n){return this.templateCache.get(n)}},{key:"template",value:function(n,o,i,t){var e=t?null:this.templateCache.get(n);if(null!=e)return e(o);var _=(i=this._wrapCache(i||this.templateResolver,t))(n);if(null==_)return this.cf();var w=this.parse(_,i,null,[n]),d=this.compile(w);return this.templateCache.set(n,d),d(o)}},{key:"peek",value:function(n){return g(n)}},{key:"data",value:function(n,o,i){return r(n,o,i)}},{key:"each",value:function(n,o,i,t,e){var _;if(Array.isArray(n))for(_=0;_<n.length;_++)o(n[_],i,_,t,e);else for(_ in n)n.hasOwnProperty(_)&&o({$key:_,$value:n[_]},i,_,t,e)}},{key:"update",value:function(n,t){var o,i,e,_,w=this,d=n._rotorsEid;if(null!=d&&null!=n._rotors){o=(e=n._rotors.instance).executions[d];var r=n._rotorsKey;i=o[n._rotors.uuid+(null!=r?"-"+r:"")],_=e.entries[i.id];var s=e._executeSingle(_.customParent?_.customParent.functionBody:_.functionBody,t).childNodes[0],B=s._rotorsEid,a=e.executions[B][s._rotors.uuid],j=this.updateFrom(i,a,null);return j.elements.forEach(function(n){var o=h(n,2),i=o[0];o[1].updated(i,t,w)}),j}}},{key:"onUpdate",value:function(n,o){if(null!=n._rotors){var i=n._rotors.instance;n._RotorsUpdate=n._RotorsUpdate||d(),i.updaters[n._RotorsUpdate]=i.updaters[n._RotorsUpdate]||[],i.updaters[n._RotorsUpdate].push(o)}}},{key:"copyChildNodes",value:function(n,o){for(var i=n.childNodes.length,t=0;t<i;t++)o.appendChild(n.childNodes[0])}},{key:"remove",value:function(n){n._RotorsUpdate&&this.updaters[n._RotorsUpdate]&&delete this.updaters[n._RotorsUpdate],n._rotorsEid&&this.executions[n._rotorsEid]&&delete this.executions[n._rotorsEid]}},{key:"registerTag",value:function(n,o,i){var t=new x(this,n,o);i?this.registerGlobalTag(n,t):this.customTags[n]=t}},{key:"getCustomTag",value:function(n){return this.customTags[n]||this.getGlobalTag(n)}},{key:"customTagRendered",value:function(n,o,i,t){var e=this.getCustomTag(n);e&&e.rendered(o,i,t)}}]),t}(),L=function(){function w(n,o,i,t,e){var _;return a(this,w),j(u(_=c(this,l(w).call(this,n,o,i,t,e))),"context",void 0),j(u(_),"key",void 0),j(u(_),"type","each"),_.context=n.atts.in,_.key=n.atts.key,_.tag="r-each",_}return o(w,I),e(w,[{key:"compile",value:function(){var t=this;return";_rotors.te(null, _eid, '"+this.uuid+"');"+(this.context?';__knockleData.unshift(_rotors.data(__knockleData[0], "'+this.context+'"));':"")+("_rotors.each(__knockleData[0], "+function(){var n="function(item, _rotorsLoopId, _rotorsLoopIndex, _rotorsLoopContext, _key) { ";n+="__knockleData.unshift(item);$value=item;",n+="$key=_key ? _rotors.data($value, _key) : _rotorsLoopIndex;";for(var o=0;o<t.children.length;o++){var i=t.children[o].compile();n+=t.children[o].functionBody=i}return n+="__knockleData.splice(0,1);",n+="}"}()+",'"+this.uuid+"', '"+this.context.replace(/'/g,"\\'")+"',"+(void 0===this.key?"null);":"'"+this.key+"');"))+(this.context?";__knockleData.splice(0, 1);":"")+(";_rotors.pet(_eid, '"+this.uuid+"');")}},{key:"updateFrom",value:function(n,o,i){for(var t,e=E(this.instance,n,o,["id","index"],i),_=null,w=0;w<o.children.length;w++)(t=P({index:o.children[w].index,id:o.children[w].id},n))&&t.el&&(null!=_&&_.parentNode.insertBefore(t.el,_.nextSibling),_=t.el);return e}}]),w}();T.register("r-each",L);var R=function(){function w(n,o,i,t,e){var _;return a(this,w),j(u(_=c(this,l(w).call(this,n,o,i,t,e))),"type","if"),j(u(_),"test",void 0),j(u(_),"happyFlowChildren",void 0),_.test=n.atts.test,_.tag="r-if",_}return o(w,I),e(w,[{key:"compile",value:function(){var n,o="",i="",t=this.happyFlowChildren||this.children;for(n=0;n<t.length;n++)o+=t[n].compile()+";";if(null!=this.happyFlowChildren){for(i="else {",n=0;n<this.children.length;n++)i+=this.children[n].compile()+";";i+="}"}return";_rotors.te(null, _eid, '"+this.uuid+"');"+"with (__knockleData[0]) { if("+this.test+") { "+o+" }"+i+"}_rotors.pet(_eid);"}},{key:"updateFrom",value:function(n,o,i){return E(this.instance,n,this.flatMap(o),["id"],i)}},{key:"flatMap",value:function(n){var o=[];return n.children.forEach(function(n){null==n.el?o.push.apply(o,_(n.children)):o.push(n)}),{el:n.el,index:n.index,id:n.id,children:o}}}]),w}();T.register("r-if",R);var G=function(){function d(n,o,i,t,e){var _;a(this,d),_=c(this,l(d).call(this,n,o,i,t,e));var w=g(t);return null!=w&&w instanceof R&&(w.happyFlowChildren=w.children,w.children=[]),_.remove=!0,_.tag="r-else",_}return o(d,I),e(d,[{key:"compile",value:function(){return""}},{key:"updateFrom",value:function(){return{added:[],removed:[],elements:[]}}}]),d}();T.register("r-else",G);var U=function(){function B(n,o,i,t,e){var _;if(a(this,B),j(u(_=c(this,l(B).call(this,n,o,i,t,e))),"templateId",void 0),j(u(_),"lookup",void 0),j(u(_),"default",void 0),_.context=n.atts.context,_.type="template",_.remove=!0,n.atts.lookup)_.lookup=n.atts.lookup,_.default=n.atts.default||"",_.compile=function(){return';with(__knockleData[0]){var tlid=eval("'+_.lookup.replace(/[\$\{\}]/g,"")+'");}if (_rotors.templateCache[tlid] == null){var ___t = _rotors.templateResolver(tlid) || _rotors.templateResolver("'+_.default+'");_rotors.templateCache[tlid]=_rotors.compile(_rotors.parse(___t));} eval(_rotors.templateCache[tlid].functionBody);'};else{_.templateId=n.atts.id;var w=v(t);if(-1!==e.indexOf(_.templateId)){if(!w)throw new TypeError("recursive template call ["+_.templateId+"]");_.compile=function(){return";eval(_rotors.getTemplate('"+_.templateId+"').functionBody);"}}else{var d=i(_.templateId);e.push(_.templateId);var r=_.instance.parse(d,i,null,e);null==_.instance.templateCache.get(_.templateId)&&_.instance.templateCache.set(_.templateId,_.instance.compile(r));for(var s=0;s<r.length;s++)r[s].context=_.context;_.children=r,e.pop()}}return _.precompile=function(){return _.context?';__knockleData.unshift(_rotors.data(__knockleData[0], "'+_.context+'"));':""},_.postcompile=function(){return _.context?";__knockleData.splice(0, 1);":""},_}return o(B,I),e(B,[{key:"updateFrom",value:function(){return{added:[],removed:[],elements:[]}}}]),B}();T.register("r-tmpl",U);var z=function(){function _(n,o,i,t,e){return a(this,_),c(this,l(_).call(this,n,o,i,t,e))}return o(_,I),e(_,[{key:"compile",value:function(){try{return";var __hp=_rotors.parse(__knockleData[0]."+this.children[0].bindings.__element.e[0][1]+"),__hc=_rotors.compile(__hp,true);var __f=__hc(__knockleData[0], _rotors);_rotors.copyChildNodes(__f, _rotors.peek(_els));"}catch(n){return""}}},{key:"updateFrom",value:function(){return{added:[],removed:[],elements:[]}}}]),_}();if(T.register("r-html",z),"undefined"!=typeof window){var V={},H=function(n,o){if(null!=V[n])throw new Error("Tag '"+n+"' already registered");V[n]=o},W=function(n){return V[n]};window.Knockle={newInstance:function(n){return new F(n||{},H,W)},data:function(n,o,i){return r(n,o,i)},filterEmpty:function(n){return s(n)}}}n.AbstractEntry=b,n.CommentEntry=S,n.CustomTag=x,n.EachEntry=L,n.ElementEntry=I,n.Elements=T,n.ElseEntry=G,n.HtmlEntry=z,n.IfEntry=R,n.InBrowserTemplateResolver=B,n.Knockle=F,n.TextEntry=A,n.TmplEntry=U,n._addBinding=m,n._bindOneAtt=D,n.data=r,n.eachNotEmpty=f,n.extend=w,n.fastTrim=p,n.filterEmpty=s,n.isLoopPresent=v,n.parseAttributes=C,n.parseAtts=y,n.peek=g,n.uuid=d,Object.defineProperty(n,"__esModule",{value:!0})}),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var n,_=this.jsPlumbUtil;"undefined"!=typeof exports&&(exports.jsPlumbUtil=_),(n=_.xml||(_.xml={})).setNodeText=function(n,o){n.text=o;try{n.textContent=o}catch(n){}},n.getNodeText=function(n){return null!=n?n.text||n.textContent:""},n.getChild=function(n,o){for(var i=null,t=0;t<n.childNodes.length;t++)if(1===n.childNodes[t].nodeType&&n.childNodes[t].nodeName===o){i=n.childNodes[t];break}return i},n.getChildren=function(n,o){for(var i=[],t=0;t<n.childNodes.length;t++)1===n.childNodes[t].nodeType&&n.childNodes[t].nodeName===o&&i.push(n.childNodes[t]);return i},n.xmlToString=function(o){try{return(new XMLSerializer).serializeToString(o).replace(/\s*xmlns=\"http\:\/\/www.w3.org\/1999\/xhtml\"/g,"")}catch(n){try{return o.xml}catch(n){throw new Error("Cannot serialize XML "+n)}}},n.createElement=function(o,n,i){var t;try{t=new ActiveXObject("Microsoft.XMLDOM").createNode(1,o,"")}catch(n){t=document.createElement(o)}if(i&&_.xml.setNodeText(t,i),n)for(var e in n)t.setAttribute(e,n[e]);return t},_.debounce=function(n,o){o=o||150;var i=null;return function(){window.clearTimeout(i),i=window.setTimeout(n,o)}},_.ajax=function(n){var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),i=n.type||"GET";if(o){var t="json"===n.dataType?function(n){return JSON.parse(n)}:function(n){return n};o.open(i,n.url,!0);var e=n.headers||{};for(var _ in e)o.setRequestHeader(_,e[_]);o.onreadystatechange=function(){4===o.readyState&&("2"===(""+o.status)[0]?n.success(t(o.responseText)):n.error&&n.error(o.responseText,o.status))},o.send(n.data?JSON.stringify(n.data):null)}else n.error&&n.error("ajax not supported")}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){jsPlumbUtil.FilterableDataset=function(o){this.filter=function(_,w){var e="function"==typeof _?_:function(n){var o=n.data,i=!1;for(var t in _){var e=_[t]===o[t];if(!e&&!w)return!1;i=i||e}return i},d=function(n){return new jsPlumbUtil.Selection({toolkit:o,onClear:n||function(){}})}();return this.eachNode(function(n,o){e(o)&&d.append(o);for(var i=o.getPorts(),t=0;t<i.length;t++)e(i[t])&&d.append(i[t])}),this.eachEdge(function(n,o){e(o)&&d.append(o)}),this.eachGroup(function(n,o){e(o)&&d.append(o)}),d}}}.call("undefined"==typeof window?this:window),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){var I=this.jsPlumb,k=this.jsPlumbUtil,T="jtk-animate-node-traversing",N="jtk-animate-edge-traversing",M="jtk-animate-edge-traversed",O="INITIALIZED",F="TRAVERSING_START",L="TRAVERSING_EDGE",R="TRAVERSING_END",G="CANCELLED",U="FINISHED";I.Connection.prototype.animateOverlay=function(n,o){var i=this,t=new k.EventGenerator,e=i.getConnector().getLength();o=o||{};var _=k.uuid(),w=o.events||{};for(var d in w)t.bind(d,w[d]);var r,s,B,a=null,j=!1!==o.forwards,l=o.rate||30,u=o.dwell||350,c=1/(e/(o.speed||100)*1e3/l)*(j?1:-1),h=!1!==o.isFinal,p=j?0:1,f=p,C=j?i.source:i.target,g=j?i.target:i.source,v=!0===o.paused,m=!1,D=!1,y=O;if("string"==typeof n)B=[n,{location:p,id:_}];else{var b=I.extend({},n[1]);b.location=p,b.id=_,B=[n[0],b]}function A(n){D=!1,i.removeOverlay(_),window.clearInterval(r),h?n?(y=G,I.removeClass(C,T),I.removeClass(g,T),i.removeClass(N)):(y=R,I.addClass(g,T),window.setTimeout(function(){S()},u)):(I.removeClass(C,T),I.removeClass(g,T),i.removeClass(N),n?y=G:(y=U,i.addClass(M),t.fire(jsPlumbToolkit.Events.endOverlayAnimation,{connection:i,harness:a})))}function P(){f+=c,(j?1<=f:f<=0)?A():(s.loc=f,i.repaint())}function E(){D||y===U||y===G||(I.removeClass(C,T),t.fire(jsPlumbToolkit.Events.nodeTraverseEnd,{connection:i,element:C,harness:a}),y=L,t.fire(jsPlumbToolkit.Events.startOverlayAnimation,{connection:i,harness:a}),s=i.addOverlay(B),r=window.setInterval(P,l))}function x(){D=!(m=!0),t.fire(jsPlumbToolkit.Events.nodeTraverseStart,{connection:i,element:C,harness:a}),I.addClass(C,T),i.addClass(N),y=F,window.setTimeout(function(){E()},u)}var S=function(){D||y===U||y===G||(y=U,I.removeClass(C,T),I.removeClass(g,T),i.removeClass(N),t.fire(jsPlumbToolkit.Events.endOverlayAnimation,{connection:i,harness:a}))};return a={eventGenerator:t,play:function(){m?D&&(D=!1,y===F?E():y===R?S():r=window.setInterval(P,l)):x()},pause:function(){D=!0,window.clearInterval(r)},cancel:function(){y!==U&&y!==G&&(window.clearInterval(r),A(!0))},connection:i},o.previous?o.previous.eventGenerator.bind(jsPlumbToolkit.Events.endOverlayAnimation,x):v||x(),a}}.call("undefined"==typeof window?this:window),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var n=this.jsPlumbUtil;"undefined"!=typeof exports&&(exports.jsPlumbUtil=n);function c(n,o,i,t){for(var e=0;e<o.length;e++)for(var _=0;_<i.length;_++)m(n,o[e]+i[_],t)}var h=["node","port","edge","group"],p=["Added","Removed","Updated","Moved"],f=["edge"],C=["Source","Target"],g=["group:"],v=["addMember","removeMember"],m=function(n,o,i){n.instance.bind(o,i),n.bindings.push([o,i])};n.AutoSaver=function(o,n,i,t,e,_,w,d,r){var s=null,B=[];function a(n){return function(){n&&n.apply(n,arguments),w&&w()}}function j(){if(!u){try{_&&_()}catch(n){}null!=r?r(o):o.save({url:n,success:a(t),error:a(e),headers:i})}}function l(){null==d?j():s=(null==s||clearTimeout(s),setTimeout(j,d))}this.bindings=B,this.instance=o;var u=!1;m(this,"dataLoadStart",function(){u=!0}),m(this,"dataLoadEnd",function(){u=!1}),m(this,"graphClearStart",function(){u=!0}),m(this,"graphCleared",function(){u=!1}),c(this,h,p,l),c(this,f,C,l),c(this,g,v,l),this.discard=function(){B.forEach(function(n){return o.unbind(n[0],n[1])}),B.length=0}},n.CatchAllEventHandler=function(n){function o(){n.fire("dataUpdated")}this.bindings=[],this.instance=n,c(this,h,p,o),c(this,f,C,o),c(this,g,v,o)}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){var y=this.jsPlumbUtil;y.Selection=function(n){n=n||{},y.EventGenerator.apply(this,arguments),y.FilterableDataset.apply(this,[n.toolkit]);function e(n){return"Edge"===n.objectType?r:"Node"===n.objectType?w:d}var _,s=n.toolkit,w=[],d=[],r=[],B=Math.Infinity,a=Math.Infinity,j=Math.Infinity,o=n.generator,i=n.onReload,t=n.onBeforeReload,l=!0===n.autoFill,u=!1,c={},h=this,p=n.onClear||function(){},f=function(n,o){var i=n.objectType.toLowerCase()+o,t={Group:{data:n.data,group:n},Node:{data:n.data,node:n},Port:{data:n.data,node:n.node,port:n},Edge:{data:n.data,edge:n}};h.fire(i,t[n.objectType])};this.getModel=s.getModel,this.setSuspendGraph=s.setSuspendGraph,this.getNodeId=s.getNodeId,this.getGroupId=s.getNodeId,this.getEdgeId=s.getEdgeId,this.getPortId=s.getPortId,this.getNodeType=s.getNodeType,this.getGroupType=s.getNodeType,this.getEdgeType=s.getEdgeType,this.getPortType=s.getPortType,this.getObjectInfo=s.getObjectInfo,this.isDebugEnabled=s.isDebugEnabled,this.beforeStartConnect=s.beforeStartConnect,this.beforeConnect=s.beforeConnect,this.getEdgeFactory=s.getEdgeFactory,this.addPort=s.addPort,this.addEdge=s.addEdge,this.edgeMoved=s.edgeMoved,this.removeEdge=s.removeEdge,this.setEdgeGeometry=s.setEdgeGeometry,this.removeFromGroup=s.removeFromGroup,this.batch=s.batch,this.getGraph=s.getGraph;function C(n,o){if(c[n.getFullId()])return[[],[]];var i=function(n){var o=[],i=e(n),t="Edge"===n.objectType?a:"Node"===n.objectType?B:j;if(i.length>=t){if(_===y.Selection.DISCARD_NEW)return!1;o=i.splice(0,1),f(o[0],"Removed"),delete c[o[0].getFullId()]}return i.push(n),f(n,"Added"),o}(n);return!1===i?[[],[]]:(c[n.getFullId()]=n,o&&o(n,!0),[[n],i])}function g(o,n){return y.removeWithFunction(e(o),function(n){return n.id==o.id})&&f(o,"Removed"),delete c[o.getFullId()],n&&n(o,!1),[[],[]]}function v(n,o){return c[n.getFullId()]?g(n,o):C(n,o)}var m=function(n,t,e){var _,w=[],d=[];if(null==n)return w;var r=function(n){var o;if(y.isString(n))null!=(o=s.getNode(n)||s.getEdge(n)||s.getGroup(n))&&(_=t(o,e),w.push.apply(w,_[0]),d.push.apply(d,_[1]));else if(n.eachNode&&n.eachEdge)n.eachNode(function(n,o){r(o)}),n.eachEdge(function(n,o){r(o)}),n.eachGroup&&n.eachGroup(function(n,o){r(o)});else if(n.each)n.each(function(n,o){r(o.vertex||o)});else if(null!=n.length)for(var i=0;i<n.length;i++)r(n[i],e);else _=t(n,e),w.push.apply(w,_[0]),d.push.apply(d,_[1])};return r(n),[w,d]}.bind(this);s.bind("nodeRemoved",function(n){g(n.node)}),s.bind("groupRemoved",function(n){g(n.group)}),s.bind("portRemoved",function(n){g(n.port)}),s.bind("edgeRemoved",function(n){g(n.edge)}),s.bind("edgeTarget",function(n){c[n.edge.getFullId()]&&h.fire("edgeTarget",n)}),s.bind("edgeSource",function(n){c[n.edge.getFullId()]&&h.fire("edgeSource",n)}),s.bind("nodeAdded",function(n){o&&l&&!u&&this.reload()}.bind(this)),s.bind("nodeUpdated",function(n){c[n.node.getFullId()]&&h.fire("nodeUpdated",n)}),s.bind("groupUpdated",function(n){c[n.group.getFullId()]&&h.fire("groupUpdated",n)}),s.bind("edgeUpdated",function(n){c[n.edge.getFullId()]&&h.fire("edgeUpdated",n)}),s.bind("portUpdated",function(n){c[n.port.getFullId()]&&h.fire("portUpdated",n)}),this.remove=function(n,o){return m(n,g,o)},this.append=function(n,o){return m(n,C,o)},this.toggle=function(n,o){return m(n,v,o)},this.setMaxNodes=function(n){B=n},this.setMaxEdges=function(n){a=n},this.setCapacityPolicy=function(n){_=n},this.clear=function(n){w.length=0,r.length=0,d.length=0,c={},h.fire("graphClearStart"),n||p(this)},s.bind("graphCleared",function(){this.clear()}.bind(this)),s.bind("dataLoadEnd",function(){this.reload()}.bind(this)),this.reload=function(){null!=o&&(t&&t(),this.clear(),u=!0,this.fire("dataLoadStart"),o(this,s),this.fire("dataLoadEnd"),i&&i(),u=!1)},this.each=function(n,o){for(var i="Edge"===o?r:"Group"===o?d:w,t=0;t<i.length;t++)try{n(t,i[t])}catch(n){y.log("Selection iterator function failed",n)}},this.eachNode=this.each,this.eachGroup=function(n){this.each(n,"Group")},this.eachNodeOrGroup=function(n){this.each(n,"Node"),this.each(n,"Group")},this.eachEdge=function(n){this.each(n,"Edge")},this.getNodeCount=function(){return w.length},this.getNodeAt=function(n){return w[n]},this.getNodes=function(){return w},this.getNode=s.getNode,this.getGroupAt=function(n){return d[n]},this.getGroups=function(){return d},this.getGroup=s.getGroup,this.getGroupCount=function(){return d.length},this.getAll=function(){var n=[];return Array.prototype.push.apply(n,w),Array.prototype.push.apply(n,r),Array.prototype.push.apply(n,d),n};function D(n){for(var o=[],i=0;i<n.length;i++)null!=c[n[i].getId()]&&o.push(n[i]);return o}this.getAllEdgesFor=function(n,o){return D(n.getAllEdges({filter:o}))},this.getSourceEdgesFor=function(n){return D(n.getSourceEdges())},this.getEdgeCount=function(){return r.length},this.get=this.getNodeAt=function(n){return w[n]},this.getEdge=this.getEdgeAt=function(n){return r[n]},this.getEdges=function(){return r},this.setCapacityPolicy(y.Selection.DISCARD_EXISTING),!0!==n.lazy&&this.reload()},y.Selection.DISCARD_EXISTING="discardExisting",y.Selection.DISCARD_NEW="discardNew"}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var C=this.jsPlumbGraph={};C.version="0.1",C.name="jsPlumbGraph";function j(n,o){var i={};this.setAttribute=function(n,o){i[n]=o},this.getAttribute=function(n){return i[n]};var t=o.getType(n||{});this.getType=function(){return t},this.setType=function(n){t=n},this.graph=o}function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var o=16*Math.random()|0;return("x"==n?o:3&o|8).toString(16)})}function g(n,o,i){return null==n?t():"string"==typeof n?n:(o||i.getIdFunction())(n)||t()}function I(n,o,i,t,e){for(var _=-1,w=null,d=1/0,r=0;r<n.length;r++)if(!o[r]){var s=e(n[r]);s<d?(d=s,w=n[_=r]):s===d&&n[r].getNode&&n[r].getNode()===w&&(w=n[_=r])}return{node:w,index:_}}function s(n,o){var i=o.getFullId(),t=n[i];return null==t&&(t=n[i=o.getNode?o.getNode().id:o.id]),null==t?null:{p:t,id:i}}function k(n,o,i,t,e,_){for(var w=[],d=t,r=s(o,d);null!=r;)w.splice(0,0,{vertex:d,cost:n[r.id],edge:i[r.id]}),d=r.p,r=s(o,d);return w.splice(0,0,{vertex:d,cost:0,edge:null}),w}var v=C.Vertex=C.Node=function(n,o,w){j.apply(this,[n,w]),this.objectType="Node",this.id=g(n,o,w),this.data=function(n){return"string"==typeof n?{id:n}:n}(n),this.getFullId=function(){return this.id};var t=[],e=0,_=0,d=[],i=[],r={};this.getEdges=function(n){if(null==n||null==n.filter)return t;for(var o=[],i=0;i<t.length;i++)n.filter(t[i])&&o.push(t[i]);return o},this.getSourceEdges=function(){return this.getEdges({filter:function(n){return n.source===this}.bind(this)})},this.getTargetEdges=function(){return this.getEdges({filter:function(n){return n.target===this}.bind(this)})},this.addEdge=function(n){t.push(n),n.source!==this&&n.isDirected()||_++,n.target!==this&&n.isDirected()||e++},this.deleteEdge=function(n){for(var o=-1,i=0;i<t.length;i++)if(t[i].getId()===n.getId()){o=i;break}return-1<o&&(t.splice(o,1),n.source!==this&&n.isDirected()||_--,n.target!==this&&n.isDirected()||e--,!0)},this.getAllEdges=function(n){for(var o=this.getEdges(n).slice(0),i=0;i<d.length;i++)o.push.apply(o,d[i].getEdges(n));return o},this.getAllSourceEdges=function(){for(var n=this.getSourceEdges().slice(0),o=0;o<d.length;o++)n.push.apply(n,d[o].getSourceEdges());return n},this.getAllTargetEdges=function(){for(var n=this.getTargetEdges().slice(0),o=0;o<d.length;o++)n.push.apply(n,d[o].getTargetEdges());return n},this.getDirectEdges=function(n){return this.getEdges(n)},this.getDirectSourceEdges=function(){return this.getSourceEdges()},this.getDirectTargetEdges=function(){return this.getTargetEdges()},this.getPortEdges=function(n){for(var o=[],i=0;i<d.length;i++)o.push.apply(o,d[i].getEdges(n));return o},this.getPortSourceEdges=function(){for(var n=[],o=0;o<d.length;o++)n.push.apply(n,d[o].getSourceEdges());return n},this.getPortTargetEdges=function(){for(var n=[],o=0;o<d.length;o++)n.push.apply(n,d[o].getTargetEdges());return n},this.addGraph=function(n){return n="string"==typeof n?new C.Graph({id:n}):n,i.push(n),n.id||(n.id=""+i.length),n},this.getGraph=function(n){for(var o=0;o<i.length;o++)if(i[o].id===n)return i[o]},this.getIndegreeCentrality=function(){for(var n=0,o=0;o<d.length;o++)n+=d[o].getIndegreeCentrality();return e+n},this.getOutdegreeCentrality=function(){for(var n=0,o=0;o<d.length;o++)n+=d[o].getOutdegreeCentrality();return _+n},this.getPorts=function(){return d},this.addPort=function(n,o){var i=g(n,o,w),t=this.getPort(i);return null==t&&(t=new l(n,o,this),d.push(t),r[t.id]=t),t},this.setPort=function(n,o){var i=this.getPort(n);return(i=i||this.addPort({id:n})).data=o,i.setType(this.graph.getType(o)),i},this.getPort=function(n){return r[n]};function s(n){return n.constructor==C.Port?n.id:n}this.renamePort=function(n,o){return!!r[n.id]&&(r[o]=r[n.id],delete r[n.id],!0)},this.removePort=function(n){if(n){for(var o=s(n),i=-1,t=!1,e=0;e<d.length;e++)if(d[e].id===o){i=e;break}if(-1!=i){var _=d[i];w.deleteVertex(_.getFullId()),d.splice(i,1),t=!0}delete r[o]}return t};var B=0,a={};this.setDefaultInternalCost=function(n){B=n},this.getInternalEdge=function(n,o){var i=s(n),t=s(o),e={source:r[i],target:r[t],cost:1/0};if(e.source&&e.target){var _=a[i+"-"+t]||{cost:B,directed:!1};for(var w in _)e[w]=_[w]}return e},this.setInternalEdge=function(n,o,i,t){var e=s(n),_=s(o);return a[e+"-"+_]={cost:i||B,directed:t},this.getInternalEdge(n,o)},this.inspect=function(){for(var n="{ id:"+this.id+", edges:[\n",o=0;o<t.length;o++)n+=t[o].inspect()+"\n";return n+="]}"}},l=C.Port=function(n,o,i){v.apply(this,[n,o,i.graph]),this.objectType="Port",this.getNode=function(){return i},this.getFullId=function(){return i.id+this.graph.getPortSeparator()+this.id},this.isChildOf=function(n){return i==n},this.getPorts=this.addPort=this.deletePort=this.getPort=null},m=C.Edge=function(n){j.call(this,n.data,n.graph),this.source=n.source,this.target=n.target,this.objectType="Edge";var o=n.cost||1,i=!(!1===n.directed),t=n.id;this.data=n.data||{},this.getCost=function(){return o},this.setCost=function(n){o=n},this.getId=this.getFullId=function(){return null===t?this.source.id+"_"+this.target.id:t},this.setId=function(n){t=n},this.isDirected=function(){return i},this.setDirected=function(n){i=n},this.inspect=function(){if(null!=t)return"{ id:"+t+", connectionId:null, cost:"+o+", directed:"+i+", source:"+this.source.id+", target:"+this.target.id+"}"}},_=C.Group=function(n,o,_){v.apply(this,arguments),this.objectType="Group";var w=[],i={};this.addVertex=this.addNode=function(n){return null==i[n.id]&&(w.push(n),(i[n.id]=n).group=this,!0)},this.getVertexCount=this.getNodeCount=function(){return w.length},this.getVertices=this.getNodes=function(){return w},this.deleteVertex=this.deleteNode=function(n){if(n="string"==typeof n?i[n]:n){var o=w.indexOf(n);-1!==o&&(w.splice(o,1),delete i[n.getFullId()]),delete n.group}},this.cleanup=function(n){var o,i=this.getAllDirectEdges(),t=i.length;for(o=0;o<t;o++)_.deleteEdge(i[0]);var e=w.length;for(o=0;o<e;o++)n?_.deleteVertex(w[0]):delete w[0].group;w.length=0},this.getAllDirectEdges=function(n){var o,i=[];i.push.apply(i,this.getEdges(n).slice(0));var t=this.getPorts();for(o=0;o<t.length;o++)i.push.apply(i,t[o].getEdges(n));return i},this.getAllEdges=function(n){for(var o=[],t={},i=0;i<w.length;i++)Array.prototype.push.apply(o,w[i].getAllEdges(n).filter(function(n){var o=n.getId(),i=null==t[o];return t[o]=!0,i}));return o.push.apply(o,this.getAllDirectEdges(n)),o}},D=C.Cluster=function(n){this.vertices=[n],this.addVertex=function(n){this.vertices.push(n)}},y=(C.Graph=function(n){n=n||{},this.vertices=[],this.edges=[],this.groups=[],this.id=n.id;function r(n){delete i[n.id]}function t(n){i[n.id]=n}var s={},B=0,a={},j=0,d={},e=0,l=!(!1===n.defaultDirected),u=n.defaultCost||1,c=n.idFunction||function(n){return n.id},o=n.typeFunction||function(n){return n.type||"default"},h=!0===n.enableSubgraphs,p=n.portSeparator||".",i={};this.setIdFunction=function(n){c=n},this.getIdFunction=function(){return c},this.setTypeFunction=function(n){o=n},this.getType=function(n){return o(n)},this.getTopLevelElements=function(){return i},this.setEnableSubgraphs=function(n){h=n},this.setPortSeparator=function(n){p=n},this.getPortSeparator=function(){return p},this.splitPortId=function(n){return null!=n?n.split(p):[]},this.getVertexByPortId=function(n){var o=this.splitPortId(n);if(2===o.length)return s[o[0]]};function f(n,_){if(null==n)return null;if("string"!=typeof n){if(n.constructor==C.Port||n.constructor==C.Node||n.constructor==C.Group)return n;var o=n;if("string"!=typeof(n=c(n)))return o}function i(n){if(s[n])return s[n];if(d[n])return d[n];var o=n.split(p),i=o[0],t=s[i]||d[i];if(2!==o.length||null==t)return t;var e=t.getPort(o[1]);return null==e&&_&&(e=t.addPort(o[1])),e}var t=h?n.split("/"):[n];if(1==t.length)return i(t[0]);if(1<t.length&&t%2==0)throw"Subgraph path format error.";for(var e=null,w=0;w<t.length-1;w+=2)e=i(t[w]).getGraph(t[w+1]);return e.getVertex(t[t.length-1])}this.clear=function(){this.vertices.length=0,this.groups.length=0,j=B=0,s={},a={},d={},i={}},this.getVertices=this.getNodes=function(){return this.vertices},this.getVertexCount=this.getNodeCount=function(){return this.vertices.length},this.getVertexAt=this.getNodeAt=function(n){return this.vertices[n]},this.getEdgeCount=function(){return j},this.addEdge=function(n,o,i){var t=null==n.directed?!0==l:!(!1===n.directed),e=n.cost||u,_=g(n.data,o,this),w=f(n.source,!0),d=f(n.target,!0),r=n.data||{};if(null==w||null==w.objectType)throw new TypeError("Unknown source node ["+n.source+"]");if(null==d||null==d.objectType)throw new TypeError("Unknown target node ["+n.target+"]");if(i&&!i(w,d))return null;var s=new m({source:w,target:d,cost:e,directed:t,data:r,id:_,graph:this});return s.source.addEdge(s),s.source!==s.target&&s.target.addEdge(s),a[_]=s,j++,null!=n.geometry&&(s.geometry=n.geometry),s},this.addVertex=this.addNode=function(n,o){var i=new v(n,o||c,this);return s[i.id]?null:(this.vertices.push(i),(s[i.id]=i)._id=B++,t(i),i)},this.addVertices=this.addNodes=function(n,o){for(var i=0;i<n.length;i++)this.addVertex(n[i],o||c)},this.addGroup=function(n,o){var i=new _(n,o||c,this);return d[i.id]?d[i.id]:(this.groups.push(i),(d[i.id]=i)._id=e++,t(i),i)},this.getGroupCount=function(){return this.groups.length},this.getGroupAt=function(n){return this.groups[n]},this.getGroups=function(){return this.groups},this.addVertexToGroup=function(n,o){o="string"==typeof o?d[o]:o,(n=f(n))&&o&&(o.addVertex(n),r(n))},this.addVerticesToGroup=function(n,o){for(var i=0;i<n.length;i++)this.addVertexToGroup(n[i],o)},this.deleteVertexFromGroup=function(n){(n=f(n))&&n.group&&(n.group.deleteVertex(n),t(n))},this.deleteVerticesFromGroup=function(n,o){for(var i=0;i<n.length;i++)this.deleteVertexFromGroup(n[i],o)},this.deleteGroup=function(n,o){if(n="string"==typeof n?d[n]:n){n.cleanup(o),delete d[n.id];for(var i=-1,t=0;t<this.groups.length;t++)if(this.groups[t].id===n.id){i=t;break}return-1<i&&this.groups.splice(i,1),r(n),n}},this.getGroup=function(n){return"string"==typeof n?d[n]:n},this.deleteVertex=this.deleteNode=function(n){var o=f(n);if(o){if("Port"!==o.objectType){for(var i=-1,t=0;t<this.vertices.length;t++)if(this.vertices[t].id===o.id){i=t;break}-1<i&&(this.vertices.splice(i,1),null!=o.group&&o.group.deleteVertex(o))}for(var e=o.getEdges(),_=0;_<e.length;_++)this.deleteEdge(e[_]);if(j-=e.length,o.getPorts)for(var w=o.getPorts(),d=0;d<w.length;d++)this.deleteVertex(w[d]);delete s[o.getFullId()],B--,r(o)}},this.deleteEdge=function(n){if(null!=(n=this.getEdge(n))){var o=f(n.source);o&&o.deleteEdge(n)&&j--;var i=f(n.target);i&&i.deleteEdge(n),delete a[n.getId()]}},this.getEdge=function(n){if(null!=n){if("string"!=typeof n){if(n.constructor===C.Edge)return n;var o=n;if("string"!=typeof(n=c(n)))return o}return a[n]}},this.getEdges=function(n){function o(n){_(n)&&function(n){return!(null!=t&&n.source===d!==t||null!=e&&n.target===d!==e)}(n)&&w.push(n)}var i,t=(n=n||{}).source,e=n.target,_=n.filter||function(){return!0},w=[];if(n.node){var d=f(n.node),r=d.getAllEdges();for(i=0;i<r.length;i++)o(r[i])}else for(i in a)o(a[i]);return w},this.getAllEdges=function(){var n=[];for(var o in a)n.push(a[o]);return n},this.renamePort=function(n,o){return!!n.getNode().renamePort(n,o)&&(n.id=o,!0)},this.findPath=function(n,o,i,t,e){return n=f(n),o=f(o),w.compute({graph:this,source:n,target:o,strict:!(!1===i),nodeFilter:t,edgeFilter:e})},this.getDistance=function(n,o,i){return this.findPath(n,o,i).pathDistance},this.getVertex=this.getNode=f,this.setTarget=function(n,o){if(null==(o=f(o)))return{success:!1};var i=n.target;return n.target.deleteEdge(n),(n.target=o).addEdge(n),{old:i,edge:n,new:o,success:!0}},this.setSource=function(n,o){if(null==(o=f(o)))return{success:!1};var i=n.source;return n.source.deleteEdge(n),(n.source=o).addEdge(n),{old:i,edge:n,new:o,success:!0}},this.printPath=function(n,o){n=f(n),o=f(o);for(var i=this.findPath(n,o).path,t="["+n.id+" - "+o.id+"] : ",e=0;e<i.length;e++)t=t+"{ vertex:"+i[e].vertex.id+", cost:"+i[e].cost+", edge: "+(i[e].edge&&i[e].edge.getId())+" } ";return t},this.getDiameter=function(n){for(var o=0,i=0;i<this.vertices.length;i++)for(var t=0;t<this.vertices.length;t++)if(t!=i){var e=w.compute({graph:this,source:this.vertices[i],target:this.vertices[t]});if(null==e.path||0==e.path.length){if(!n)return 1/0}else o=Math.max(o,e.pathDistance)}return o},this.diameter=this.getDiameter,this.getCentrality=function(n){return((n=f(n)).getIndegreeCentrality()+n.getOutdegreeCentrality())/(this.getVertexCount()-1)},this.getDegreeCentrality=this.getCentrality,this.getIndegreeCentrality=function(n){return(n=f(n)).getIndegreeCentrality()/(this.getVertexCount()-1)},this.getOutdegreeCentrality=function(n){return(n=f(n)).getOutdegreeCentrality()/(this.getVertexCount()-1)},this.getCloseness=function(n){return 1/this.getFarness(n)},this.getFarness=function(n){n=f(n);var o=w.compute({graph:this,source:n,target:n,processAll:!0}),i=0;for(var t in o.dist)i+=o.dist[t];return i/(this.getVertexCount()-1)},this.getBetweenness=function(n){var o=this.getVertexCount(),i=(o-1)*(o-2)/2,t=0,r=function(n,o,i,t,e){var _=i.parents[n][o];if(0==_.length)(d=t.slice()).unshift(n),e.push(d);else for(var w=0;w<_.length;w++){var d;if(-1==t.indexOf(_[w][0].id))(d=t.slice()).unshift(_[w][0].id),r(n,_[w][0].id,i,d,e)}};n=f(n);var e=y.compute({graph:this,focus:n});for(var _ in e.paths)for(var w in e.paths[_])if(_!=w){var d=[],s=0;r(_,w,e,[w],d);for(var B=0;B<d.length;B++){var a=d[B].indexOf(n.id);0<a&&a<d[B].length-1&&s++}t+=s/d.length,s}return t/i},this.inspect=function(){for(var n="",o=0;o<this.vertices.length;o++)n+=this.vertices[o].inspect()+"\n";return n},this.serialize=function(){for(var n,o,i,t,e={nodes:[],edges:[],ports:[],groups:[]},_=0;_<this.vertices.length;_++){n=this.vertices[_],e.nodes.push(n.data),o=n.getAllEdges(),i=n.getPorts();for(var w=0;w<o.length;w++)if(o[w].source==n||"Port"===o[w].source.objectType&&o[w].source.getNode()==n){var d={source:o[w].source.getFullId(),target:o[w].target.getFullId()};o[w].data&&(d.data=o[w].data),o[w].geometry&&(d.geometry=o[w].geometry),e.edges.push(d)}for(var r=0;r<i.length;r++){var s={};for(var B in i[r].data)s[B]=i[r].data[B];s.id=i[r].getFullId(),e.ports.push(s)}}for(_=0;_<this.groups.length;_++){t=this.groups[_],e.groups.push(t.data),o=t.getEdges();for(w=0;w<o.length;w++)if(o[w].source===t){d={source:t.getFullId(),target:o[w].target.getFullId()};o[w].data&&(d.data=o[w].data),e.edges.push(d)}}return e},this.getClusters=function(){var n,_=[],w={},d=function(n,o){if(null!=n&&!w[n.id]){null==o?(o=new D(n),_.push(o)):o.addVertex(n),w[n.id]=!0;for(var i=n.getAllEdges(),t=0;t<i.length;t++){var e=i[t].source===n?i[t].target:i[t].source;d(e,o)}}};for(n=0;n<this.vertices.length;n++)d(this.vertices[n]);for(n=0;n<this.groups.length;n++)d(this.groups[n]);return _}},{getPath:function(n,o,i,t){if(n[i.id][t.id]===1/0)return null;var e=o[i.id][t.id];return null==e?" ":y.getPath(n,o,i,e)+" "+e.id+" "+y.getPath(n,o,e,t)},getPaths:function(n,o,i,t,e){if(n[i.id][t.id]===1/0)return null;var _=o[i.id][t.id];return 0===_.length?" ":y.getPaths(n,o,i,_[0])+" "+_[0].id+" "+y.getPaths(n,o,_[0],t)},compute:function(n){var o,i,t,e=n.graph,_=e.getVertexCount(),w={},d={};for(o=0;o<_;o++){var r=e.getVertexAt(o);for(w[r.id]||(w[r.id]={}),d[r.id]||(d[r.id]={}),i=w[r.id][r.id]=0;i<_;i++)if(o!==i){var s=e.getVertexAt(i);w[r.id][s.id]||(w[r.id][s.id]=1/0),d[r.id][s.id]||(d[r.id][s.id]=[])}var B=r.getEdges();for(t=0;t<B.length;t++)B[t].source===r?w[r.id][B[t].target.id]=B[t].getCost():(w[B[t].source.id]||(w[B[t].source.id]={},d[B[t].source.id]={}),w[r.id][B[t].source.id]=B[t].getCost())}for(t=0;t<_;t++)for(o=0;o<_;o++)for(i=0;i<_;i++)if(o!==i&&i!==t&&o!==t){var a=e.getVertexAt(o).id,j=e.getVertexAt(i).id,l=e.getVertexAt(t).id;w[a][l]+w[l][j]<=w[a][j]&&w[a][l]+w[l][j]!==1/0&&(w[a][j]=w[a][l]+w[l][j],d[a][j]||(d[a][j]=[]),d[a][j].unshift([e.getVertexAt(t),w[a][j]]))}return{paths:w,parents:d}}}),w={compute:function(n){function B(n){return n.getFullId?n.getFullId():n.id}function _(n){var o=f[n.getFullId()];return p[o.v.id]}function a(n,o){var i,t;if("Port"===n.objectType){for(d[n.getFullId()]=o,i=_(n),t=0;t<i.length;t++)i[t].p!==n&&(d[i[t].p.getFullId()]=o+n.getNode().getInternalEdge(n,i[t].p).cost);C||(d[n.getNode().id]=o)}else for(d[n.id]=o,i=p[n.id],t=0;t<i.length;t++)d[i[t].p.getFullId()]=o}function j(n){return e&&!e(n)?1/0:d[B(n)]}function l(n,o,i){if("Port"===n.objectType){for(var t=_(n),e=0;e<t.length;e++)r[t[e].p.getFullId()]=i.node;C||(r[n.getNode().id]=i.node)}r[o]=i.node}function u(n,o,i){if("Port"===n.objectType){for(var t=_(n),e=0;e<t.length;e++)s[t[e].p.getFullId()]=i;C||(s[n.getNode().id]=i)}s[o]=i}var o=n.graph,i=n.source,t=n.target,e=n.nodeFilter,w=n.edgeFilter,d={},r={},s={},c={dist:d,previous:r,edges:s,path:[]},h=n.processAll,p={},f={},C=!(!1===n.strict),g=[];if(null==i&&(i=o.getVertex(n.sourceId)),null==t&&(t=o.getVertex(n.targetId)),null==i||null==t)return c;for(var v=0;v<o.vertices.length;v++){var m=o.vertices[v],D=m.getPorts();g.push(m);var y={v:m,i:g.length-1};p[m.id]=[],a(m,1/0);for(var b=0;b<D.length;b++)g.push(D[b]),f[D[b].getFullId()]=y,p[m.id].push({p:D[b],i:g.length-1}),a(D[b],1/0)}a(i,0);for(var A=new Array(o.vertices.length),P=0,E=function(n,o,i,t){for(var e=0;e<o.length;e++){var _=o[e];if(i(_)){var w=t(_),d=w.tp||w.tn,r=B(d),s=j(n.node)+_.getCost();s<j(d)&&(a(d,s),l(d,r,n),u(d,r,_))}}};P<g.length;){var x=I(g,A,0,0,j),S=x.node?B(x.node):null;if(!x.node||j(x.node)===1/0)break;if(t&&(S===B(t)||!C&&x.node.isChildOf&&x.node.isChildOf(t))&&(c.path=k(d,r,s,t),c.pathDistance=c.path[c.path.length-1].cost,!h))break;A[x.index]=!0,P+=1,E(x,x.node.getAllEdges(),function(n){return!(w&&!w(n))&&(!n.isDirected()||x.node===n.source||!C&&n.source.isChildOf&&n.source.isChildOf(x.node))},function(n){var o=n.source.getNode?n.source.getNode():n.source,i=n.source.getNode?n.source:null,t=n.target.getNode?n.target.getNode():n.target,e=n.target.getNode?n.target:null;return n.source===x.node||!C&&n.source.isChildOf&&n.source.isChildOf(x.node)?{tn:t,tp:e}:{tn:o,tp:i}})}return c}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";function on(n){return n.id}var tn=this,en=tn.jsPlumbUtil,_n=tn.jsPlumb,wn=tn.jsPlumbGraph,dn="default";tn.jsPlumbToolkitInstance=function(n){function o(n,o,i){o=null!=o&&en.isObject(o)?o:{},(o=en.clone(o)).id=o.id||en.uuid(),o.type=o.type||(null==n?null:n.type||n),i(o)}var r=(n=n||{}).idFunction||on,_=n.typeProperty||"type",w=n.edgeTypeProperty||"type",d=n.portTypeProperty||"type",i=n.typeFunction||function(n){return n[_]||dn},e=n.edgeIdFunction||r,s=n.edgeTypeFunction||function(n){return n[w]||dn},j=n.portIdFunction||r,t=n.portTypeFunction||function(n){return n[d]||dn},B=n.portExtractor,a=n.portUpdater,l=n.portDataProperty,u=n.portOrderProperty,c=this,h=!1,p=!1,f=n.model||{},C=n.nodeFactory||o,g=n.edgeFactory||o,v=n.portFactory||o,m=n.groupFactory||o,D=n.autoSave&&(n.saveUrl||n.autoSaveHandler),y=n.autoSaveDebounceTimeout,b=n.autoSaveHandler,A=n.saveUrl,P=n.saveHeaders,E=null!=b?null:n.onAutoSaveSuccess||function(){},x=null!=b?null:n.onAutoSaveError||function(){},S=!0===n.doNotUpdateOriginalData,I=null!=b?null:n.onBeforeAutoSave||function(){},k=null!=b?null:n.onAfterAutoSave||function(){},T={portSeparator:n.portSeparator,defaultCost:n.defaultCost,defaultDirected:n.defaultDirected,enableSubgraphs:n.enableSubgraphs},N=!0===n.createMissingGroups;null!=l&&null==B&&(B=function(n){var o=n[l]||[];return null!=u&&o.sort(function(n,o){var i=n[u],t=o[u];return(null==i?1/0:i)-(null==t?1/0:t)}),o}),null!=l&&null==a&&(a=function(n,o,i){var t={};return null!=u&&i.sort(function(n,o){var i=n.data[u],t=o.data[u];return(null==i?1/0:i)-(null==t?1/0:t)}),t[l]=jsPlumbUtil.map(i,function(n){return n.data}),jsPlumb.extend(n,t)}),en.EventGenerator.apply(this,arguments),en.FilterableDataset.apply(this,[this]);var M,O=new wn.Graph(T);D&&(M=new en.AutoSaver(this,A,P,E,x,I,k,y,b)),new en.CatchAllEventHandler(this),this.getNodeFactory=function(){return C},this.getGroupFactory=function(){return m},this.getEdgeFactory=function(){return g},this.getPortFactory=function(){return v},this.setNodeFactory=function(n){C=n},this.setGroupFactory=function(n){m=n},this.setEdgeFactory=function(n){g=n},this.setPortFactory=function(n){v=n},this.setDebugEnabled=function(n){p=n},this.isDebugEnabled=function(){return p},this.getModel=function(){return f||{}};var F,L=function(n,o){if(null==f)return!0;var i=this.getType(n),t=this.getType(o),e=(null==F&&(F=new tn.jsPlumbToolkit.Model(f||{})),F),_=n.getNode?n.getNode():n,w=o.getNode?o.getNode():o,d="Node"===n.objectType?e.getNodeDefinition(i):e.getPortDefinition(i),r="Node"===o.objectType?e.getNodeDefinition(t):e.getPortDefinition(t),s=this.getNodeType(_),B=this.getNodeType(w),a=e.getNodeDefinition(s),j=e.getNodeDefinition(B);return!(null!=d.maxConnections&&n.getEdges().length>=d.maxConnections)&&(!(null!=r.maxConnections&&o.getEdges().length>=r.maxConnections)&&(n==o?!(!1===a.allowLoopback||!1===d.allowLoopback||!1===r.allowLoopback||!1===j.allowLoopback):_!=w||!(!1===a.allowNodeLoopback||!1===d.allowNodeLoopback||!1===r.allowNodeLoopback||!1===j.allowNodeLoopback)))}.bind(this);this.beforeConnect=n.beforeConnect||L,this.beforeMoveConnection=n.beforeMoveConnection||L,this.beforeStartConnect=n.beforeStartConnect||function(n,o){return{}},this.beforeDetach=n.beforeDetach||function(n,o,i){return!0},this.beforeStartDetach=n.beforeStartDetach||function(n,o){return!0},this.setSuspendGraph=function(n){h=n},this.setAutoSave=function(n){null!=M&&M.discard(),M=new en.AutoSaver(this,n.saveUrl,n.saveHeaders,n.onAutoSaveSuccess,n.onAutoSaveError,n.onBeforeAutoSave,n.onAfterAutoSave,n.autoSaveDebounceTimeout,n.autoSaveHandler)},this.setDoNotUpdateOriginalData=function(n){S=n},this.getTypeFunction=function(){return i},this.connect=function(n){var o;if(n=n||{},!h){var i=O.getVertex(n.source),t=O.getVertex(n.target),e=n.cost,_=n.directed;if(!i){if(n.doNotCreateMissingNodes)return;i=O.addVertex(n.source),c.fire("nodeAdded",{data:{},node:i})}if(!t){if(n.doNotCreateMissingNodes)return;t=O.addVertex(n.target),c.fire("nodeAdded",{data:{},node:t})}var w=n.data||{},d=this.beforeStartConnect(i,s(w));if(d)"object"==typeof d&&(w=_n.extend(d,w)),!1!==this.beforeConnect(i,t,w)&&(o=O.addEdge({source:i,target:t,cost:e,directed:_,data:w,geometry:n.geometry}),c.fire("edgeAdded",{edge:o}))}return o},this.clear=function(){return this.fire("graphClearStart"),O.clear(),this.fire("graphCleared"),this},this.getGraph=function(){return O},this.getNodeCount=function(){return O.getVertexCount()},this.getNodeAt=function(n){return O.getVertexAt(n)},this.getNodes=function(){return O.getVertices()},this.eachNode=function(n){for(var o=0,i=O.getVertexCount();o<i;o++)n(o,O.getVertexAt(o))},this.eachGroup=function(n){for(var o=0,i=O.getGroupCount();o<i;o++)n(o,O.getGroupAt(o))},this.eachEdge=function(n){for(var o=O.getEdges(),i=0,t=o.length;i<t;i++)n(i,o[i])},this.getEdgeCount=function(){return O.getEdgeCount()},this.getGroupCount=function(){return O.getGroupCount()},this.getGroupAt=function(n){return O.getGroupAt(n)},this.getGroups=function(){return O.getGroups()},this.getClusters=function(){return O.getClusters()},this.getNodeId=function(n){return en.isObject(n)?r(n):n},this.getNodeType=function(n){return i(n)||"default"},this.getEdgeId=function(n){return en.isObject(n)?e(n):n},this.getEdgeType=function(n){return s(n)||"default"},this.getPortId=function(n){return en.isObject(n)?j(n):n},this.getPortType=function(n){return t(n)||"default"},this.getType=function(n){return("Node"===n.objectType?i:"Port"===n.objectType?t:s)(n.data)||"default"},this.setType=function(n,o){var i=this.getType(n);if(i!==o){var t="Node"===n.objectType?_:"Port"===n.objectType?d:w,e=n.objectType.charAt(0).toLowerCase()+n.objectType.substring(1)+"TypeChanged";n.data[t]=o,this.fire(e,{obj:n,previousType:i,newType:o})}},this.addNode=function(n,o,i){var t=r(n),e=null;null==t&&"string"!=typeof n&&(n.id=en.uuid());var _=O.addNode(n,r);if(null==_)return O.getNode(t);if(null!=B){var w=B(_.data,_);if(null!=w)for(var d=0;d<w.length;d++)_.addPort(w[d],j)}return"string"!=typeof n&&null!=n.group&&(null==(e=this.getGroup(n.group))&&N&&(e=O.addGroup(n.group)),null!=e&&e.addVertex(_)),i||c.fire("nodeAdded",{data:n,node:_,eventInfo:o}),null!=e&&c.fire("group:addMember",{node:_,group:e}),W||S||tn.jsPlumbToolkitIO.manage("addNode",V,H,_,r||O.getIdFunction(),c),_},this.addFactoryNode=function(n,o,i){arguments.length<3&&(2===arguments.length?(o="object"==typeof arguments[1]?arguments[1]:{},i="function"==typeof arguments[1]?arguments[1]:null):1===arguments.length&&(o={})),o.type=o.type||n,C(n,o,function(n){var o=this.addNode(n);i&&i(o)}.bind(this))},this.addNodes=function(n){for(var o=0;o<n.length;o++)c.addNode.apply(c,[n[o]]);return c},this.addFactoryGroup=function(n,o,i){arguments.length<3&&(2===arguments.length?(o="object"==typeof arguments[1]?arguments[1]:{},i="function"==typeof arguments[1]?arguments[1]:null):1===arguments.length&&(o={})),o.type=o.type||n,m(n,o,function(n){var o=this.addGroup(n);i&&i(o)}.bind(this))},this.addGroup=function(n,o,i){null==r(n)&&"string"!=typeof n&&(n.id=en.uuid());var t=O.addGroup(n,r);return W||S||tn.jsPlumbToolkitIO.manage("addGroup",V,H,t,r||O.getIdFunction(),c),i||c.fire("groupAdded",{data:n,group:t,eventInfo:o}),t},this.addToGroup=function(n,o,i,t){var e=!1;if(n=c.getNode(n),o=c.getGroup(o),n&&o&&(e=o.addVertex(n))){n.data.group=o.id;var _={node:n,group:this.getGroup(o),pos:t};i&&(_.sourceGroup=i),c.fire("group:addMember",_),c.fire("dataUpdated")}return e},this.removeFromGroup=function(n,o,i){var t;if((n=c.getNode(n))&&n.group){if((t=n.group).deleteVertex(n),delete n.data.group,!o){var e={node:n,group:t};i&&(e.targetGroup=i),c.fire("group:removeMember",e)}c.fire("dataUpdated")}return t},this.removeGroup=function(n,o,i){var t=c.getObjectInfo(n);if(t&&t.obj){n=t.obj;var e=[];Array.prototype.push.apply(e,n.getNodes());var _=O.deleteGroup(n,o);return _&&(W||S||tn.jsPlumbToolkitIO.manage("removeGroup",V,H,_,r||O.getIdFunction(),c),i||c.fire("groupRemoved",{group:_,removeChildNodes:o,nodes:e})),c}},this.getNode=function(n){return O.getVertex(n)},this.getEdge=function(n){return O.getEdge(n)},this.getGroup=function(n){return O.getGroup(n)},this.getPort=function(n){var o=O.getVertexByPortId(n);if(o)return o.getPort(O.splitPortId(n)[1])},this.exists=function(n){for(var o=0;o<arguments.length;o++)if(null==O.getVertex(arguments[o]))return!1;return!0},this.removeNode=function(n,o){for(var i=(n=n.constructor===wn.Vertex||n.constructor===wn.Port?n:O.getVertex(n)).getAllEdges()||[],t=0;t<i.length;t++)c.removeEdge(i[t]);return O.deleteVertex(n.id),W||S||tn.jsPlumbToolkitIO.manage("removeNode",V,H,n,r||O.getIdFunction(),c),o||c.fire("nodeRemoved",{node:n,nodeId:n.id,edges:i}),c},this.addEdge=function(n,o,i){var t=O.addEdge(n,e,this.beforeConnect);return null!=t?(W||S||tn.jsPlumbToolkitIO.manage("addEdge",V,H,t,e||O.getIdFunction(),c),i||c.fire("edgeAdded",{edge:t,source:o,geometry:n.geometry,addedByMouse:n.addedByMouse},null)):this.isDebugEnabled()&&console.log("JSPLUMB: could not add edge",n,o),t},this.removeEdge=function(n,o){return null!=(n=O.getEdge(n))&&(O.deleteEdge(n),W||S||tn.jsPlumbToolkitIO.manage("removeEdge",V,H,n,e||O.getIdFunction(),c),c.fire("edgeRemoved",{edge:n,source:o},null)),c},this.edgeMoved=function(n,o,i){n[0===i?"source":"target"];return this[0===i?"setSource":"setTarget"](n,o)},this.setTarget=function(n,o,i){var t=O.setTarget.apply(O,arguments);return!1===t.success||i||c.fire("edgeTarget",t),t},this.setSource=function(n,o,i){var t=O.setSource.apply(O,arguments);return!1===t.success||i||c.fire("edgeSource",t),t},this.addNewPort=function(t,n,o,e){t=O.getVertex(t),v({node:t,type:n},o,function(n){var o=j(n),i=t.addPort(o);i.data=n,G(t),W||S||tn.jsPlumbToolkitIO.manage("addPort",V,H,{node:t,port:i},j||O.getIdFunction(),c),e||c.fire("portAdded",{node:t,data:n,port:i},null)})},this.addPort=function(n,o,i){var t=n.addPort(o,j);return G(n),W||S||tn.jsPlumbToolkitIO.manage("addPort",V,H,{node:n,port:t},j||O.getIdFunction(),c),i||c.fire("portAdded",{node:n,data:o,port:t},null),t},this.removePort=function(n,o,i){var t=!1,e=(n=n.constructor===wn.Vertex||n.constructor===wn.Port?n:O.getVertex(n)).getPort(o);if(e){var _=e.getAllEdges();if((t=n.removePort(e))&&!i){for(var w=0;w<_.length;w++)c.removeEdge(_[w]);G(n),c.fire("portRemoved",{node:n,port:e,edges:_},null)}}return t},this.remove=function(n){if(null!=n){var o=c.getObjectInfo(n);c.setSuspendRendering(!0);try{if(!o.obj||"Node"!==o.type&&"Edge"!==o.type&&"Group"!==o.type){for(;0<n.getNodeCount();)c.removeNode(n.getNodeAt(0));for(;0<n.getEdgeCount();)c.removeEdge(n.getEdgeAt(0));for(;0<n.getGroupCount();)c.removeGroup(n.getGroupAt(0))}else c["remove"+o.type](o.obj)}finally{c.setSuspendRendering(!1,!0)}}},this.setSuspendRendering=function(n,o){for(var i in Q)Q[i].setSuspendRendering(n,o)},this.batch=function(n){c.setSuspendRendering(!0);try{n()}catch(n){jsPlumbUtil.log("Error in transaction "+n)}finally{c.setSuspendRendering(!1,!0)}};var R=function(n,o,i,t,e){var _=O.getNode(n);if(_&&_.objectType){var w,d=_n.extend({},_.data),r="Port"===_.objectType?_.getFullId():_.id,s="Port"===_.objectType?j(d):null;if(o){for(var B in o)en.replace(_.data,B,o[B]);"Port"===_.objectType&&((w=j(_.data))!==_.id&&O.renamePort(_,w),G(_.getNode()))}var a=t(_,d);a.originalId=r,null!=s&&(a.originalPortId=s),c.fire(i,a,null)}}.bind(this),G=function(n){if(null!=a){var o=a(n.data,n,n.getPorts());null!=o&&(n.data=o,W||this.fire("nodeUpdated",{node:n,updates:{},originalData:n.data}))}}.bind(this);this.updateGroup=function(n,i){R(n,i,"groupUpdated",function(n,o){return{group:n,updates:i||{},originalData:o}})},this.updateNode=function(n,i){R(n,i,"nodeUpdated",function(n,o){return{node:n,updates:i||{},originalData:o}})},this.updatePort=function(n,i){R(n,i,"portUpdated",function(n,o){return{port:n,node:n.getNode(),updates:i||{},originalData:o}})},this.updateEdge=function(n,o){var i=O.getEdge(n);if(i){var t=_n.extend({},i.data);if(o)for(var e in o)null==i.data[e]?i.data[e]=o[e]:en.replace(i.data,e,o[e]);c.fire("edgeUpdated",{edge:i,updates:o||{},originalData:t},null)}},this.update=function(n,o){return en.isString(n)&&(n=this.getNode(n)),n&&n.objectType&&this["update"+n.objectType](n,o),n},this.setEdgeGeometry=function(n,o){var i=jsPlumbUtil.clone(n.geometry||{});n.geometry=o,c.fire("edgePathEdited",{edge:n,geometry:o,originalGeometry:i}),c.fire("dataUpdated")},this.getPath=function(n){return new tn.jsPlumbToolkit.Path(this,n)};function U(n){return null==n?null:"*"===n?O:n.constructor===wn.Vertex||n.constructor===wn.Port?n:en.isString(n)||en.isObject(n)?O.getVertex(n):null}this.findGraphObject=U;function z(s,B,a){function n(n,o,i,t){if(null!=n)for(var e=n[B]({filter:s.filter}),_=0;_<e.length;_++){var w=o&&n===O||e[_].source===n||a&&e[_].source.constructor===wn.Port&&e[_].source.getNode()===n,d=i&&n===O||e[_].target===n||a&&e[_].target.constructor===wn.Port&&e[_].target.getNode()===n;(o&&w||i&&d||t&&(w||d))&&(r=e[_],l[r.getId()]||(j.push(r),l[r.getId()]=!0))}var r}var j=[],l={};return n(U((s=s||{}).source),!0,!1,!1),n(U(s.target),!1,!0,!1),n(U(s.element),!1,!1,!0),j}var V,H,W;this.getEdges=function(n){return z(n,"getEdges",!1)},this.getAllEdges=function(){return O.getAllEdges()},this.getAllEdgesFor=function(n,o){return n.getAllEdges({filter:o})},this.getSourceEdgesFor=function(n,o){return n.getSourceEdges({filter:o})},this.selectAllEdges=function(){return this.filter(function(n){return"Edge"===n.objectType})},this.addAllEdgesToSelection=function(){this.addToSelection(this.getAllEdges())};function X(n,o,i){var t=(n=n||{}).type||"json",e=n.data,_=n.url,w=n.jsonp,d=n.onload,r=n.parameters||{},s=n.error||function(){};if(null==e&&null==_)throw new TypeError("You must supply either data or url to load.");function B(n){V=n,H=t,W=!0,c.fire(o),tn.jsPlumbToolkitIO.parse(t,n,c,r),$(i),d&&d(c,n),c.fire("graphChanged")}if(e)B(e);else if(_){if(w){var a=-1===_.indexOf("?")?"?":"&";_=_+a+"callback=?"}var j="json"===t?t:n.dataType,l=n.headers||{Accept:"application/json"};en.ajax({url:_,success:B,dataType:j,error:s,headers:l})}return c}this.load=function(n){return X(n,"dataLoadStart","dataLoadEnd")},this.append=function(n){return X(n,"dataAppendStart","dataAppendEnd")},this.save=function(n){n=n||{};var o=this.exportData(n),i={"Content-Type":"application/json"};return _n.extend(i,n.headers||{}),en.ajax({url:n.url,type:"POST",data:o,success:n.success||function(){},error:n.error||function(){},headers:i}),c},this.exportData=function(n){return n=n||{},tn.jsPlumbToolkitIO.exportData(n.type||"json",c,n.parameters)};function Y(n){return new en.Selection({toolkit:c,onClear:n||function(){}})}var Z=Y(function(n){c.fire("selectionCleared",{selection:n})});n.maxSelectedNodes&&Z.setMaxNodes(n.maxSelectedNodes),n.maxSelectedEdges&&Z.setMaxEdges(n.maxSelectedEdges),n.selectionCapacityPolicy&&Z.setCapacityPolicy(n.selectionCapacityPolicy);function q(n,o,i,t){return o||i.clear(!0),i.append(n,function(n){t&&c.fire("select",{append:o,obj:n,selection:i})})}this.setSelection=function(n){q(n,!1,Z,!0)},this.select=function(n,o){var i=Y(),t=q(n,!0,i);if(o)for(var e=0;e<t[0].length;e++){var _=t[0][e];if("Node"===_.objectType||"Port"===_.objectType)for(var w=_.getAllEdges(),d=0;d<w.length;d++)i.append(w[d])}return i};var J=function(n,o,i,t){for(var e=n.getAllEdges(),_=0,w=e.length;_<w;_++)if(e[_].source===n||e[_].getNode&&e[_].getNode()===n){var d=e[_].target,r=d.getFullId();t[r]||(o.append(d),i&&o.append(e[_]),t[r]=!0,J(d,o,i,t))}};this.selectDescendants=function(n,o,i){var t=c.getObjectInfo(n),e=Y();if(t.obj&&"Node"===t.obj.objectType){o&&q(t.obj,!0,e);var _={};_[t.obj.getFullId()]=!0,J(t.obj,e,i,_)}return e},this.addToSelection=function(n){var o=this.getObjectInfo(n);if(o){var i=q(o.obj,!0,Z,!0);K("deselect",i[1]),K("select",i[0])}};var K=function(n,o){for(var i=0;i<o.length;i++)c.fire(n,{obj:o[i],selection:Z})};this.toggleSelection=function(n){var o=this.getObjectInfo(n);if(o){var i=[],t=Z.toggle(o.obj,function(n,o){o||i.push(n)});K("deselect",t[1]),K("deselect",i),K("select",t[0])}},this.removeFromSelection=function(n){var o=this.getObjectInfo(n);o&&Z.remove(o.obj,function(n){c.fire("deselect",{obj:n,selection:Z})})},this.addPathToSelection=function(n){this.addToSelection(this.getPath(n))},this.selectAll=function(){throw new TypeError("not implemented")},this.clearSelection=Z.clear,this.getSelection=function(){return Z},this.setMaxSelectedNodes=function(n){Z.setMaxNodes(n)},this.setMaxSelectedEdges=function(n){Z.setMaxEdges(n)},this.setSelectionCapacityPolicy=function(n){Z.setCapacityPolicy(n)};var $=function(n){c.setSuspendGraph(!0),c.fire(n),c.setSuspendGraph(!1),W=!1},Q={};if(this.render=function(n,o){var i=_n.extend({},o||{});if(_n.extend(i,n),i.toolkit=c,null==i.container)throw new Error("jsPlumbToolkit: You must specify a `container` into which to render");null!=n.selection&&(n.selection.constructor===en.Selection?i.toolkit=n.selection:i.toolkit=new en.Selection({generator:n.selection,toolkit:c})),i.toolkitInstance=c;var t=i.type||tn.jsPlumbToolkit.DefaultRendererType,e=new tn.jsPlumbToolkit.Renderers[t](i),_=i.id||en.uuid();return(Q[_]=e).id=_,null!=n.selection&&(e.reload=i.toolkit.reload.bind(i.toolkit)),e._onDestroy=function(n){delete Q[n.id]},e},this.getRenderer=function(n){return Q[n]},this.getRenderers=function(){return Q},this.getObjectInfo=function(n,o){var i={els:{},obj:null,type:null,id:null,el:null},t=function(n){if(null!=n)return n.jtk?n:t(n.parentNode)};if(null!=n){if(n.eachNode&&n.eachEdge)return{obj:n};if(en.isArray(n))return{obj:n};var e=_n.getElement(n);if(null!=e&&e.jtk)i.el=e,i.obj=e.jtk.port||e.jtk.node||e.jtk.group;else if(null!=n.tagName){var _=t(e);null!=_&&(i.el=_,i.obj=_.jtk.port||_.jtk.node||_.jtk.group)}else{if("string"==typeof n)n=this.getNode(n)||this.getGroup(n)||this.getPort(n);else"object"==typeof n&&void 0===n.objectType&&(n=this.getNode(r(n)));if(null==n)return i;i.obj=n,null!=o&&(i.el=o(n))}null==o&&(i.els=function(n){var o={};for(var i in Q)o[i]=[Q[i],Q[i].getRenderedElement(n)];return o}(i.obj)),null!=i.obj&&(i.id=i.obj.id,i.type=i.obj.objectType)}return i},this.getVersion=function(){return"%VERSION%"},n.data){var nn=n.dataType||"json";c.load({data:n.data,type:nn})}},en.extend(tn.jsPlumbToolkitInstance,[en.FilterableDataset,en.EventGenerator]),tn.jsPlumbToolkit=new tn.jsPlumbToolkitInstance({}),tn.jsPlumbToolkit.DefaultRendererType=null,tn.jsPlumbToolkit.ready=_n.ready,tn.jsPlumbToolkit.Renderers={},tn.jsPlumbToolkit.Widgets={};function n(n){return new tn.jsPlumbToolkitInstance(n)}tn.jsPlumbToolkit.newInstance=n,"undefined"!=typeof exports&&(exports.jsPlumbToolkit=tn.jsPlumbToolkit,exports.newInstance=n)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){var a=this.jsPlumbToolkit,j=this.jsPlumbUtil;a.Model=function(t,n){(t=t||{}).nodes=t.nodes||{},t.edges=t.edges||{},t.ports=t.ports||{},t.groups=t.groups||{};function o(n){if(d.edges[n])return d.edges[n];var o=j.mergeWithParents([n,"default"],t.edges);if(null!=o.label){o.overlays=o.overlays||[];var i=["Label",{id:"label",label:o.label}];o.labelClass&&(i[1].labelStyle={cssClass:o.labelClass}),o.labelLocation&&(i[1].location=o.labelLocation),o.labelLocationAttribute&&(i[1].labelLocationAttribute=o.labelLocationAttribute),o.overlays.push(i)}return delete o.parent,d.edges[n]=o}function i(n,o){if(d.ports[n])return d.ports[n];var i=o&&o.ports?j.mergeWithParents([n,"default"],o.ports):j.mergeWithParents([n,"default"],t.ports);return delete i.parent,d.ports[n]=i}var e,_,w={},d={nodes:{},edges:{},groups:{},ports:{}};if(void 0!==n){for(var r in t.edges){if((e=o(r)).overlays)for(_=0;_<e.overlays.length;_++)if(j.isArray(e.overlays[_])&&e.overlays[_][1].events)for(var s in e.overlays[_][1].events)e.overlays[_][1].events[s]=function(i,t){return function(n,o){i.call(t,{overlay:n,e:o,component:n.component,edge:n.component.edge})}}(e.overlays[_][1].events[s],e.overlays[_]);n.registerConnectionType(r,e)}for(_ in t.ports)e=i(_),n.registerEndpointType(_,e);if(t.states)for(var B in t.states)w[B]=new a.UIState(B,t.states[B],n)}return{getNodeDefinition:function(n){if(d.nodes[n])return d.nodes[n];var o=j.mergeWithParents([n,"default"],t.nodes);return delete o.parent,d.nodes[n]=o},getEdgeDefinition:o,getPortDefinition:i,getGroupDefinition:function(n){if(d.groups[n])return d.groups[n];var o=j.mergeWithParents([n,"default"],t.groups);return delete o.parent,d.groups[n]=o},getState:function(n){return w[n]}}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){function w(i){function t(){--o<=0&&d()}var o=0;this.add=function(n){o++,jsPlumbUtil.ajax({url:n,success:function(n){var o=i.innerHTML;o+=n,i.innerHTML=o,t()},error:function(n){t()}})},this.ensureNotEmpty=function(){o<=0&&d()}}var o=jsPlumbToolkit.ready,i=[],t=!1,d=function(){t=!0;for(var n=0;n<i.length;n++)o.call(o,i[n])};jsPlumbToolkit.ready=function(n){t?o.call(o,n):i.push(n)},jsPlumb.ready(function(){var n=document.getElementById("jsPlumbToolkitTemplates");if(n)d();else{(n=document.createElement("div")).style.display="none",n.id="jsPlumbToolkitTemplates",document.body.appendChild(n);for(var o=new w(n),i=document.getElementsByTagName("script"),t=0;t<i.length;t++){var e=i[t].getAttribute("type"),_=i[t].getAttribute("src");"text/x-jtk-templates"==e&&o.add(_)}o.ensureNotEmpty()}})}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";this.jsPlumbToolkit.Classes={LASSO:"jtk-lasso",LASSO_SELECT_DEFEAT:"jtk-lasso-select-defeat",MINIVIEW:"jtk-miniview",MINIVIEW_CANVAS:"jtk-miniview-canvas",MINIVIEW_PANNER:"jtk-miniview-panner",MINIVIEW_ELEMENT:"jtk-miniview-element",MINIVIEW_GROUP_ELEMENT:"jtk-miniview-group-element",MINIVIEW_PANNING:"jtk-miniview-panning",MINIVIEW_COLLAPSE:"jtk-miniview-collapse",MINIVIEW_COLLAPSED:"jtk-miniview-collapsed",MOST_RECENTLY_DRAGGED:"jtk-most-recently-dragged",NODE:"jtk-node",PORT:"jtk-port",GROUP:"jtk-group",SELECT_DEFEAT:"jtk-drag-select-defeat",SURFACE:"jtk-surface",SURFACE_DIRECT:"jtk-surface-direct-render",SURFACE_NO_PAN:"jtk-surface-nopan",SURFACE_CANVAS:"jtk-surface-canvas",SURFACE_PAN:"jtk-surface-pan",SURFACE_PAN_LEFT:"jtk-surface-pan-left",SURFACE_PAN_TOP:"jtk-surface-pan-top",SURFACE_PAN_RIGHT:"jtk-surface-pan-right",SURFACE_PAN_BOTTOM:"jtk-surface-pan-bottom",SURFACE_PAN_ACTIVE:"jtk-surface-pan-active",SURFACE_SELECTED_ELEMENT:"jtk-surface-selected-element",SURFACE_SELECTED_CONNECTION:"jtk-surface-selected-connection",SURFACE_PANNING:"jtk-surface-panning",SURFACE_ELEMENT_DRAGGING:"jtk-surface-element-dragging",SURFACE_DROPPABLE_NODE:"jtk-surface-droppable-node",TOOLBAR:"jtk-toolbar",TOOLBAR_TOOL:"jtk-tool",TOOLBAR_TOOL_SELECTED:"jtk-tool-selected",TOOLBAR_TOOL_ICON:"jtk-tool-icon"},this.jsPlumbToolkit.Constants={click:"click",start:"start",stop:"stop",drop:"drop",disabled:"disabled",pan:"pan",select:"select",drag:"drag",left:"left",right:"right",top:"top",bottom:"bottom",width:"width",height:"height",leftmin:"leftmin",leftmax:"leftmax",topmin:"topmin",topmax:"topmax",min:"min",max:"max",nominalSize:"50px",px:"px",onepx:"1px",nopx:"0px",em:"em",absolute:"absolute",relative:"relative",none:"none",block:"block",hidden:"hidden",div:"div",id:"id",plusEquals:"+=",minusEquals:"-=",dot:".",transform:"transform",transformOrigin:"transform-origin",nodeType:"Node",portType:"Port",edgeType:"Edge",groupType:"Group",surfaceNodeDragScope:"surfaceNodeDrag",mistletoeLayoutType:"Mistletoe",surfaceType:"Surface",jtkStatePrefix:"jtk-state-",msgCannotSaveState:"Cannot save state",msgCannotRestoreState:"Cannot restore state"},this.jsPlumbToolkit.Attributes={jtkNodeId:"jtk-node-id",relatedNodeId:"related-node-id"},this.jsPlumbToolkit.Methods={addClass:"addClass",removeClass:"removeClass"},this.jsPlumbToolkit.Events={afterLayoutRefresh:"afterLayoutRefresh",beforeDrop:"beforeDrop",beforeDetach:"beforeDetach",click:"click",canvasClick:"canvasClick",canvasDblClick:"canvasDblClick",connection:"connection",connectionAborted:"connectionAborted",connectionDetached:"connectionDetached",connectionMoved:"connectionMoved",connectionDragStop:"connectionDragStop",connectionEdit:"connectionEdit",contentDimensions:"contentDimensions",contextmenu:"contextmenu",dataLoadStart:"dataLoadStart",dataAppendStart:"dataAppendStart",dataLoadEnd:"dataLoadEnd",dataAppendEnd:"dataAppendEnd",dblclick:"dblclick",drag:"drag",drop:"drop",dragover:"dragover",dragend:"dragend",edgeAdded:"edgeAdded",edgePathEdited:"edgePathEdited",edgeRemoved:"edgeRemoved",edgeTypeChanged:"edgeTypeChanged",elementDragged:"elementDragged",elementAdded:"elementAdded",elementRemoved:"elementRemoved",endOverlayAnimation:"endOverlayAnimation",graphClearStart:"graphClearStart",graphCleared:"graphCleared",groupAdded:"groupAdded",groupDragStop:"groupDragStop",groupExpand:"group:expand",groupCollapse:"group:collapse",groupRelayout:"group:relayout",groupRemoved:"groupRemoved",groupMemberAdded:"group:addMember",groupMemberRemoved:"group:removeMember",groupMoveEnd:"groupMoveEnd",groupUpdated:"groupUpdated",lassoEnd:"lasso:end",modeChanged:"modeChanged",mousedown:"mousedown",mousemove:"mousemove",mouseout:"mouseout",mouseup:"mouseup",mouseenter:"mouseenter",mouseleave:"mouseleave",mouseover:"mouseover",nodeAdded:"nodeAdded",nodeDropped:"nodeDropped",nodeMoveStart:"nodeMoveStart",nodeMove:"nodeMove",nodeMoveEnd:"nodeMoveEnd",nodeRemoved:"nodeRemoved",nodeVisibility:"nodeVisibility",edgeTarget:"edgeTarget",nodeTypeChanged:"nodeTypeChanged",nodeTraverseEnd:"endNodeTraversal",nodeTraverseStart:"startNodeTraversal",edgeSource:"edgeSource",objectRepainted:"objectRepainted",pan:"pan",portAdded:"portAdded",portRemoved:"portRemoved",portTypeChanged:"portTypeChanged",redraw:"redraw",start:"start",startOverlayAnimation:"startOverlayAnimation",stateRestored:"stateRestored",stop:"stop",tap:"tap",touchend:"touchend",touchmove:"touchmove",touchstart:"touchstart",unload:"unload",nodeRendered:"nodeRendered",nodeUpdated:"nodeUpdated",portUpdated:"portUpdated",edgeUpdated:"edgeUpdated",portRenamed:"portRenamed",zoom:"zoom",relayout:"relayout",deselect:"deselect",selectionCleared:"selectionCleared",resize:"resize",anchorChanged:"anchorChanged"}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var i=this.jsPlumbUtil;"undefined"!=typeof exports&&(exports.jsPlumbUtil=i),i.Storage={set:function(n,o){localStorage.setItem(n,o)},get:function(n){return localStorage.getItem(n)},clear:function(n){localStorage.removeItem(n)},clearAll:function(){for(;0<localStorage.length;){var n=localStorage.key(0);localStorage.removeItem(n)}},setJSON:function(n,o){if("undefined"==typeof JSON)throw new TypeError("JSON undefined. Cannot store value.");i.Storage.set(n,JSON.stringify(o))},getJSON:function(n){if("undefined"==typeof JSON)throw new TypeError("JSON undefined. Cannot retrieve value.");return JSON.parse(i.Storage.get(n))}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var n=this.jsPlumbToolkit,s=this.jsPlumbUtil;n.Path=function(_,n){this.bind=_.bind,this.getModel=_.getModel,this.setSuspendGraph=_.setSuspendGraph,this.getNodeId=_.getNodeId,this.getEdgeId=_.getEdgeId,this.getPortId=_.getPortId,this.getNodeType=_.getNodeType,this.getEdgeType=_.getEdgeType,this.getPortType=_.getPortType;for(var w=_.getGraph().findPath(n.source,n.target,n.strict,n.nodeFilter,n.edgeFilter),o=function(){for(var n=0;n<w.path.length;n++)w.path[n].edge&&_.removeEdge(w.path[n].edge);return this}.bind(this),i=function(){for(var n=0;n<w.path.length;n++)_.removeNode(w.path[n].vertex);return this}.bind(this),t=[],e={},d=0;d<w.path.length;d++)t.push(w.path[d].vertex),e[w.path[d].vertex.getFullId()]=[w.path[d].vertex,d];this.getNodes=function(){return t},this.getNode=function(n){return e["string"==typeof n?n:n.id][0]},this.getAllEdgesFor=function(n){var o=e[n.id][1];return o<w.path.length-1?[w.path[o+1].edge]:[]};function r(n,o){for(var i=o||0;i<w.path.length;i++)try{n(i,w.path[i])}catch(n){s.log("Path iterator function failed",n)}}this.each=function(i){r(function(n,o){i(n,o)})},this.eachNode=function(i){r(function(n,o){i(n,o.vertex)})},this.eachEdge=function(i){r(function(n,o){i(n,o.edge)},1)},this.getNodeCount=function(){return w.path.length},this.getNodeAt=function(n){return w.path[n].vertex},this.getEdgeCount=function(){return 0===w.path.length?0:w.path.length-1},this.getEdgeAt=function(n){return n<0&&(n=w.path.length-1+n),w.path.length>n+1?w.path[n+1].edge:null},this.path=w,this.deleteEdges=o,this.deleteNodes=i,this.deleteAll=i,this.isEmpty=function(){return 0===w.path.length},this.getCost=function(){return w.pathDistance},this.contains=function(n,o){var i=_.findGraphObject(n),t=!1;if(i)for(var e=0;e<w.path.length;e++)if(w.path[e].vertex===i||w.path[e].edge===i||!o&&"Port"===w.path[e].vertex.objectType&&w.path[e].vertex.isChildOf(i)){t=!0;break}return t},this.exists=function(){return null!=w.pathDistance},this.selectEdges=function(n){return _selectEdges(n,"getEdges",!1)},this.selectAllEdges=function(n){return _selectEdges(n,"getAllEdges",!0)}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){var n=(o.parse=function(n,o,i,t){var e=this.parsers[n];if(null==e)throw new Error("jsPlumb Toolkit - parse - ["+n+"] is an unsupported type");return e(o,i,t)},o.exportData=function(n,o,i){var t=this.exporters[n];if(null===t)throw new Error("jsPlumb Toolkit - exportData - ["+n+"]  is an unsupported type");return t(o,i)},o.manage=function(n,o,i,t,e,_){this.managers[i]&&this.managers[i][n]&&this.managers[i][n](o,t,e)},o.JSONGraphParser=function(n,o,i){for(var t=n.nodes||[],e=n.edges||[],_=n.ports||[],w=n.groups||[],d=0;d<w.length;d++)o.addGroup(w[d]);for(var r=0;r<t.length;r++)o.addNode(t[r]);for(var s=0;s<_.length;s++)if(_[s].nodeId){var B=o.getNode(_[s].nodeId);if(null==B)throw new Error("Unknown node ["+_[s].nodeId+"]");B.addPort(_[s])}else if(_[s].id){var a=o.getGraph().getVertexByPortId(_[s].id);if(a){var j=jsPlumb.extend(_[s],{});j.id=o.getGraph().splitPortId(_[s].id)[1],a.addPort(j)}}else console.log("could not add port with definition "+_[s]+"; no nodeId or id found");for(var l=0;l<e.length;l++){var u={source:e[l].source,target:e[l].target,cost:e[l].cost||1,directed:e[l].directed,data:e[l].data};e[l].geometry&&(u.geometry=e[l].geometry),o.addEdge(u)}},o.JSONGraphExporter=function(n,o){return n.getGraph().serialize()},o.hierarchicalJsonParser=function(n,e,o){var _=function(n){var o=e.addNode(n);if(n.children)for(var i=0;i<n.children.length;i++){var t=e.addNode(n.children[i]);e.addEdge({source:o,target:t}),_(n.children[i])}};_(n)},o.exporters={json:o.JSONGraphExporter},o.parsers={json:o.JSONGraphParser,"hierarchical-json":o.hierarchicalJsonParser},o.managers={json:{removeNode:function(n,o,i){var t=i(o.data);jsPlumbUtil.removeWithFunction(n.nodes,function(n){return n.id===t})},removeEdge:function(n,o,i){var t=i(o.data);jsPlumbUtil.removeWithFunction(n.edges,function(n){return n.data&&n.data.id===t})},addNode:function(n,o,i){n.nodes=n.nodes||[],n.nodes.push(o.data)},addEdge:function(n,o,i){var t={source:o.source.getFullId(),target:o.target.getFullId(),data:o.data||{}};n.edges=n.edges||[],n.edges.push(t)},addPort:function(n,o,i){n.ports=n.ports||[];var t=jsPlumb.extend({},o.port.data||{});t.id=o.port.getFullId(),n.ports.push(t)},removePort:function(n,o,i){var t=o.port.getFullId();jsPlumbUtil.removeWithFunction(n.ports,function(n){return n.id===t})}}},o);function o(){}this.jsPlumbToolkitIO=n,"undefined"!=typeof exports&&(exports.jsPlumbToolkitIO=n)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){var C=this,g=C.jsPlumbToolkit;g.Support={ingest:function(n){var B=n.jsPlumb||C.jsPlumb;if(!B.getContainer())throw new TypeError("No Container set on jsPlumb instance. Cannot continue.");function o(){return"default"}function e(n,o){var i=l(n),t=u(n),e=B.getId(n),_=[];if(o=o||{},null==j[e]){var w=B.getOffset(n);j[e]=a.addNode(jsPlumb.extend({id:i,type:t,left:w.left,top:w.top},o),null,!0),n.jtk={node:j[e]};var d=B.getEndpoints(n);if(0<d.length)for(var r=0;r<d.length;r++){var s=a.addPort(j[e],{id:""+r},!0);_.push([s,d[r]]),d[r].setParameter("portId",""+r),d[r].setParameter("nodeId",e)}}return _}var a=g.newInstance(),i=B.select(),j={},l=n.idFunction||function(n){return B.getId(n)},u=n.typeFunction||o,d=n.idFunction||function(n){return n.id},r=n.edgeTypeFunction||o,t=!1!==n.render,_=[];if(n.nodeSelector)for(var w=B.getContainer().querySelectorAll(n.nodeSelector),s=0;s<w.length;s++){var c=B.getId(w[s]);_.push.apply(_,e(w[s],c)),B.manage(c,w[s])}var h=B.getManagedElements();for(var c in h)_.push.apply(_,e(h[c].el,c));if(i.each(function(n){!function(n){var o=j[n.sourceId],i=j[n.targetId],t=d(n),e=r(n),_=n.endpoints[0].getParameter("portId"),w=n.endpoints[1].getParameter("portId");null!=_&&(o=o.getPort(_)),null!=w&&(i=i.getPort(w)),n.edge=a.addEdge({source:o,target:i,data:{id:t,type:e}},null,!0)}(n)}),t){var p=C.jsPlumb.extend({},n.renderParams||{});p.jsPlumbInstance=B,p.container=B.getContainer(),p.layout=p.layout||{type:"Absolute"};var f=a.render(p);for(s=0;s<_.length;s++)f.ingestEndpoint.apply(f,_[s]);return f.ingest=function(n,o){B.getContainer().appendChild(n);var i=e(n,o);f.importNode(n,l(n));for(var t=0;t<i.length;t++)f.ingestEndpoint.apply(f,i[t])},f}return a}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var X=this,Y=X.jsPlumbToolkit.Layouts={Decorators:{}},Z=X.jsPlumbUtil;Y.AbstractLayout=function(n){var e=this,o=(n=n||{}).adapter,i=n.parameters||{},_=n.getElementForNode,w=X.Farahey.getInstance({getPosition:function(n){var o=j[n.id];return{left:o[0],top:o[1]}},getSize:function(n){return g[n.id]},getId:function(n){return n.id},setPosition:function(n,o){L(n.id,o.left,o.top)},padding:i.padding,filter:function(n){return(!f[n]||!f[n].group)&&(!e.canMagnetize||e.canMagnetize(n))}}),t=!1!==n.magnetized&&(e.defaultMagnetized||!0===n.magnetize),d=i.magnetizer&&i.magnetizer.iterations||10,r=!1!==n.negativeValuesAllowed;this.decorators=function(n,o,i){if(null==n)return[];for(var t,e,_,w,d=[],r=0;r<n.length;r++){var s=(t=n[r],_=void 0,e="string"==typeof t?t:t[0],_=Y.Decorators[e],w="string"==typeof t?{}:t[1],_?new _(w,o,i):(Z.log("Decorator ["+e+"] nor registered on jsPlumbToolkit.Layouts.Decorators. Not fatal."),null));s&&d.push(s)}return d}(n.decorators,n.adapter,n.container),this.adapter=n.adapter;function s(){S=!1,c=u=1/0,p=h=-1/0;for(var n=0;n<e.decorators.length;n++)e.decorators[n].reset({remove:B.remove});j={},l.splice(0),v={},y.length=0,b.length=0,m.length=0,D.length=0,g={},w.reset(),e.reset&&e.reset()}var B=n.jsPlumb||X.jsPlumb,a=n.jsPlumbToolkit,j={},l=[],u=1/0,c=1/0,h=-1/0,p=-1/0,f={},C={},g={},v={},m=[],D=[],y=[],b=[],A=n.container,P=B.getSize(A),E=n.width||P[0],x=n.height||P[1],S=!1;function I(n,o){if(!v[n]){var i=o||[0,0];v[n]={id:n,size:O(n),position:i,xmax:i[0],ymax:i[1],xmin:i[0],ymin:i[1]}}return v[n]}function k(n){delete v[n]}function T(){for(var n in m.length=0,y.length=0,D.length=0,b.length=0,v)F(m,v[n],"xmax"),F(D,v[n],"ymax"),F(y,v[n],"xmin"),F(b,v[n],"ymin");if(u=0<y.length?y[0].xmin:0,h=0<m.length?m[m.length-1].xmax:0,c=0<b.length?b[0].ymin:0,p=0<D.length?D[D.length-1].ymax:0,!r&&(u<0||c<0)){var o=u<0?u:0,i=c<0?c:0;if(o<0||i<0){for(var t in j)j[t][0]-=o,j[t][1]-=i;for(var e in v)v[e].position[0]-=o,v[e].xmin-=o,v[e].xmax-=o,v[e].position[1]-=i,v[e].ymin-=i,v[e].ymax-=i;u-=o,c-=i,h-=o,p-=i}}}this.getMagnetizedElements=function(){return w.getElements()},this.magnetize=function(n){(n=n||{}).options=n.options||{},n.options.iterations=n.options.iterations||d;var o=n.event?"executeAtEvent":n.origin?"execute":"executeAtCenter",i=n.event?[n.event,n.options]:n.origin?[n.origin,n.options]:[n.options];n.force&&this.forceMagnetize&&this.forceMagnetize(),w[o].apply(w,i),G(B.repaintEverything)},this.nodeAdded=function(n,o){if(e.adapter.filter(n.node)){var i=o&&o.position?o.position:n.node.data&&n.node.data.left&&n.node.data.top?n.node.data:e.adapter.getOffset(n.el);if(this._nodeAdded){var t=this._nodeAdded(n,o);t&&(i.left=t[0],i.top=t[1])}f[n.node.id]=n.node,L(n.node.id,i.left,i.top),O(n.node.id,n.el),w.addElement(n.node)}},this.nodeRemoved=function(n){delete j[n.node.id],delete g[n.node.id],delete f[n.node.id],k(n.node.id),this._nodeRemoved&&this._nodeRemoved(n.node),w.removeElement(n.node)},this.groupAdded=function(n,o){if(e.adapter.filter(n.group)){var i=o&&o.position?o.position:n.group.data&&n.group.data.left&&n.group.data.top?n.group.data:e.adapter.getOffset(n.el);if(this._groupAdded){var t=this._groupAdded(n,o);t&&(i.left=t[0],i.top=t[1])}C[n.group.id]=n.group,L(n.group.id,i.left,i.top),O(n.group.id,n.el),w.addElement(n.group)}},this.groupRemoved=function(n){delete j[n.group.id],delete g[n.group.id],delete C[n.group.id],k(n.group.id),this._groupRemoved&&this._groupRemoved(n.group),w.removeElement(n.group)};function N(n,o,i){if(null!=n){o=parseFloat(o),i=parseFloat(i);var t=j[n];t||(t=j[n]=[0,0],l.push([t,n]));var e=I(n,[o,i]);e.position[0]=o,e.position[1]=i,V(e),j[n]=[o,i]}}function M(n,o,i){f[n]&&e._nodeMoved?e._nodeMoved(n,o,i):C[n]&&e._groupMoved&&e._groupMoved(n,o,i)}var O=function(n,o){var i=g[n];return i||(null!=(o=o||_(n))?(i=B.getSize(o),g[n]=i):i=[0,0]),i},F=function(n,o,i){n.push(o);for(var t=n.length-1,e=n[t];0<t&&e[i]<n[t-1][i];)n[t]=n[t-1],t-=1;return n[t]=e,t},L=(this.setMagnetizedPosition=function(o,n,i,t){N(o,n,i),this.magnetize({options:{filter:function(n){return n===o},padding:[5,5],exclude:function(n,o){return null!=o.group},excludeFocus:!0}});var e=this.getPosition(o);return t&&M(o,e[0],e[1]),e},function(n,o,i,t){N(n,o,i),t&&M(n,o,i)}),R=function(n){var o=_(n);if(null==o)return null;var i=O(n),t=I(n).position;return e.adapter.setElementPosition(o,t[0],t[1],i,!0),t.concat(i)}.bind(this),G=this.draw=function(n){for(var o in v)R(o);for(var i=0;i<e.decorators.length;i++)e.decorators[i].decorate({adapter:e.adapter,layout:e,append:function(n,o,i){e.adapter.append(n,o,i,!0)},setAbsolutePosition:e.adapter.setAbsolutePosition,toolkit:a,jsPlumb:B,bounds:[u,c,h,p],floatElement:e.adapter.floatElement,fixElement:e.adapter.fixElement});n&&n()};this.setPosition=function(n,o,i,t){L(n,o,i,!0),t||T()},this.bb=function(n){console.log(n);var o=function(n){var o=1/0,i=1/0,t=-1/0,e=-1/0;for(var _ in n)o=Math.min(o,n[_][0]),t=Math.max(t,n[_][0]),i=Math.min(i,n[_][1]),e=Math.max(e,n[_][1]);return[[o,i],[t,e],Math.abs(o-t),Math.abs(i-e)]}(j);!function(){for(var n in j)console.log(n,j[n][0],j[n][1])}(),console.log(o[0],o[1],o[2],o[3])};var U=this.getPositions=function(){return j},z=(this.getPosition=function(n){return j[n]},this.getExtents=function(){return[u,c,h,p]});this.getSize=function(n){return g[n]};function V(n,o){n.xmax=n.position[0]+n.size[0],n.ymax=n.position[1]+n.size[1],n.xmin=n.position[0],n.ymin=n.position[1],o&&T()}this.getSizes=function(){return g};function H(n,o){g[n]=o;var i=I(n);i.size=o,V(i,!0)}this.setSize=H,this.begin=function(n,o){},this.end=function(n,o){};var W=function(n){if(null!=a){!function(){var n=X.jsPlumb.extend({padding:[0,0]},e.defaultParameters||{});X.jsPlumb.extend(n,i||{}),i=n}(),w.setElements(o.getElements()),this.begin&&this.begin(a,i);for(;!S;)this.step(a,i);T(),G(function(){t&&e.magnetize(),e.end&&e.end(a,i),n&&n()})}}.bind(this);return this.relayout=function(n,o){s(),null!=n&&(i=n),W(o)},this.layout=function(n){S=!1,W(n)},this.clear=function(){s()},{adapter:n.adapter,jsPlumb:B,toolkit:a,getPosition:function(n,o,i,t){var e=j[n];if(!e){if(null!=o&&null!=i)e=[o,i];else{if(t)return null;e=[Math.floor(Math.random()*(E+1)),Math.floor(Math.random()*(x+1))]}L(n,e[0],e[1])}return e},setPosition:L,getRandomPosition:function(n,o,i,t){o=o||10,i=i||10;var e=Math.floor(Math.random()*o),_=Math.floor(Math.random()*i),w=I(n,[e,_]);return w.position=[e,_],V(w,!0!==t),j[n]=[e,_],[e,_]},getSize:O,setSize:H,getPositions:U,setPositions:function(n){j=n},getExtents:z,width:E,height:x,reset:s,draw:G,setDone:function(n){S=n}}},Y.EmptyLayout=function(t){var e={},i={};this.refresh=this.relayout=this.layout=function(){this.clear();var n,o,i=t.getElements();for(o=0;o<i.length;o++)n=i[o],e[n.id]=[0,0]},this.nodeRemoved=this.groupRemoved=function(n){delete e[n.id]},this.nodeAdded=this.groupAdded=function(n){e[n.id]=!1},this.getPositions=function(){return e},this.getPosition=function(n){return e[n]},this.setPosition=function(n,o,i){e[n]=[o,i]},this.getExtents=function(){return[0,0,0,0]},this.clear=function(){},this.getMagnetizedElements=function(){return[]},this.setSize=function(n,o){i[n]=o},this.getSize=function(n){return i[n]},this.getSizes=function(){return i}},Y.Mistletoe=function(n){if(!n.parameters.layout)throw"No layout specified for MistletoeLayout";var i={},o=X.jsPlumb.extend({},n);o.getElementForNode=function(n){return i[n]};var t,e,_,w=Y.AbstractLayout.apply(this,[o]),d=n.parameters.layout,r=function(){w.setPositions(d.getPositions()),w.draw(),this.fire("redraw")}.bind(this);Z.EventGenerator.apply(this,arguments),this.map=function(n,o){i[n]=o};function s(){i={},t=d.layout,e=d.relayout,_=d.clear,d.layout=function(){t.apply(d,arguments),r()},d.relayout=function(){w.reset(),e.apply(d,arguments),r()},d.clear=function(){_.apply(d,arguments),w.reset()}}s(),this.setHostLayout=function(n){d=n,s()}};function n(i){function s(n,o){return(i.locationFunction||function(n){return[n.data.left,n.data.top]})(n)}i=i||{};var B=Y.AbstractLayout.apply(this,arguments),t=function(n,o,i){for(var t=B.adapter[n](),e=t.length,_=0;_<e;_++){var w=t[_],d=w.getFullId(),r=B.getPosition(d,null,null,!0);null==r&&(r=s(w)),this.setPosition(d,r[0],r[1],!0)}}.bind(this);return this.begin=function(n,o){t("getElements",n,o)},this._nodeAdded=function(n,o){return s(n.node,i.parameters)},this._groupAdded=function(n,o){return s(n.group,i.parameters)},this.getAbsolutePosition=function(n,o){return s(n)},this.step=function(){B.setDone(!0)},B}Z.extend(n,Y.AbstractLayout),Y.AbsoluteBackedLayout=n,Y.Absolute=function(n){Y.AbsoluteBackedLayout.apply(this,arguments)},Z.extend(Y.Absolute,Y.AbsoluteBackedLayout);function o(t){var e=Y.AbsoluteBackedLayout.apply(this,arguments),_=t.adapter;return this.absoluteBacked=!0===t.absoluteBacked,this.begin=function(n,o){o.ignoreLoops=!(!1===t.ignoreLoops),o.getRootNode=o.getRootNode||function(n){if(!1!==t.multipleRoots)return n.filter(function(n){if("Node"!==n.objectType&&"Group"!==n.objectType)return!1;var o=n.getTargetEdges();return(0===o.length||function(n,o){for(var i=0;i<n.length;i++)if(n[i].target!==o||n[i].source!==o)return!1;return!0}(o,n))&&_.filter(n)}).getAll();var o=e.adapter.getElements();return 0<o.length?o[0]:null},o.getChildEdges=o.getChildEdges||function(i,n){return e.toolkit.getAllEdgesFor(i,function(n){var o=n.target.getNode?n.target.getNode():n.target;return(n.source===i||!0!==t.ignorePorts&&n.source.getNode&&n.source.getNode()===i)&&_.filter(o)})},o.rootNode=o.getRootNode(n),o.rootNode||e.setDone(!0)},e}Z.extend(o,Y.AbstractLayout),Y.AbstractHierarchicalLayout=o}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var o=this.jsPlumbToolkit.Layouts,D=this.Farahey;o.Circular=function(n){n=n||{};var v=o.AbstractLayout.apply(this,arguments),m=!!n.parameters&&!0===n.parameters.centerRootNode;n.group;this.defaultParameters={padding:30,locationFunction:n.locationFunction},this.step=function(n,o){var i,t,e=v.adapter.getElements(),_=10;if(m){var w=v.getSize(e[0].id);_=Math.max(w[0],w[1])+80,v.setPosition(e[0].id,0,0),e=e.slice(1)}if(0!==e.length){var d=2*Math.PI/e.length,r=-Math.PI/2;for(i=0;i<e.length;i++)if(t=e[i],v.setPosition(t.id,0+Math.sin(r)*_,0+Math.cos(r)*_,!0),r+=d,0<i){var s=e[i-1],B=v.getSize(s.id),a=v.getPosition(s.id),j={x:a[0]-o.padding,y:a[1]-o.padding,w:B[0]+2*o.padding,h:B[1]+2*o.padding},l=e[i],u=v.getSize(l.id),c=v.getPosition(l.id),h={x:c[0]-o.padding,y:c[1]-o.padding,w:u[0]+2*o.padding,h:u[1]+2*o.padding},p=D.calculateSpacingAdjustment(j,h),f=[a[0]+B[0]/2,a[1]+B[1]/2],C=[c[0]+p.left+u[0]/2,c[1]+p.top+ +u[1]/2],g=Math.sqrt(Math.pow(f[0]-C[0],2)+Math.pow(f[1]-C[1],2));_=Math.max(_,g/2/Math.sin(d/2))}for(i=0;i<e.length;i++)t=e[i],v.setPosition(t.id,0+Math.sin(r)*_,0+Math.cos(r)*_,!0),r+=d;v.setDone(!0)}else v.setDone(!0)}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var s=this.jsPlumbToolkit.Layouts,k=this.jsPlumbUtil,B="compress",a="auto";s.Hierarchical=function(n){function h(n){var o=E[n];return o||(o={entries:[],pointer:0},E[n]=o),o}function p(n,o,i,t,e){var _=h(i),w={node:n,parents:null==t?[]:[t],childGroup:e,loc:_.pointer,index:_.entries.length,dimensions:o,size:o[v],children:[]},d=o[0===v?1:0];return null==c[i]?c[i]=d:c[i]=Math.max(c[i],d),_.pointer+=o[v]+m[v],_.entries.push(w),t&&t.children.push(w),w}function f(n){return 0<n.parents.length?n.parents[0].loc:null}function C(n,o){if(0===n.parents.length)return null;for(var i=n.parents[0].size,t=1;t<n.parents.length;t++)i+=o+n.parents[t].size;return i}function d(n){return 0<n.parents.length?n.parents[0].childGroup:null}function g(n){if(0<n.size){var o=u[j](n),i=l[n.depth],t="end"===j?1/0:-1/0,e=0;if(null!=i&&0<i.length){var _=i[i.length-1],w=_.nodes[_.nodes.length-1];t="end"===j?w.loc-n.size:w.loc+w.size+m[v]}n.loc="end"!==j&&t<=o||"end"===j&&o<=t?o:(e=t-o,t);for(var d=n.loc,r="end"===j?n.nodes.length-1:0,s="end"===j?-1:n.nodes.length,B="end"===j?-1:1,a=r;a!==s;a+=B)n.nodes[a].loc=d,d+=n.nodes[a].size,d+=m[v];0!==e&&S(n),function(n,o){var i=l[o];i||(i=[],l[o]=i),n.index=i.length,i.push(n)}(n,n.depth)}}function i(n){var o=n.nodes[0].loc,i=n.nodes[n.nodes.length-1].loc+n.nodes[n.nodes.length-1].size,t=r[j](n,o,i),e=t-f(n);if(!function(n,o){if(0<n.parents.length){for(var i=o-n.parents[0].loc,t=0;t<n.parents.length;t++)n.parents[t].loc+=i;var e=n.parents[n.parents.length-1],_=h(n.depth-1);_.pointer=Math.max(_.pointer,e.loc+e.size+m[v])}}(n,t),!function(n){return 0<n.parents.length&&!0===n.parents[0].root}(n))for(var _=d(n),w=function(n){return 0<n.parents.length?n.parents[n.parents.length-1].childGroupIndex:null}(n)+1;w<_.nodes.length;w++)_.nodes[w].loc+=e}var t,e,v,m,D,y,b=s.AbstractHierarchicalLayout.apply(this,arguments),c=[],o=null!=n.parameters?n.parameters.spacing:a,A=null!=n.parameters&&null!=n.parameters.compress?!0===n.parameters.compress:o===B,P=null!=n.parameters&&!0===n.parameters.invert,j=null!=n.parameters&&n.parameters.align||"center",E=[],l=[],x=b.toolkit.getNodeId,u={center:function(n){return f(n)+C(n,m[v])/2-(n.size-m[v])/2},start:function(n){return f(n)},end:function(n){return f(n)+C(n,0)-(n.size-m[v])}},r={center:function(n,o,i){return(o+i)/2-C(n)/2},start:function(n,o,i){return o},end:function(n,o,i){return o}},S=function(n){for(var o=n;null!=o;)i(o),o=d(o)},I=function(n,o){if(!D[n.node.id]){D[n.node.id]=!0;var i,t,e,_=[],w={nodes:[],loc:0,size:0,parents:[n],depth:o+1,children:[]},d=[],r={},s=h(o+1);for(Array.prototype.push.apply(_,y(n.node,b.toolkit)),i=0;i<_.length;i++){var B=(t=n.node,(e=_[i]).source===t||e.source.getNode&&e.source.getNode()===t?_[i].target:_[i].source);if(B.getNode&&(B=B.getNode()),null!=(B=b.toolkit.getNode(B))&&B!==n.node&&!r[B.id]){var a=b.getSize(x(B)),j=s.entries.find(function(n){return x(n.node)===x(B)});if(null!=j){j.parents.push(n);var l=f(j)+C(j,m[v])/2-j.size/2-j.loc,u=function(n){for(var o=n.childGroupIndex;o<n.childGroup.nodes.length;o++)n.childGroup.nodes[o].loc+=l,n.children.forEach(u),n.childGroup.size+=l};u(j)}else{var c=p(B,a,o+1,n,w);c.childGroupIndex=w.nodes.length,w.nodes.push(c),w.size+=a[v]+m[v],d.push(c)}r[B.id]=!0}}for(g(w),i=0;i<d.length;i++)I(d[i],o+1);return _.length}};this.defaultParameters={padding:[60,60],orientation:"horizontal",border:0,locationFunction:n.locationFunction,align:"center"};var _=this.begin;this.begin=function(n,o){_.apply(this,arguments),t=o.orientation,v=(e="horizontal"===t)?0:1,e?"width":"height",m=o.padding,E.length=0,l.length=0,D={},y=o.getChildEdges,c.length=0},this.step=function(n,o){for(var i,t,e,_=k.isArray(o.rootNode)?o.rootNode:[o.rootNode],w=0;w<_.length;w++){i=_[w];var d,r,s=b.getSize(i.id),B=p(i,s,0,null,null),a=0,j=function(n,o){var i,t,e,_=0===v?1:0;return A&&n.parents&&0<n.parents.length?b.getPosition(x(n.parents[0].node))[_]+(i=n,t=_,e=jsPlumbUtil.map(i.parents,function(n){return n.dimensions[t]}),Math.max.apply(null,e))+m[_]:o},l=!(B.root=!0);if(0===I(B,0,null)&&!0===this.absoluteBacked){var u=this.getAbsolutePosition(i);isNaN(u[0])||isNaN(u[1])||(b.setPosition(i.id,u[0],u[1]),l=!0)}if(!l)for(t=0;t<E.length;t++){for(E[t].otherAxis=a,e=0;e<E[t].entries.length;e++)d=0===v?E[t].entries[e].loc:j(E[t].entries[e],a),r=1===v?E[t].entries[e].loc:j(E[t].entries[e],a),b.setPosition(x(E[t].entries[e].node),d,r,!0);P?t<E.length-1&&(E[t].otherAxisSize=c[t+1]+m[0===v?1:0],a-=E[t].otherAxisSize):(E[t].otherAxisSize=c[t]+m[0===v?1:0],a+=E[t].otherAxisSize)}}b.setDone(!0)},this.getHierarchy=function(){return E},this.getOrientation=function(){return t};var w=this.nodeRemoved;this.nodeRemoved=function(){E=[],w.apply(this,arguments)},this.getPadding=function(){return m}},k.extend(s.Hierarchical,s.AbstractHierarchicalLayout)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){this.jsPlumbToolkit.Layouts.Decorators.Hierarchy=function(n){var d,i=[];this.reset=function(n){for(var o=0;o<i.length;o++)n.remove(i[o]);i.length=0},this.decorate=function(n){if(n.bounds[0]!=1/0){var o=n.layout.getHierarchy();d=(n.layout.getPadding()||[60,60])["horizontal"===i?0:1];for(var i=n.layout.getOrientation(),t="horizontal"===i?["width","height",n.bounds[2]-n.bounds[0]]:["height","width",n.bounds[3]-n.bounds[1]],e=0;e<o.length;e++){var _=document.createElement("div");n.append(_),_.className="level "+(e%2?"odd":"even"),_.style[t[0]]=t[2]+2*d+"px",_.style[t[1]]=o[e].otherAxisSize+"px";var w="horizontal"===i?[n.bounds[0]-d,o[e].otherAxis-d/2]:[o[e].otherAxis-d/2,n.bounds[1]-d];n.setAbsolutePosition(_,w)}}}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var o=this.jsPlumbToolkit.Layouts,n=this.jsPlumbUtil;o.Spring=function(n){this.defaultMagnetized=!0;var c=o.AbsoluteBackedLayout.apply(this,arguments);n=n||{},this.defaultParameters={padding:[50,50],iterations:500,maxRepulsiveForceDistance:6,k:2,c:.01,maxVertexMovement:.5,locationFunction:n.locationFunction};function h(n){n.getNode&&(n=n.getNode());var o=m[n.id];if(!o){var i=c.getRandomPosition(n.id,.5,.5,!0);o=m[n.id]={id:n.id,n:n,sp:i,p:[i[0],i[1]],f:[0,0]}}return o}function p(n,o,i){b=Math.min(b,o),P=Math.min(P,i),A=Math.max(A,o),E=Math.max(E,i),n.p[0]=o,n.p[1]=i}function f(n,o){if(!n.locked||!o.locked){var i=o.p[0]-n.p[0],t=o.p[1]-n.p[1],e=i*i+t*t;e<.01&&(e=(i=.1*Math.random()+.1)*i+(t=.1*Math.random()+.1)*t);var _=Math.sqrt(e);if(_<v.maxRepulsiveForceDistance){I++;var w=v.k*v.k/_,d=w*i/_,r=w*t/_;o.f[0]+=o.locked?0:(n.locked?2:1)*d,o.f[1]+=o.locked?0:(n.locked?2:1)*r,n.f[0]-=n.locked?0:(o.locked?2:1)*d,n.f[1]-=n.locked?0:(o.locked?2:1)*r}}}function C(n,o){var i=h(o.target);if(!n.locked||!i.locked){I++;var t=i.p[0]-n.p[0],e=i.p[1]-n.p[1],_=t*t+e*e;_<.01&&(_=(t=.1*Math.random()+.1)*t+(e=.1*Math.random()+.1)*e);var w=Math.sqrt(_);w>v.maxRepulsiveForceDistance&&(_=(w=v.maxRepulsiveForceDistance)*w);var d=(_-v.k*v.k)/v.k;(null==o.weight||o.weight<1)&&(o.weight=1);var r=(d*=.5*Math.log(o.weight)+1)*t/w,s=d*e/w;i.f[0]-=i.locked?0:(n.locked?2:1)*r,i.f[1]-=i.locked?0:(n.locked?2:1)*s,n.f[0]+=n.locked?0:(i.locked?2:1)*r,n.f[1]+=n.locked?0:(i.locked?2:1)*s}}var g,v=jsPlumbUtil.merge(this.defaultParameters,n.parameters||{}),m={},D=!1!==n.absoluteBacked,y=0,b=1/0,A=-1/0,P=1/0,E=-1/0,x=1,S=1,I=0,k=function(n){return[.19*c.width+(n[0]-b)*x,.19*c.height+(n[1]-P)*S]};this._nodeMoved=this._groupMoved=function(n,o,i){var t=m[n];t&&(t.sp=[o,i],t.p=function(n){return[b+(n[0]-.19*c.width)/x,P+(n[1]-.19*c.height)/S]}(t.sp))},this.forceMagnetize=function(){for(var n in m)m[n].locked=!1},this.canMagnetize=function(n){return m[n]&&!0!==m[n].locked},this.reset=function(){m={},b=P=1/(y=0),A=E=-1/0},this._nodeRemoved=this._groupRemoved=function(n){delete m[n.id]},this._nodeAdded=this._groupAdded=function(n,o){if(o&&o.position){var i=h(n.node||n.group);i&&(i.locked=!0,c.setPosition(i.id,o.position.left,o.position.top,!0))}},this.begin=function(n,o){y=0,g=[],Array.prototype.push.apply(g,c.adapter.getElements())},this.step=function(n,o){function i(n){return e[n]||(e[n]=h(g[n])),e[n]}var t,e=[];for(t=I=0;t<g.length;t++){var _=i(t);if(D&&!_.locked){var w=this.getAbsolutePosition(_.n,o);if(null!=w&&2===w.length&&null!=w[0]&&null!=w[1]&&!isNaN(w[0])&&!isNaN(w[1])){p(_,w[0],w[1]),_.sp=_.p,c.setPosition(_.id,w[0],w[1],!0),_.locked=!0;continue}}for(var d=t+1;d<g.length;d++){var r=i(d);f(_,r)}for(var s=c.toolkit.getAllEdgesFor(_.n).filter(function(n){return c.adapter.filter(n.target)}),B=0;B<s.length;B++)C(_,s[B])}if(0!==I)for(t=0;t<g.length;t++){var a=i(t),j=v.c*a.f[0],l=v.c*a.f[1],u=v.maxVertexMovement;u<j&&(j=u),j<-u&&(j=-u),u<l&&(l=u),l<-u&&(l=-u),p(a,a.p[0]+j,a.p[1]+l),a.f[0]=0,a.f[1]=0}y++,(0===I||y>=v.iterations)&&(function(){for(var n in x=c.width/(A-b)*.62,S=c.height/(E-P)*.62,m){var o=m[n];o.locked||(o.sp=k(o.p),c.setPosition(o.id,o.sp[0],o.sp[1],!0))}}(),c.setDone(!0))},this.end=function(){for(var n in m)m[n].locked=!0}},n.extend(o.Spring,o.AbsoluteBackedLayout)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var o=this.jsPlumbToolkit.Layouts,W=this.Farahey;o.Balloon=function(n){n=n||{};var U,z=o.AbstractHierarchicalLayout.apply(this,arguments),V=[];this.defaultParameters={padding:50,locationFunction:n.locationFunction,groupPadding:100};var d=W.getInstance({padding:[100,100],getPosition:function(n){return{left:n.extents[0],top:n.extents[2]}},setPosition:function(n,o){for(var i=0;i<n.group.length;i++){var t=n.offsets[n.group[i].id];n.setPosition(n.group[i].id,o.left+t.left,o.top+t.top)}},getSize:function(n){return[n.extents[1]-n.extents[0],n.extents[3]-n.extents[2]]},getId:function(n){return n.focus.id},filter:function(n){return V[0].focus.id!==n}}),i=this.begin;this.begin=function(n,o){i.apply(this,arguments),V.length=0,U=o.getChildEdges};var H=function(n,o,e){function i(n,o,i,t){return{x:n-e.padding,y:o-e.padding,w:i+2*e.padding,h:t+2*e.padding}}function t(n){return c[n]||(c[n]=z.getSize(n),c[n])}var _,w,d,r,s,B,a={focus:n,childMap:{},children:[],positions:{},incidentAngles:[],setPosition:function(n,o,i){this.positions[n]=[o,i]},getPosition:function(n){return this.positions[n]},setIncidentAngle:function(n,o){this.incidentAngles[n]=o},group:[n]},j=o?o.position:[0,0],l=j[0],u=j[1],c={};a.setPosition(n.id,j[0],j[1]);var h=U(n);for(_=0;_<h.length;_++){var p=h[_].target.getNode?h[_].target.getNode():h[_].target;a.childMap[p.id]||(a.childMap[p.id]=!0,a.children.push(p))}if(r=t(a.focus.id),d=Math.max(r[0],r[1]),B=i(l-r[0]/2,u-r[1]/2,r[0],r[1]),z.setPosition(a.focus.id,-r[0]/2,-r[1]/2,!0),0<a.children.length){V.push(a);var f=2*Math.PI/(a.children.length+(o?1:0)),C=o?o.incidentAngle+Math.PI+f:Math.PI,g=C;for(_=0;_<a.children.length;_++){s=t((w=a.children[_]).id);var v=i(l+Math.sin(C)*s[0],u+Math.cos(C)*s[1],s[0],s[1]);if(S=W.calculateSpacingAdjustment(B,v),T=Math.sqrt(Math.pow(v.x+S.left-l,2)+Math.pow(v.y+S.top-u,2)),d=Math.max(d,T),a.setPosition(w.id,v.x+S.left,v.y+S.top),C+=f,0<_){var m=a.children[_-1],D=t(m.id),y=a.getPosition(m.id),b=i(y[0],y[1],D[0],D[1]),A=a.children[_],P=t(A.id),E=a.getPosition(A.id),x=i(E[0],E[1],P[0],P[1]),S=W.calculateSpacingAdjustment(b,x),I=[y[0]+D[0]/2,y[1]+D[1]/2],k=[E[0]+S.left+P[0]/2,E[1]+S.top+ +P[1]/2],T=Math.sqrt(Math.pow(I[0]-k[0],2)+Math.pow(I[1]-k[1],2));d=Math.max(d,T/2/Math.sin(f/2))}}for(C=g,_=0;_<a.children.length;_++)w=a.children[_],a.setIncidentAngle(w.id,C),a.setPosition(w.id,l+Math.sin(C)*d,u+Math.cos(C)*d,!0),C+=f;var N,M=a.positions[n.id][0],O=z.getSize(n.id),F=M+O[0],L=a.positions[n.id][1],R=L+O[1];for(_=0;_<a.children.length;_++){w=a.children[_],H(w,{parent:n,incidentAngle:a.incidentAngles[w.id],position:a.positions[w.id]},e)||(N=z.getSize(w.id),a.group.push(w),M=Math.min(M,a.positions[w.id][0]),F=Math.max(F,a.positions[w.id][0]+N[0]),L=Math.min(L,a.positions[w.id][1]),R=Math.max(R,a.positions[w.id][1]+N[1]))}for(a.extents=[M,F,L,R],a.offsets={},_=0;_<a.group.length;_++){var G=a.group[_];a.offsets[G.id]={left:a.positions[G.id][0]-a.extents[0],top:a.positions[G.id][1]-a.extents[2]}}}return a.children.length};this.step=function(n,o){if(o.rootNode&&0<o.rootNode.length){if(H(o.rootNode[0],null,o),0<V.length){var i=(V[0].extents[0]+V[0].extents[1])/2,t=(V[0].extents[2]+V[0].extents[3])/2;d.setElements(V),d.execute([i,t])}for(var e=0;e<V.length;e++){var _=V[e];for(var w in _.positions)z.setPosition(w,_.positions[w][0],_.positions[w][1],!0)}}z.setDone(!0)}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";this.jsPlumb;var n=this.jsPlumbToolkit;n.UI=n.UI||{},n.UI.ActiveDragFilter=function(l,n,u){var c={};n.bind("connectionDrag",function(n){var i,o,t,e,_,w=n.source.jtk.port,d=w?w.getNode():n.source.jtk.node,r=u.getNodeCount(),s=u.getGroupCount();function B(n,o){i=u.beforeConnect(n,o),_=o.getFullId(),!1===i&&null==c[_]&&(c[_]=l.setTargetEnabled(o,!1))}if(w)for(B(w,d),o=d.getPorts(),t=0;t<o.length;t++)B(w,o[t]);for(t=0;t<r;t++){var a=u.getNodeAt(t);for(B(w||d,a),o=a.getPorts(),e=0;e<o.length;e++)B(w||d,o[e])}for(t=0;t<s;t++){var j=u.getGroupAt(t);for(B(w||d,j),o=j.getPorts(),e=0;e<o.length;e++)B(w||d,o[e])}}),n.bind("connectionDragStop",function(){function n(n){!0===c[n.getFullId()]&&l.setTargetEnabled(n,!0)}var o,i,t,e=u.getNodeCount();for(o=0;o<e;o++){var _=u.getNodeAt(o);for(n(_),i=_.getPorts(),t=0;t<i.length;t++)n(i[t])}var w=u.getGroupCount();for(o=0;o<w;o++){var d=u.getGroupAt(o);for(n(d),i=d.getPorts(),t=0;t<i.length;t++)n(i[t])}c={}})}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var n=this.jsPlumbToolkit.Renderers,Mn=this.jsPlumbToolkit,On=this.jsPlumbUtil,Fn=this.jsPlumb,Ln=this.Knockle,Rn=Mn.Constants;Mn.UIState=function(r,d,s){for(var n in d)if(d.hasOwnProperty(n)){var o="*"===n?"e-state-"+r:"e-state-"+r+"-"+n,i="*"===n?"c-state-"+r:"c-state-"+r+"-"+n;s.registerEndpointType(o,d[n]),s.registerConnectionType(i,d[n])}this.activate=function(n,_,w){n.eachEdge(function(n,o){var i=_.getRenderedConnection(o.getId()),t=w.getEdgeType(o.data),e=t?"c-state-"+r+"-"+t:null;e&&i.addType(e,o.data),d["*"]&&i.addType("c-state-"+r,o.data),B(o,i,o.source,0,"addType",w),B(o,i,o.target,1,"addType",w)}),n.eachNode(function(n,o){var i=w.getNodeType(o.data),t=i?d[i]:null,e=_.getRenderedNode(o.id);t&&t.cssClass&&s.addClass(e,t.cssClass),d["*"]&&s.addClass(e,d["*"].cssClass)})};var B=function(n,o,i,t,e,_){var w=o.endpoints[t],d=_.getPortType(i.data);w[e]("e-state-"+r+"-"+d),w[e]("e-state-"+r)};this.deactivate=function(n,_,w){n.eachEdge(function(n,o){var i=_.getRenderedConnection(o.getId()),t=w.getEdgeType(o.data),e=t?"c-state-"+r+"-"+t:null;e&&i.removeType(e,o.data),d["*"]&&i.removeType("c-state-"+r),B(o,i,o.source,0,"removeType",w),B(o,i,o.target,1,"removeType",w)}),n.eachNode(function(n,o){var i=w.getNodeType(o.data),t=i?d[i]:null,e=_.getRenderedNode(o.id);t&&t.cssClass&&s.removeClass(e,t.cssClass),d["*"]&&s.removeClass(e,d["*"].cssClass)})}};var Gn=n.atts={NODE:"data-jtk-node-id",PORT:"data-jtk-port-id",GROUP:"data-jtk-group-id"},Un=n.els={SOURCE:"JTK-SOURCE",PORT:"JTK-PORT",TARGET:"JTK-TARGET"},zn=Mn.Classes,Vn=(Rn=Mn.Constants,Mn.Events);n.mouseEvents=["click","dblclick","contextmenu","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover"],n.createElement=function(n,o){var i={width:n.width,height:n.height,position:n.position||Rn.absolute},t={};n.display&&(i.display=n.display),n.id&&(t.id=n.id),n.top&&(i.top=n.top+"px"),n.left&&(i.left=n.left+"px"),n.right&&(i.right=n.right+"px"),n.bottom&&(i.bottom=n.bottom+"px");var e=Fn.createElement(n.type||Rn.div,i,n.clazz,t);return null!=o&&Fn.appendElement(e,o),e};function o(n){var i=this.getJsPlumb(),t=i.getElement(n.container);this.getWidth=function(){return i.getSize(t)[0]},this.getHeight=function(){return i.getSize(t)[1]},this.append=function(n){var o=i.getElement(n);i.appendElement(o,t)},this.remove=function(n){var o=i.getElement(n);i.removeElement(o)},this.setAbsolutePosition=Fn.setAbsolutePosition,this.getOffset=function(n,o){return i.getOffset(n,o)}}n.DOMElementAdapter=o;function i(n){this.getOffset=function(){return n.getOffset.apply(n,arguments)},this.append=function(){return n.append.apply(n,arguments)},this.setAbsolutePosition=function(){return n.setAbsolutePosition.apply(n,arguments)},this.floatElement=function(){return n.floatElement.apply(n,arguments)},this.fixElement=function(){return n.fixElement.apply(n,arguments)}}function Hn(o,t){i.apply(this,[t]),this.getElements=o.getNodes,this.filter=function(n){return"Node"===n.objectType&&n.group==o},this.setElementPosition=function(n,o,i){return t.setAbsolutePosition(n,[o,i])}}function Wn(_,o){i.apply(this,[_]),this.filter=function(n){return!!o||("Group"===n.objectType||"Node"===n.objectType&&null==n.group)},this.getElements=function(){var n=_.getNodes();return o||(n=n.filter(function(n,o){return null==n.group}),Array.prototype.push.apply(n,_.getGroups())),n},this.setElementPosition=function(n,o,i,t,e){return _.setPosition({el:n,x:o,y:i,doNotUpdateElement:!1,doNotUpdateLayout:!0,doRevalidate:!1,size:t,doNotFireEvent:e})}}function t(B){function n(n,o){var i=Fn.createElement("div",{border:"1px solid #456",position:"absolute"},zn.NODE);return i.innerHTML=n.name||n.id,i}B=B||{};var o='<div data-jtk-node-id="${id}" class="'+zn.NODE+'"></div>',C={rotors:{render:function(n,o){var i=s.template(n,o);return 0<i.childNodes.length&&(i.childNodes[0]._jtkCommands=i.commands),i.childNodes[0]},cleanup:function(n,o){s.remove(o),o.parentNode&&o.parentNode.removeChild(o)}}},d=!0===B.debug,s=Ln.newInstance({defaultTemplate:o,templateResolver:B.templateResolver,templates:B.templates}),A=this,P=B.toolkit,i=B.toolkitInstance,w=new Mn.Layouts.EmptyLayout(new Wn(A)),r=Fn.getElement(B.container),a=!(!1===B.elementsDraggable),j=!0===B.elementsDroppable,e=!1,t=!1!==B.refreshAutomatically,g=B.templateRenderer?On.isString(B.templateRenderer)?C[B.templateRenderer]:B.templateRenderer:C.rotors,v=!1!==B.enhancedView,l=B.assignPosse||function(){return null},u=B.modelLeftAttribute||"left",c=B.modelTopAttribute||"top",h=!1!==B.storePositionsInModel,p=B.objectFilter||function(){return!0},f=!0===B.ignoreGroups,m=!0===B.renderPortsAsynchronously;this.getModelPositionAttributes=function(){return[u,c]},this.getLabelLocationAttribute=function(n){return nn.getEdgeDefinition(P.getEdgeType(n.data||{})).labelLocationAttribute||"labelLocation"};var _=On.merge(B.jsPlumb||{}),E=B.jsPlumbInstance||Fn.getInstance(_,B.overrideFns),D=E.getId(r);E.bind("beforeDrop",function(n){var o=n.connection,i=o.endpoints[0].graph||o.source.jtk,t=o.endpoints[1].graph||o.target.jtk,e=i.port||i.node||i.group,_=t.port||t.node||t.group,w=n.connection.edge;return null==w?P.beforeConnect(e,_,n.connection.getData()):P.beforeMoveConnection(e,_,w)}),E.bind("beforeDrag",function(n){var o=n.endpoint.graph||n.source.jtk,i=o.port||o.node,t=n.endpoint.connectionType,e=P.beforeStartConnect(i,t);if(d){var _=nn.getEdgeDefinition(t)||{};console.log("\n------------------------\nDrag started with edge type `"+t+"`, having definition :"),console.log(_),console.log("Edge source is a "+i.objectType+", having type ["+i.getType()+"], with definition :");var w=nn["get"+i.objectType+"Definition"](i.getType())||{};console.log(w),console.log("Toolkit response to drag start :"),console.log(e),console.log("---------------------------\n")}return!1===e&&n.endpoint.isTemporarySource&&n.endpoint._deleteOnDetach&&E.deleteEndpoint(n.endpoint),e}),E.bind("beforeDetach",function(n,o){var i=n.endpoints[0].graph||n.source.jtk,t=n.endpoints[1].graph||n.target.jtk,e=i.port||i.node,_=t.port||t.node,w=n.edge;return P.beforeDetach(e,_,w,o)}),E.bind("beforeStartDetach",function(n){var o=n.endpoint.graph||n.source.jtk,i=o.port||o.node,t=n.connection.edge;return P.beforeStartDetach(i,t)}),On.EventGenerator.apply(this,arguments),B.activeFiltering&&new Mn.UI.ActiveDragFilter(A,E,P),this.setDebug=function(n){d=n,console.log("-----------------------\nSurface debug switched "+(n?"on":"off")+" \n-------------------------\n")},this.getJsPlumb=function(){return E},this.getToolkit=function(){return i},this.getDataSource=function(){return P};var y=[Vn.canvasClick,Vn.canvasDblClick,Vn.nodeAdded,Vn.nodeDropped,Vn.nodeRemoved,Vn.nodeRendered,Vn.groupAdded,Vn.groupRemoved,Vn.groupMoveEnd,Vn.groupMemberAdded,Vn.groupMemberRemoved,Vn.groupCollapse,Vn.groupExpand,Vn.groupRelayout,Vn.nodeMoveStart,Vn.nodeMove,Vn.nodeMoveEnd,Vn.portAdded,Vn.portRemoved,Vn.edgeAdded,Vn.edgeRemoved,Vn.edgeTypeChanged,Vn.nodeTypeChanged,Vn.portTypeChanged,Vn.dataLoadEnd,Vn.anchorChanged,Vn.objectRepainted,Vn.modeChanged,Vn.lassoEnd,Vn.pan,Vn.zoom,Vn.relayout,Vn.click,Vn.tap,Vn.stateRestored,Vn.startOverlayAnimation,Vn.endOverlayAnimation,Vn.nodeVisibility,Vn.afterLayoutRefresh],b=A.bind,x=E.bind;if(this.setHoverSuspended=E.setHoverSuspended,this.isHoverSuspended=E.isHoverSuspended,this.setJsPlumbDefaults=function(n){delete n.Container,E.restoreDefaults(),E.importDefaults(n)},this.bind=function(n,o){-1==y.indexOf(n)?x(n,o):b(n,o)},B.events)for(var S in B.events)this.bind(S,B.events[S]);if(B.interceptors)for(var I in B.interceptors)this.bind(I,B.interceptors[I]);var k=!1;function T(n){k=!0;try{n()}catch(n){jsPlumbUtil.log("An error occurred while ignoring Toolkit events",n)}finally{k=!1}}x(Vn.connection,function(o){if(null==o.connection.edge){o.sourceEndpoint.getParameter("nodeId")||o.sourceEndpoint.setParameter("nodeId",M[o.sourceEndpoint.elementId].id),o.targetEndpoint.getParameter("nodeId")||o.targetEndpoint.setParameter("nodeId",M[o.targetEndpoint.elementId].id);var n=o.sourceEndpoint.getParameter("portType"),i=nn.getPortDefinition(n),t=null!=i&&i.edgeType?i.edgeType:o.sourceEndpoint.getParameter("edgeType")||"default",e=o.sourceEndpoint.getParameter("nodeId"),_=o.sourceEndpoint.getParameter("portId"),w=o.targetEndpoint.getParameter("nodeId"),d=o.targetEndpoint.getParameter("portId"),r=e+(_?"."+_:""),s=w+(d?"."+d:""),B=P.getNode(r)||P.getGroup(r),a=P.getNode(s)||P.getGroup(s),j={sourceNodeId:e,sourcePortId:_,targetNodeId:w,targetPortId:d,type:t,source:B,target:a,sourceId:r,targetId:s,sourceType:B.objectType,targetType:a.objectType};!1===P.getEdgeFactory()(t,o.connection.getData()||{},function(n){n=On.populate(n,B.data,null,!0),j.edge=P.addEdge({source:r,target:s,cost:o.connection.getCost(),directed:o.connection.isDirected(),data:n,addedByMouse:!0},A),z[j.edge.getId()]=o.connection,o.connection.edge=j.edge,H(t,j.edge,o.connection),j.addedByMouse=!0,j.connection=o.connection,A.fire(Vn.edgeAdded,j)},j)&&E.deleteConnection(o.connection)}}),x(Vn.connectionMoved,function(n){var o=0===n.index?n.newSourceEndpoint:n.newTargetEndpoint,i=o.graph||o.element.jtk;T(function(){P.edgeMoved(n.connection.edge,i.port||i.node||i.group,n.index)})}),x(Vn.connectionDetached,function(n){T(function(){P.removeEdge(n.connection.edge)});var o=n.sourceEndpoint.getParameters(),i=n.targetEndpoint.getParameters(),t=o.nodeId+(o.portId?"."+o.portId:""),e=i.nodeId+(i.portId?"."+i.portId:"");A.fire(Vn.edgeRemoved,{sourceNodeId:o.nodeId,targetNodeId:i.nodeId,sourcePortId:o.portId,targetPortId:i.portId,sourceId:t,targetId:e,source:P.getNode(t),target:P.getNode(e),edge:n.connection.edge})}),x(Vn.connectionEdit,function(n){P.setEdgeGeometry(n.connection.edge,n.geometry)}),x(Vn.groupDragStop,function(n){A.getLayout().setPosition(n.group.id,n.pos[0],n.pos[1],!0),n.uigroup=n.group,A.fire(Vn.groupMoveEnd,Fn.extend(n,{group:P.getGroup(n.uigroup.id)}))}),x(Vn.groupMemberAdded,function(n){if(!e&&n.el.jtk&&n.el.jtk.node){var o=null==n.sourceGroup?null:P.getGroup(n.sourceGroup.id),i=P.addToGroup(n.el.jtk.node,n.group.id,o,n.pos);i&&(n.el._droppedOnGroup=!0,A.fire(Vn.groupMemberAdded,{node:n.el.jtk.node,group:i,uigroup:n.group,sourceGroup:o}))}}),x(Vn.groupMemberRemoved,function(n){if(!e&&n.el.jtk&&n.el.jtk.node){var o=null==n.targetGroup?null:P.getGroup(n.targetGroup.id);P.removeFromGroup(n.el.jtk.node,!1,o)}}),x(Vn.groupCollapse,function(n){var o=P.getGroup(n.group.id);o&&A.fire(Vn.groupCollapse,{group:o,uigroup:n.group})}),x(Vn.groupExpand,function(n){var o=P.getGroup(n.group.id);o&&A.fire(Vn.groupExpand,{group:o,uigroup:n.group})});var N={},M={},O={},F={},L=[],R={},G=[];function U(n,i,t,e){e.bind(n,function(n,o){i.apply(i,[{edge:t,e:o,connection:e,toolkit:P,renderer:A}])})}this.getNodeCount=function(){return G.length},this.getNodeAt=function(n){return G[n]},this.getNodes=function(){return G},this.getNode=function(n){return N[n]},this.getGroupCount=function(){return L.length},this.getGroupAt=function(n){return L[n]},this.getGroups=function(){return L};var z={},V=function(n){return z[n.getId()]},H=function(n,o,i){if(!i.getParameter("edge")){var t=nn.getEdgeDefinition(n);if(t&&t.events)for(var e in t.events)U(e,t.events[e],o,i)}};function W(n,o){if(e)Y.push([n,o]);else{var i=l(o);if(null!=i){var t=On.isArray(i)?i:[i];t.unshift(n),E.addToPosse.apply(E,t)}}}function X(){for(var n=0;n<Y.length;n++)W.apply(this,Y[n])}this.setSuspendRendering=function(n,o){e=n,E.setSuspendDrawing(n),o&&this.refresh()},this.batch=function(n){this.setSuspendEvents(!0),P.batch(n),this.setSuspendEvents(!1)};var Y=[];function Z(n,o){var i=E.getGroup(n.id),t=i.getDragArea(),e=n.layout.getExtents(),_=o.maxSize||[e[2],e[3]];if(t.style.width=Math.min(_[0],e[2])+"px",t.style.height=Math.min(_[1],e[3])+"px",A.setSize){var w=E.getSize(i.getEl());A.setSize(n.id,w[0],w[1])}}this.expandGroup=function(n){E.expandGroup("string"==typeof n?n:n.id)},this.collapseGroup=function(n){E.collapseGroup("string"==typeof n?n:n.id)},this.toggleGroup=function(n){E.toggleGroup("string"==typeof n?n:n.id)},A.autoSizeGroups=function(n){for(var o in F){var i=P.getGroup(o);if(i){var t=nn.getGroupDefinition(P.getNodeType(i.data));(t.autoSize||n)&&Z(i,t)}}},A.sizeGroupToFit=function(n,o){if(n){var i=nn.getGroupDefinition(P.getNodeType(n.data));(i.autoSize||o)&&Z(n,i)}};var q=[],J={};function K(i,t,n){if(n)q.push({event:i,fn:t}),P.bind(i,t,!0);else{var o=function(){t.apply(A,arguments);for(var n=J[i]||[],o=0;o<n.length;o++)n[o].apply(A,arguments)};q.push({event:i,fn:o}),P.bind(i,o,!0)}}function $(n,o){var i=N[n.id];if(null==i){if(!0===nn.getNodeDefinition(P.getNodeType(n.data)).ignore)return!1;if(!(i=ln(n,n.data,n)))throw new Error("Cannot render node");var t=E.getId(i);N[n.id]=i,M[t]=n,G.push(n),i.jtk={node:n},null==n.group||f?A.append(i,t,o?o.position:null):function(n,o,i){var t=F[i.id];t&&((t.querySelector("[jtk-group-content]")||t).appendChild(n),E.addToGroup(i.id,n,!0),i.layout.nodeAdded({node:o,el:n}),A.nodeAppendedToGroup(n,t,i))}(i,n,n.group),W(i,n),Pn(i,n);var e={node:n,el:i,id:n.id};null!=n.group&&!f||A.getLayout().nodeAdded(e,o),A.fire(Vn.nodeAdded,e)}return i}function Q(n,o){if(!f){var i=F[n.id];if(null==i){var t=nn.getGroupDefinition(P.getNodeType(n.data));if(!0===t.ignore)return!1;if(!0===t.ghost&&(t.ghostProxyParent=r),!(i=cn(n,n.data,n)))throw new Error("Cannot render Group");var e=E.getId(i);F[n.id]=i,L.push(n),R[e]=n,i.jtk={group:n},A.append(i,e,o?o.position:null),W(i,n),Pn(i,n);var _={group:n,el:i},w={el:i,id:n.id};Fn.extend(w,{dragOptions:B.dragOptions||{}}),w.dragOptions[Fn.dragEvents[Rn.stop]]=On.wrap(w.dragOptions[Fn.dragEvents[Rn.stop]],function(n){n.el.jtk&&n.el.jtk.group&&(w.dragOptions.magnetize?n.pos=A.getLayout().setMagnetizedPosition(n.el.jtk.group.id,n.pos[0],n.pos[1],!0):A.getLayout().setPosition(n.el.jtk.group.id,n.pos[0],n.pos[1],!0),!1!==h&&(A.storePositionInModel({id:n.el.jtk.group.id,group:!0,leftAttribute:u,topAttribute:c}),P.fire(Vn.groupUpdated,{group:n.el.jtk.group},null)),A.fire(Vn.groupMoveEnd,{el:n.el,group:n.el.jtk.group,pos:n.pos,e:n.e,eventPosition:n.pos}))}),E.addGroup(Fn.extend(w,t));var d=t.layout||{type:"Absolute"};n.layout=hn(d,n),A.getLayout().groupAdded({group:n,el:i,id:n.id},o),A.fire(Vn.groupAdded,_)}return i}}var nn,on=function(){Y.length=0,E.setSuspendDrawing(!0),this.setSuspendRendering(!0)}.bind(this),tn={dataLoadStart:on,dataAppendStart:on,dataLoadEnd:function(){A.setSuspendRendering(!1),X(),E.getGroupManager().refreshAllGroups(),A.relayout(),E.setSuspendDrawing(!1,!0),w&&A.fire(Vn.dataLoadEnd)},dataAppendEnd:function(){A.setSuspendRendering(!1),X(),A.refresh(),E.setSuspendDrawing(!1,!0),w&&A.fire(Vn.dataAppendEnd)},nodeAdded:function(n){var o,i=n.node;if(p(i)){var t=$(i,n.eventInfo);if(null!=t){var e=E.getSelector(t,"[data-port-id]");for(o=0;o<e.length;o++){var _=e[o].getAttribute("data-port-id");O[i.id+"."+_]=e[o],e[o].jtk=e[o].jtk||{node:i,port:i.getPort(_)}}A.refresh(!0)}}},nodeRemoved:function(n){(n.node.group?n.node.group.layout:A.getLayout()).nodeRemoved({node:n.node});var o=N[n.nodeId];A.fire(Vn.nodeRemoved,{node:n.node,el:o});var i=E.getId(o);E.removeAllEndpoints(o,!0),g.cleanup(n.node,o),delete N[n.nodeId],delete fn[n.nodeId],delete Cn[n.nodeId],delete M[i],function(n){var o=G.indexOf(n);-1!==o&&G.splice(o,1)}(n.node),delete o.jtk,A.refresh(!0)},"group:addMember":function(n){var o=N[n.node.id];o&&(n.pos&&(null!=n.node.data[u]&&(n.node.data[u]=n.pos.left),null!=n.node.data[c]&&(n.node.data[c]=n.pos.top)),A.fire(Vn.groupMemberAdded,Fn.extend(n,{el:o,groupEl:F[n.group.id]})),A.getJsPlumb().addToGroup(n.group.id,o,!0),w.nodeRemoved(n),n.sourceGroup&&n.sourceGroup.layout.nodeRemoved(n),n.group.layout.nodeAdded({node:n.node,el:o,pos:n.pos}),A.relayoutGroup(n.group))},"group:removeMember":function(n){var o=N[n.node.id];if(o){if(A.fire(Vn.groupMemberRemoved,Fn.extend(n,{el:o,groupEl:F[n.group.id]})),A.getJsPlumb().removeFromGroup(n.group.id,o,!0),n.group.layout.nodeRemoved(n),A.getJsPlumb().getContainer().appendChild(o),n.targetGroup)n.targetGroup.layout.nodeAdded({node:n.node});else{w.nodeAdded({node:n.node,el:o});var i=A.getJsPlumb().getOffset(o);A.getLayout().setPosition(n.node.id,i.left,i.top),h&&A.storePositionInModel(n.node.id)}A.relayoutGroup(n.group)}},groupAdded:function(n){var o=n.group;p(o)&&null!=Q(o,n.eventInfo)&&A.refresh(!0)},groupRemoved:function(o){var n=o.group;A.getLayout().groupRemoved({group:n});var i=F[n.id],t=E.getId(i),e=E.removeGroup(n.id,o.removeChildNodes,!0,!0),_=null;if(null!=e)for(var w in _={},e){var d=M[w];null!=d&&(En({node:d,x:e[w].left,y:e[w].top,doNotUpdateElement:!0}),_[d.id]=[e[w].left,e[w].top])}g.cleanup(o.group,i),A.fire(Vn.groupRemoved,{group:n,el:i,nodes:o.nodes,nodesRemoved:o.removeChildNodes,nodePositions:_}),L=L.filter(function(n){return n.id!==o.group.id}),delete F[n.id],delete R[t],delete i.jtk},edgeAdded:function(n){if(!k&&n.source!==A){var o=n.edge;if(p(o.source)&&p(o.target)&&(!f||o.source.objectType!==Rn.groupType&&o.target.objectType!==Rn.groupType)){var i=nn.getEdgeDefinition(P.getEdgeType(o.data||{}));if(i&&!0===i.ignore)return;var t=function(d){return function(){var n=dn(d);n.doNotFireConnectionEvent=!0,P.isDebugEnabled()&&console.log("Renderer","adding edge with params",n);var o=E.connect(n);if(null!=o){var i=o.getConnector(),t=!1;n.geometry&&i.importGeometry&&i.importGeometry(n.geometry,o)&&(o.repaint(),t=!0),o.edge=d,z[d.getId()]=o,H(n.type,d,o),A.fire(Vn.edgeAdded,{source:d.source,target:d.target,connection:o,edge:d,geometry:t?d.geometry:null}),B.refreshLayoutOnEdgeConnect&&A.refresh(!0);var e=d.source.getNode?d.source.getNode():d.source,_=N[e.id]||F[e.id],w=d.target.getNode?d.target.getNode():d.target;!1!==(N[w.id]||F[w.id])._jtkVisible&&!1!==_._jtkVisible||Sn(d,!1)}else console.log("jsPlumb: WARN : An edge could not be rendered "+d+" and is being removed from the dataset."),P.removeEdge(d);return o}}(o);if(B.connectionHandler)B.connectionHandler(o,t,A);else{var e=t();if(o.geometry){var _=e.getConnector();_.importGeometry&&_.importGeometry(o.geometry,e)}}}}},edgeRemoved:function(n){if(!k&&n.source!==A){var o=n.edge,i=z[o.getId()];i&&(P.isDebugEnabled()&&console.log("Renderer","removing edge",o),function(n){A.fire(Vn.edgeRemoved,{sourceNodeId:n.source.getNode?n.source.getNode().getId:n.source.getFullId(),targetNodeId:n.target.getNode?n.target.getNode().getId:n.target.getFullId(),sourcePortId:"Port"===n.source.objectType?n.source.id:null,targetPortId:"Port"===n.target.objectType?n.target.id:null,sourceId:n.source.getFullId(),targetId:n.target.getFullId(),source:n.source,target:n.target,edge:n})}(o),delete z[o.getId()],null!=i._jsPlumb&&E.deleteConnection(i,{fireEvent:!1}))}},edgeTypeChanged:function(n){if(!k&&n.source!==A){var o=n.obj,i=z[o.getId()];if(i){var t=nn.getEdgeDefinition(n.newType);if(t&&!0===t.ignore)return;(t.endpoint||t.endpoints)&&(i.replaceEndpoint(0,t.endpoints?t.endpoints[0]:t.endpoint),i.replaceEndpoint(1,t.endpoints?t.endpoints[1]:t.endpoint)),t.connector&&i.setConnector(t.connector),i.setType(n.newType,o.data)}}},edgeTarget:function(n){if(!k){var o=n.edge,i=z[o.getId()],t=o.target.getFullId(),e=N[t]||F[t]||O[t]||pn[t];i?E.silently(function(){null!=e&&(P.isDebugEnabled()&&console.log("target change",i),E.setTarget(i,e))}):null!=e&&P.isDebugEnabled()&&On.log("Target for Edge "+o.getId()+" changed to Node "+e.id+"; we have no valid connection.")}},edgeSource:function(n){if(!k){var o=n.edge,i=z[o.getId()],t=o.source.getFullId(),e=N[t]||F[t]||O[t]||pn[t];i?E.silently(function(){null!=e&&E.setSource(i,e)}):null!=e&&P.isDebugEnabled()&&On.log("Source for Edge "+o.getId()+" changed to Node "+e.id+"; we have no valid connection.")}},graphClearStart:function(){for(var n in E.reset(!0),F)g.cleanup(n,F[n]);for(var o in N)g.cleanup(o,N[o]);w&&w.clear(),G.length=0,L.length=0,z={},N={},F={},M={},R={},O={},pn={},A.getZoom&&E.setZoom(A.getZoom())},portAdded:function(n){var o=N[n.node.id]||F[n.node.id];if(nn.getPortDefinition(P.getPortType(n.data)).isEndpoint)Dn(new mn(n.data,o,n.port),n.node);else{var i=O[n.port.getFullId()];if(i)an(i,n.port,o,n.node);else{var t=un(n.port,n.data,n.node);m||(null!=t?an(t=E.getElement(t),n.port,o,n.node):jsPlumbUtil.log("no element rendered for port",n.port,n.data))}}E.recalculateOffsets(o),A.refresh(!0)},portRemoved:function(t){var n=N[t.node.id]||F[t.node.id],o=t.node.id+"."+t.port.id,i=O[o];if(null!=i){E.setSuspendEvents(!0),E.remove(i),E.setSuspendEvents(!1),delete O[o],delete pn[o];var e=function(n){if(E[n]){var o=E[n][t.port.id],i=t.port.getNode();null!=o&&(E[n][t.port.id]=o.filter(function(n){return n[1]!==i}))}};e("_sourceDefsByPortId"),e("_targetDefsByPortId"),A.fire(Vn.portRemoved,{node:t.node,port:t.port,portEl:i,nodeEl:n}),E.recalculateOffsets(n),A.refresh(!0)}},edgeUpdated:function(n){var o=z[n.edge.getId()];if(o){var i=dn(n.edge);o.setType(["default",i.type].join(" "),i.data)}},portUpdated:function(w){var n=O[w.originalId];if(n){if(n._rotors&&n._rotors.instance===s)s.update(n,w.port.data);A.repaint(N[w.node.id]);var o=w.port.getFullId();if(o!==w.originalId&&(O[o]=O[w.originalId],delete O[w.originalId],w.originalPortId)){var d=w.port.getNode(),i=function(n,o){var i=E[n];if(i=i&&i[w.originalPortId])for(var t=0;t<i.length;t++)if(i[t][1]===d){var e=E[o][i[t][0]];if(e)for(var _ in e)e[_].def.portId===w.originalPortId&&(e[_].def.portId=w.port.id,e[_].def.parameters.portId=w.port.id)}};i("_sourceDefsByPortId","sourceEndpointDefinitions"),i("_targetDefsByPortId","targetEndpointDefinitions")}}},nodeUpdated:function(n){var o=N[n.node.getFullId()];if(o){if(o._rotors&&o._rotors.instance===s)for(var i=s.update(o,n.node.data),t=0;t<i.removed.length;t++)E.remove(i.removed[t].el,!0);Pn(o,n.node);var e=l(n.node);if(null!=e){var _=On.isArray(e)?e:[e];_.unshift(o),E.setPosse.apply(E,_)}else E.removeFromAllPosses(o);A.repaint(o)}},groupUpdated:function(n){var o=F[n.group.getFullId()];if(o){if(o._rotors&&o._rotors.instance===s)for(var i=s.update(o,n.group.data),t=0;t<i.removed.length;t++)E.remove(i.removed[t].el,!0);Pn(o,n.group);var e=l(n.group);if(null!=e){var _=On.isArray(e)?e:[e];_.unshift(o),E.setPosse.apply(E,_)}else E.removeFromAllPosses(o);A.repaint(o)}}};if(!1!==this.bindToolkitEvents)for(var en in tn)K(en,tn[en]);function _n(n){return null==n?P:"string"==typeof n?P.select(n,!0):n.jtk?P.select(n.jtk.port||n.jtk.node,!0):n}this.setView=function(n){var o=On.merge(P.getModel(),n||{});nn=new Mn.Model(o,E)},this.setView(B.view),this.getView=function(){return nn};var wn=[];this.activateState=function(n,o){var i=nn.getState(n);i&&(o=_n(o),i.activate(o,A,P),wn.push(i))},this.deactivateState=function(n,o){var i=nn.getState(n);i&&(o=_n(o),i.deactivate(o,A,P),On.removeWithFunction(wn,function(n){return n===i}))},this.resetState=function(){for(var n=0;n<wn.length;n++)wn[n].deactivate(P,A,P);wn.length=0};var dn=function(d){var n=P.getEdgeType(d.data),r={type:n,connectionType:n,data:d.data,cost:d.getCost(),directed:d.isDirected(),geometry:d.geometry},i=nn.getEdgeDefinition(n);!function(n){if(i)for(var o=0;o<n.length;o++)i[n[o]]&&(r[n[o]]=i[n[o]])}(["connector","endpoints","endpoint","endpointStyles","endpointStyle"]),r.anchor&&!r.anchors&&(r.anchors=[r.anchor,r.anchor],delete r.anchor),r.endpoint&&!r.endpoints&&(r.endpoints=[r.endpoint,r.endpoint],delete r.endpoint);function s(n,o,i,t,e){if(t&&t[i]){var _=n[o]||[t[i],t[i]];_[e]=t[i],n[o]=_}}function o(n,o){if(d[n].getNode){var i=d[n].getNode(),t=d[n].getFullId(),e=pn[t]||O[t];r[n]=null!=e?e:O[t],null==r[n]&&(r[n]=N[P.getNodeId(i.data)]);var _=nn.getPortDefinition(d[n].getType());s(r,"anchors","anchor",_,o),s(r,"endpoints","endpoint",_,o)}else{var w=P.getNodeId(d[n].data);e=0===o?fn[w]:Cn[w];r[n]=null==e?N[w]||F[w]:e}}return o("source",0),o("target",1),r},rn={};this.asynchronousPortRendered=function(n,o,i){var t=P.getPortId(i),e=rn[t],_=o.getPort(t);if(!e)return _;try{return n=Bn(e.object,n,t,e.objectType,e.def,e.node,e.jtkClass,e.jtkAttributeName,e.makeDraggable),an(O[o.id+P.getGraph().getPortSeparator()+t]=n,_,F[o.id]||N[o.id],o),function(){for(var n=[],o=0;o<sn.length;o++){var i=A.getRenderedElement(sn[o][0].target),t=A.getRenderedElement(sn[o][0].source);i&&t?sn[o][1]():n.push(sn[o])}sn=n}(),_}catch(n){return jsPlumbUtil.log("Cannot finish asynchronous render of port",n),null}finally{delete rn[t]}};var sn=[];function Bn(n,t,o,i,e,_,w,d,r){t.setAttribute(d,o),Fn.addClass(t,w),t.jtk=t.jtk||{},t.jtk[i]=n,t.jtk.node=_,E.manage(E.getId(t),t),r&&a&&Nn.makeDraggable&&Nn.makeDraggable(t,e.dragOptions),j&&Nn.makeDroppable&&Nn.makeDroppable(t,e.dropOptions);function s(i){E.on(t,i,function(n){var o={el:t,e:n,toolkit:P,renderer:A};o["Node"===_.objectType?"node":"group"]=_,e.events[i](o)})}if(e&&e.events)for(var B in e.events)s(B);return t}function an(n,o,i,t){O[t.id+P.getGraph().getPortSeparator()+o.id]=n,Pn(n,t),A.fire(Vn.portAdded,{node:t,nodeEl:i,port:o,portEl:n})}function jn(a,j,l,u,c,h,p,f){return function(n,o,i){var t,e=j(o),_=null,w=l(o),d=nn[u](w),r=o;if(v){r=Fn.extend({},d&&d.parameters||{}),Fn.extend(r,o);var s={};for(t in r)r.hasOwnProperty(t)&&null!=r[t]&&(r[t].constructor==Function?s[t]=r[t](o):s[t]=r[t]);r=s}if(!m||"port"!==a){if(d){var B=d.template||"jtk-template-"+w;if(null==(_=d.templateRenderer?d.templateRenderer(B,r,P,a,A,d,i):g.render(B,r,P,a,A,d,i))){try{_=C.rotors.render(B,r,P,a,A,d,i)}catch(n){}null==_&&(_=c(r,e))}}else _=c(r,e);return _=Bn(n,_,e,a,d,i,p,f,h)}rn[e]={id:e,data:r,objectType:a,def:d,jtkClass:p,jtkAttributeName:f,makeDraggable:h,node:i,object:n}}}this.addUnrenderedEdge=function(n,o){sn.push([n,o])};var ln=jn("node",P.getNodeId,P.getNodeType,"getNodeDefinition",n,!0,zn.NODE,Gn.NODE),un=jn("port",P.getPortId,P.getPortType,"getPortDefinition",n,!1,zn.PORT,Gn.PORT),cn=jn("group",P.getNodeId,P.getNodeType,"getGroupDefinition",n,!0,zn.GROUP,Gn.GROUP);this.initialize=function(){var n,o,i,t,w;if(P.setSuspendGraph(!0),E.setSuspendDrawing(!0),B.jsPlumbInstance){var e=B.jsPlumbInstance.select();for(var _ in e.each(function(n){z[n.edge.getId()]=n}),o=B.jsPlumbInstance.getManagedElements()){var d=o[_].el;N[d.jtk.node.id]=d,M[B.jsPlumbInstance.getId(d)]=d.jtk.node,G.push(d.jtk.node);var r={node:d.jtk.node,el:d,id:d.jtk.node.id};null!=o.group&&!f||A.getLayout().nodeAdded(r),A.fire(Vn.nodeAdded,r)}Nn.doImport&&Nn.doImport(N,z)}else{for(n=0,i=P.getGroupCount();n<i;n++)t=P.getGroupAt(n),p(t)&&Q(t);for(n=0,i=P.getNodeCount();n<i;n++)o=P.getNodeAt(n),p(o)&&$(o);var s=function(n){var o=P.getAllEdgesFor(n);for(w=0;w<o.length;w++)if(o[w].source===n||o[w].source.getNode&&o[w].source.getNode()===n){var i=nn.getEdgeDefinition(P.getNodeType(o[w].data));if(i&&!0===i.ignore)continue;var t=dn(o[w]);if(null!=t.source&&null!=t.target){t.doNotFireConnectionEvent=!0;var e=E.connect(t);if(null!=e){var _=e.getConnector();t.geometry&&_.importGeometry&&_.importGeometry(t.geometry,e),e.edge=o[w],z[o[w].getId()]=e,H(t.type,o[w],e)}}}};for(n=0,i=P.getNodeCount();n<i;n++)o=P.getNodeAt(n),N[o.id]&&s(o);for(n=0,i=P.getGroupCount();n<i;n++)o=P.getGroupAt(n),F[o.id]&&s(o)}this.relayout(),E.setSuspendDrawing(!1,!0),P.setSuspendGraph(!1)},this.getContainer=function(){return r},this.getContainerId=function(){return D},this.getRenderedElement=function(n){if(null==n)return null;var o=n.getFullId();return n.objectType===Rn.portType?O[o]:n.objectType===Rn.groupType?F[o]:N[o]},this.getRenderedNode=function(n){return N[n]},this.getRenderedGroup=function(n){return F[n]},this.getRenderedPort=function(n){return O[n]},this.getRenderedConnection=function(n){return z[n]},this.getRenderedEndpoint=function(n){var o=kn(n),i=null;return o&&o.obj&&"Port"===o.obj.objectType&&(i=pn[o.obj.getFullId()]),i};var hn=function(n,o){var i=A._getGroupDragArea?A._getGroupDragArea(o):F[o.id],t=E.extend({container:i,getElementForNode:function(n){return N[n]},negativeValuesAllowed:!1},n);if(!Mn.Layouts[t.type])throw"no such layout ["+t.type+"]";return t.jsPlumbToolkit=P,t.adapter=new Hn(o,A),t.locationFunction||(t.locationFunction=function(n){return[Ln.data(n.data,u),Ln.data(n.data,c)]}),new Mn.Layouts[t.type](t)};this.adHocLayout=function(n){if(n){var o=w;this.setLayout(n),w=o}},this.setLayout=function(n,o){if(n){var i=Fn.extend({jsPlumb:this.getJsPlumb()},n);w=function(n){var o=E.extend({container:r,getElementForNode:function(n){return N[n]||F[n]}},n);if(o.jsPlumbToolkit=P,o.adapter=new Wn(A,f),!Mn.Layouts[o.type])throw"no such layout ["+o.type+"]";return o.locationFunction||(o.locationFunction=function(n){return[Ln.data(n.data,u),Ln.data(n.data,c)]}),new Mn.Layouts[o.type](o)}(i),o||A.refresh()}},this.getLayout=function(){return w},this.getMagnetizedElements=function(){return null!=w?w.getMagnetizedElements():[]},this.magnetize=function(n){null!=w&&w.magnetize(n)},this.refresh=function(n){e||n&&!t||(w?w.layout(function(){this.fire(Vn.afterLayoutRefresh,{bounds:this.getBoundsInfo(),positions:w.getPositions(),sizes:w.getSizes()}),"undefined"!=typeof window?window.setTimeout(E.repaintEverything,0):E.repaintEverything()}.bind(this)):E.repaintEverything())},this.setRefreshAutomatically=function(n){t=n},this.reload=function(){jsPlumbUtil.log("JSPLUMB: `reload` method not implement unless you're rendering a Selection")},this.relayout=function(n){e||(w?w.relayout(n,function(){A.relayoutGroups(),E.repaintEverything(),this.fire(Vn.relayout,{bounds:this.getBoundsInfo(),positions:w.getPositions(),sizes:w.getSizes()})}.bind(this)):E.repaintEverything())},this.relayoutGroups=function(){P.eachGroup(function(n,o){p(o)&&A.relayoutGroup(o)})},this.relayoutGroup=function(n){if(!n.layout){var o=kn(n);if(!o.obj||!o.obj.layout)return;n=o.obj}n.layout.relayout(),A.sizeGroupToFit(n,!0),E.revalidate(F[n.id]),A.fire(Vn.groupRelayout,n,F[n.id])},this.getPath=function(n){var o=P.getPath(n);return o&&(o.setVisible=function(n){A.setVisible(o,n)},o.addNodeClass=function(i){o.eachNode(function(n,o){E.addClass(N[o.id],i)})},o.removeNodeClass=function(i){o.eachNode(function(n,o){E.removeClass(N[o.id],i)})},o.addEdgeClass=function(i){o.eachEdge(function(n,o){z[o.getId()].addClass(i)})},o.removeEdgeClass=function(i){o.eachEdge(function(n,o){z[o.getId()].removeClass(i)})},o.addClass=function(n){this.addNodeClass(n),this.addEdgeClass(n)},o.removeClass=function(n){this.removeNodeClass(n),this.removeEdgeClass(n)}),o},this.getPosition=function(n){var o=this.getLayout();if(o){var i=kn(n).id;return o.getPosition(i)}},this.getSize=function(n){return E.getSize(kn(n).el)},this.getCoordinates=function(n){var o=this.getLayout();if(o){var i=kn(n);if(i.obj){var t=E.getSize(i.el),e=i.obj.group?i.obj.group.layout.getPosition(i.id):o.getPosition(i.id);return{x:e[0],y:e[1],w:t[0],h:t[1]}}return{x:0,y:0,w:0,h:0}}};var pn={},fn={},Cn={};this.ingestEndpoint=function(n,o){(pn[n.getFullId()]=o).graph={node:n.getNode(),port:n}};var gn=function(n,e,o){function i(t){return function(n){var o=e.getPort(_),i=[{portId:_,nodeId:e.id,port:o,node:e,portType:w,endpoint:n.endpoint,anchor:n.anchor}];t.apply(t,i)}}function t(i){return function(n){var o=[{connection:n.connection||n,source:kn(n.source),target:kn(n.target),scope:n.scope}];return i.apply(i,o)}}var _=n.value("port-id"),w=n.value("port-type")||"default",d=n.value("scope")||E.getDefaultScope(),r=e.getPorts().find(function(n){return n.id===_}),s=P.getNodeType(e),B=nn.getNodeDefinition(s),a=nn.getPortDefinition(_,B),j=nn.getPortDefinition(w,B),l=On.merge(j,a),u=null==l?{}:null!=r?On.populate(l,r.data,null,!0):On.populate(l,e.data,null,!0),c=u.edgeType||n.value("edge-type")||"default",h={paintStyle:"connectorStyle",hoverPaintStyle:"connectorHoverStyle",overlays:"connectorOverlays",endpointStyle:"paintStyle"},p=nn.getEdgeDefinition(c);if(p)for(var f in p)if("label"!==f){var C=h[f]||f;null==u[C]&&(u[C]=p[f])}if(u.connectionType=c,u.portId=_,u.portType=w,u.scope=d,u.parameters=u.parameters||{},u.parameters.portId=_,u.parameters.portType=w,u.parameters.edgeType=c,u.parameters.scope=d,u.parameters.nodeId=e.id,u.events={},l.events)for(f in l.events)u.events[f]=i(l.events[f]);if(l.interceptors)for(f in l.interceptors)u[f]=t(l.interceptors[f]);var g=n.value("anchor-x"),v=n.value("anchor-y"),m=n.value("orientation-x"),D=n.value("orientation-y"),y=n.value("offset-x"),b=n.value("offset-y");return null!=g&&null!=v&&(u.anchor=[parseFloat(g),parseFloat(v),parseInt(m||"0",10),parseInt(D||"0",10),parseFloat(y||"0"),parseFloat(b||"0")]),Fn.extend(u,o||{}),u.events.anchorChanged=function(n){A.fire("anchorChanged",{portId:_,nodeId:e.id,portType:w,node:e,port:e.getPort(_),endpoint:n.endpoint,anchor:n.anchor})},u},vn=function(t){this.element=t.parentNode,this.value=function(n,o){var i=t.getAttribute(n);return null==i?o:i},this.setValue=function(n,o){t.setAttribute(n,o)},this.findDataValues=function(n){for(var o=0;o<t.attributes.length;o++){var i=t.attributes[o];0===i.name.indexOf("data-")&&(n[i.value]=i.name.split("-")[1])}}},mn=function(t,i,n){this.element=i,this.port=n,this.value=function(n,o){var i=t[n.replace(/(\-\w)/g,function(n){return n[1].toUpperCase()})];return null==i?o:i},this.findDataValues=function(n){for(var o in t)0===o.indexOf("data-")&&(n[t[o]]=o.split("-")[1])},this.setValue=function(n,o){i.setAttribute(n,o)}};function Dn(n,o,i){if(null==n.value("jtk-processed")){n.setValue("jtk-processed",!0);var t=gn(n,o,i);"true"===n.value("is-source")&&(t.isSource=!0),"true"===n.value("is-target")&&(t.isTarget=!0);var e=E.addEndpoint(n.element,t);pn[o.id+"."+t.portId]=e;var _=n.port||o.addPort({id:t.portId});e.graph={port:_},e.graph["Node"===o.objectType?"node":"group"]=o,s.onUpdate(n.element,function(){})}}function yn(n,o){if(o.events)for(var i in o.events)E.on(n,i,o.events[i])}function bn(n,t,o){if(null==n.value("jtk-processed")){n.setValue("jtk-processed",!0);var i=gn(n,t,o);i.rank="Node"===t.objectType?10:0,null!=i.portId&&(O[t.id+"."+i.portId]=n.element,n.element.jtk=n.element.jtk||{},n.element.jtk.port=P.addPort(t,{id:i.portId,type:i.portType||"default"},!0),yn(n.element,i));var e=n.value("filter");if(e){var _="true"===n.value("filter-exclude");i.filter=e,i.filterExclude=_}if("true"===n.value("is-source")&&(i.isSource=!0),delete i.uniqueEndpoint,delete i.createEndpoint,i.extract={},n.findDataValues(i.extract),"true"===n.value("endpoint")){null==i.maxConnections&&(i.maxConnections=-1),i.isSource=!0;var w=E.addEndpoint(n.element,i);w.graph={},w.graph["Node"===t.objectType?"node":"group"]=t,null==i.portId?fn[t.id]=w:pn[t.id+"."+i.portId]=w,s.onUpdate(n.element,function(){})}else{var d,r=n.element._katavorioDrop?n.element._katavorioDrop.length:0;E.makeSource(n.element,i),null!=i.portId&&(E._sourceDefsByPortId=E._sourceDefsByPortId||{},E._sourceDefsByPortId[i.portId]=E._sourceDefsByPortId[i.portId]||[],E._sourceDefsByPortId[i.portId].push([E.getId(n.element),t])),r<(n.element._katavorioDrop?n.element._katavorioDrop.length:0)&&(d=n.element._katavorioDrop[n.element._katavorioDrop.length-1]),s.onUpdate(n.element,function(n){var o=Fn.getSelector(n,"jtk-source");if(1===o.length){var i=gn(new vn(o[0]),t,null);i.scope&&(E.setSourceScope(n,i.scope,i.edgeType),d&&d.k.setDropScope(d,i.scope))}})}}}function An(n,t,o){if(null==n.value("jtk-processed")){n.setValue("jtk-processed",!0);var i=gn(n,t,o);if(i.rank="Node"===t.objectType?10:0,null!=i.portId&&(O[t.id+"."+i.portId]=n.element,n.element.jtk=n.element.jtk||{},n.element.jtk.port=P.addPort(t,{id:i.portId,type:i.portType||"default"},!0),yn(n.element,i)),"true"===n.value("is-target")&&(i.isTarget=!0),delete i.uniqueEndpoint,delete i.createEndpoint,"true"===n.value("endpoint")){null==i.maxConnections&&(i.maxConnections=-1),i.isTarget=!0;var e=E.addEndpoint(n.element,i);e.graph={},e.graph["Node"===t.objectType?"node":"group"]=t,null==i.portId?Cn[t.id]=e:pn[t.id+"."+i.portId]=e,s.onUpdate(n.element,function(){})}else{E.makeTarget(n.element,i),null!=i.portId&&(E._targetDefsByPortId=E._targetDefsByPortId||{},E._targetDefsByPortId[i.portId]=E._targetDefsByPortId[i.portId]||[],E._targetDefsByPortId[i.portId].push([E.getId(n.element),t]));var _=n.element._katavorioDrop[n.element._katavorioDrop.length-1];s.onUpdate(n.element,function(n){var o=Fn.getSelector(n,"jtk-target");if(1===o.length){var i=gn(new vn(o[0]),t,null);i.scope&&(_.targetDef.def.scope=i.scope,_.k.setDropScope(_,i.scope))}})}}}var Pn=function(n,o){var i,t=Fn.getSelector(n,Un.PORT),e=Fn.getSelector(n,Un.SOURCE),_=Fn.getSelector(n,Un.TARGET);for(i=0;i<e.length;i++)bn(new vn(e[i]),o);for(i=0;i<_.length;i++)An(new vn(_[i]),o);for(i=0;i<t.length;i++)Dn(new vn(t[i]),o)};function En(n){var o=n.info||kn(n.node);if(o&&o.obj){if(!1!==n.updateLayout)(o.obj.group?o.obj.group.layout:w)[n.magnetize?"setMagnetizedPosition":"setPosition"](o.id,n.x,n.y);!0===n.doNotUpdateElement||n.magnetize||E.setAbsolutePosition(o.el,[n.x,n.y],n.animateFrom,n.animateOptions),!0===n.revalidate&&E.revalidate(o.el),n.storeInModel&&h&&A.storePositionInModel(o.id)}return o}function xn(n,o,i){if(1===o.connections.length)o.setVisible(i,!0);else if(i)o.setVisible(!0,!0);else{for(var t=0;t<o.connections.length;t++)if(o.connections[t]!==n&&o.connections[t].isVisible())return;o.setVisible(!1,!0)}}function Sn(n,o,i){var t=V(n);t&&(o&&!function(n){return!1!==n.endpoints[0].element._jtkVisible&&!1!==n.endpoints[1].element._jtkVisible}(t)||(t.setVisible(o),i||(xn(t,t.endpoints[0],o),xn(t,t.endpoints[1],o))))}function In(n,i){var t;if(n.eachNode&&n.eachEdge)t={nodes:[],edges:[]},n.eachNode(function(n,o){t.nodes.push(i(kn(o)))}),n.eachEdge(function(n,o){t.edges.push(i(kn(o)))});else if(n.length&&"string"!=typeof n){t=[];for(var o=0;o<n.length;o++)t.push(i(kn(n[o])))}else t=i(kn(n));return t}function kn(n){return n instanceof E.getDefaultConnectionType()&&(n=n.edge),P.getObjectInfo(n,function(n){return n.getNode?O[n.getFullId()]||N[n.getNode().id]:N[n.id]||F[n.id]})}if(this.setLayout(B.layout,!0),this.storePositionsInModel=function(n){var e=(n=n||{}).leftAttribute||"left",_=n.topAttribute||"top",o=w.getPositions();for(var i in o){var t=P.getNode(i)||P.getGroup(i);t&&(Ln.data(t.data,e,o[i][0]),Ln.data(t.data,_,o[i][1]))}P.eachGroup(function(n,o){var i=o.getNodes(),t=o.layout.getPositions();for(n=0;n<i.length;n++)Ln.data(i[n].data,e,t[i[n].id][0]),Ln.data(i[n].data,_,t[i[n].id][1])})},this.storePositionInModel=function(n){var o="string"==typeof n?n:n.id,i="string"==typeof n?"left":n.leftAttribute||"left",t="string"==typeof n?"top":n.topAttribute||"top",e=P[n.group?"getGroup":"getNode"](o),_=e.group?e.group.layout.getPosition(o):w.getPosition(o);return e&&(h||n.force)&&(Ln.data(e.data,i,_[0]),Ln.data(e.data,t,_[1])),_},this.setPosition=function(n){return En({info:null,node:n.node,x:n.x,y:n.y,doNotUpdateElement:n.doNotUpdateElement,animateFrom:null,animateOptions:null,updateLayout:!0!==n.doNotUpdateLayout,revalidate:!0===n.doRevalidate,storeInModel:!0,size:n.size})},this.setMagnetizedPosition=function(n,o,i,t){return En({info:null,node:n,x:o,y:i,doNotUpdateElement:t,animateFrom:null,animateOptions:null,updateLayout:!0,magnetize:!0,revalidate:!0})},this.animateToPosition=function(n,o,i,t){var e=kn(n);if(e){var _=w.getPosition(e.id);En({info:e,node:n,x:o,y:i,animateFrom:[_[0],_[1]],animateOptions:t})}},this.isVisible=function(n){return In(n,function(n){switch(n.type){case"Edge":var o=V(n.obj);return!!o&&o.isVisible();case"Node":return!1!==n.el._jtkVisible}})},this.setVisible=function(n,d,r){if(null!=n){In(n,function(n){switch(n.type){case"Edge":Sn(n.obj,d,r);break;case"Node":!function(n,o){if(o&&(o.style.display=d?"block":"none",o._jtkVisible=d,A.fire(Vn.nodeVisibility,{node:n,el:o,state:d}),!r))for(var i=P.getAllEdgesFor(n),t=0;t<i.length;t++)if(d){var e=i[t].source.getNode?i[t].source.getNode():i[t].source,_=i[t].target.getNode?i[t].target.getNode():i[t].target,w=e===n?_:e;A.isVisible(w)&&Sn(i[t],d,r)}else Sn(i[t],d,r)}(n.obj,n.el);break;case"Port":!function(n){var o=n.getFullId();pn[o].setVisible(d)}(n.obj)}})}},this.addToPosse=function(n,i,t){On.each(n,function(n){var o=kn(n);o.el&&E.addToPosse(o.el,{id:i,active:!1!==t})})},this.setPosse=function(n,i){On.each(n,function(n){var o=kn(n);o.el&&E.setPosse(o.el,i)})},this.removeFromPosse=function(n,i){On.each(n,function(n){var o=kn(n);o.el&&E.removeFromPosse(o.el,i)})},this.removeFromAllPosses=function(n){On.each(n,function(n){var o=kn(n);o.el&&E.removeFromAllPosses(o.el)})},this.setPosseState=function(n,i,t){On.each(n,function(n){var o=kn(n);o.el&&E.setPosseState(o.el,i,t)})},this.destroy=function(){for(var o,n=0;n<q.length;n++)try{o=q[n],P.unbind(o.event,o.fn)}catch(n){On.log("WARN: Could not unbind event "+o.event+" during destroy operation.")}this._destroy&&this._destroy(),this._onDestroy&&this._onDestroy(this)},this.registerTag=function(n,o,i){s.registerTag(n,o,i)},B.tags)for(var Tn in B.tags)this.registerTag(Tn,B.tags[Tn]);var Nn={jsPlumb:E,toolkit:P,container:r,containerId:D,getConnectionsForEdges:function(n){for(var o=[],i=0;i<n.length;i++)o.push(z[n[i].getId()]);return o},getConnectionForEdge:V,getElement:function(n){return N[n]||F[n]},getNodeForElementId:function(n){return M[n]},getGroupForElementId:function(n){return R[n]},getObjectInfo:kn,nodeMap:function(){return N},portMap:function(){return O},groupMap:function(){return F},nodeList:function(){return G},isIgnoreGroups:function(){return f},reverseGroupMap:function(){return R},reverseNodeMap:function(){return M},bindToToolkit:function(n,o){null==tn[n]?K(n,o,!0):(J[n]=J[n]||[],J[n].push(o))}};return Nn}n.AbstractRenderer=t,n.DOM=function(n){t.apply(this,arguments),o.apply(this,arguments)}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";function n(o,i,t){return function(n){return n[o]/i*(t?-1:1)}}function _(t,e,_){return function(n){if(!e||null==n.mozInputSource||1===n.mozInputSource){var o=function(n){return d(n||event)}(n),i=function(n){return r(n||event)}(n);n.normalizedWheelDelta=o,_&&!n.metaKey&&!n.ctrlKey||t(n,i,o,n.metaKey||n.ctrlKey)}}}var o={webkit:{mac:n("deltaY",120),win:n("deltaY",100)},safari:n("wheelDeltaY",120,!0),firefox:{mac:function(n){return n.deltaY*(1===n.deltaMode?25:1)*-1/120},win:function(n){return-1*n.deltaY/3}},ie:function(n){return n.wheelDelta/120},default:function(n){return n.deltaY||n.wheelDelta}},i={webkit:{mac:n("deltaX",120),win:n("deltaX",100)},safari:n("wheelDeltaX",120,!0),firefox:{mac:function(n){return n.deltaX*(1===n.deltaMode?25:1)*-1/120},win:function(n){return-1*n.deltaX/3}},ie:function(n){return n.wheelDelta/120},default:function(n){return n.deltaX||n.wheelDelta}},t="undefined"!=typeof navigator,e=t?/Mac/.test(navigator.userAgent)?"mac":"win":"mac",w=t?-1!==navigator.userAgent.indexOf("Firefox")?"firefox":/Chrome/.test(navigator.userAgent)?"webkit":/Safari/.test(navigator.userAgent)?"safari":/WebKit/.test(navigator.userAgent)?"webkit":/Trident/.test(navigator.userAgent)?"ie":"default":"default",d="function"==typeof o[w]?o[w]:o[w][e],r="function"==typeof i[w]?i[w]:i[w][e],s="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";this.addWheelListener=function(n,o,i,t){var e=_(o,i,t);n.addEventListener?n.addEventListener(s,e,!1):n.attachEvent&&n.attachEvent("onmousewheel",e)}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){this.PinchListener=function(o){function B(n){o[n](l,c,u,u/c)}function a(){o.onPinchEnd()}function j(n,o,i,t){return Math.sqrt(Math.pow(i-n,2)+Math.pow(t-o,2))}var n="onpointerdown"in document.documentElement,i="ontouchstart"in document.documentElement,l=[0,0],u=0,c=0,h="onPinchStart",t=function(i){function t(n){return n.touches||[]}function e(n,o){return n.item?n.item(o):n[o]}function _(n){var o=e(n,0),i=e(n,1);return j(o.pageX,o.pageY,i.pageX,i.pageY)}function w(n){var o=e(n,0),i=e(n,1);return[(o.pageX+i.pageX)/2,(o.pageY+i.pageY)/2]}var d=!1,r=function(n){d=!1,jsPlumbUtil.consume(n),i.unbind(document,"touchmove",s),i.unbind(document,"touchend",r),a()},s=function(n){if(d){var o=t(n);2===o.length&&(jsPlumbUtil.consume(n),u=_(o),l=w(o),B("onPinch"))}};i.bind(i.el,"touchstart",function(n){var o=t(n);2===o.length&&!1!==i.enableWheelZoom&&(l=w(o),u=c=_(o),d=!0,i.bind(document,"touchmove",s),i.bind(document,"touchend",r),jsPlumbUtil.consume(n),B(h))})};n?function(){function i(){2===_&&(l=[(e[1].p[0]+e[0].p[0])/2,(e[1].p[1]+e[0].p[1])/2],u=j(e[1].p[0],e[1].p[1],e[0].p[0],e[0].p[1]))}var t={},e=[],_=0,w=!1;o.bind(o.el,"pointerdown",function(n){2<=_||w||(e[_]={e:n,p:[n.pageX,n.pageY]},t[""+n.pointerId]=_,_++,i(),2===_&&(c=u,B(h)))}),o.bind(document,"pointerup",function(n){null!=t[""+n.pointerId]&&(delete t[""+n.pointerId],w=0!==--_,a())}),o.bind(document,"pointermove",function(n){if(!w&&2===_){var o=t[n.pointerId];null!=o&&(e[o].p=[n.pageX,n.pageY],i(),B("onPinch"))}})}(o):i&&t(o)}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var Vn=this.jsPlumb;this.ZoomWidget=function(f){f.events=f.events||{};function n(){}function e(){Q.minx.sort(function(n,o){return n[0][0]<o[0][0]?-1:1}),Q.miny.sort(function(n,o){return n[0][1]<o[0][1]?-1:1}),Q.maxx.sort(function(n,o){return n[0][0]+n[1]>o[0][0]+o[1]?-1:1}),Q.maxy.sort(function(n,o){return n[0][1]+n[2]>o[0][1]+o[2]?-1:1})}function d(n,o,i,t){null==nn[n]&&(nn[n]=[],Q.minx.push(nn[n]),Q.miny.push(nn[n]),Q.maxx.push(nn[n]),Q.maxy.push(nn[n])),nn[n][0]=o,nn[n][1]=i,nn[n][2]=t,nn[n][3]=n,N?en=!0:e()}var C,w,r,s,B=this,a=f.canvas,u=f.domElement||function(n){return n},c=u(a),h=f.viewport,g=u(h),p=f.events.zoom||n,j=(f.events.maybeZoom,f.events.pan||n),t=f.events.mousedown||n,i=f.events.mouseup||n,l=f.events.mousemove||n,v=f.events.transformOrigin||n,m=!(!1===f.clamp),D=!1!==f.clampZoom,y=f.panDistance||50,b=!1!==f.enablePan,A=!0===f.directRender,o=!1!==f.enableWheelZoom,P=!1!==f.enableAnimation,_=f.wheelFilter||function(){return!0},E=!0===f.wheelZoomMetaKey,x=(!0===f.wheelReverse?-1:1)*(f.wheelSensitivity||10),S=!0===f.wheelPan,I=!1!==f.enablePanButtons,k=(f.padding,!1!==f.consumeRightClick),T=f.smartMinimumZoom,N=!1,M="mouseup",O="mousemove",F=["webkit","Moz","ms"],L=f.bind,R=f.unbind,G=!(!1===f.enabled),U=f.clampToBackground,z=f.clampToBackgroundExtents,V=f.filter||function(n){return!1},H=f.width,W=f.height,X=f.zoom||1,Y=[0,0],Z=!1,q=!1,J=!1,K=!1,$=f.zoomRange||[.05,3],Q={minx:[],maxx:[],miny:[],maxy:[]},nn={},on={},tn={},en=!1;this.setBoundsFor=d,this.setSize=function(n,o,i){null!=nn[n]&&(nn[n][1]=o,nn[n][2]=i,e())},this.setSuspendRendering=function(n){!(N=n)&&en&&e(),en=!1};function _n(n,o,i,t,e){var _=document.createElement("div");for(var w in _.innerHTML=e||"",_.style.position="absolute",o)_.style[w]=o[w];return _.className="jtk-surface-pan jtk-surface-pan-"+n,g.appendChild(_),f.bind(_,"click",function(n,i){return function(o){En(c,n*y,i*y,null,!0,function(n){j(n[0],n[1],X,X,o),C&&C.pan(),zn.pan()})}}(i,t)),f.bind(_,"mousedown",function(n,o,i){return function(){sn=i,f.addClass(sn,"jtk-surface-pan-active"),f.bind(document,"mouseup",Bn),dn=window.setTimeout(function(){f.bind(document,M,jn),rn=window.setInterval(an(n,o),60)},150)}}(i,t,_)),wn.push(_),_}var wn=[],dn=null,rn=null,sn=null,Bn=function(){window.clearTimeout(dn),sn&&f.removeClass(sn,"jtk-surface-pan-active"),sn=null},an=function(i,t){return function(n){var o=En(c,10*i,10*t,null);j(o[0],o[1],X,X,n),C&&C.pan(),zn.pan()}},jn=function(){window.clearTimeout(rn)};I&&(_n("top",{left:"0px",top:"0px"},0,-1,"&#8593;"),_n("bottom",{left:"0px",bottom:"0px"},0,1,"&#8595;"),_n("left",{left:"0px",top:"0px"},-1,0,"&#8592;"),_n("right",{right:"0px",top:"0px"},1,0,"&#8594;"));function ln(n,o,i){i=i||c;for(var t=0;t<F.length;t++){var e=n.replace(/([a-z]){1}/,function(n){return F[t]+n.toUpperCase()});i.style[e]=o}i.style[n]=o}function un(n){ln("transformOrigin",Y[0]+"% "+Y[1]+"%",n)}function cn(n,o,i,t){var e,_,w=Y[0]/100*o,d=Y[1]/100*i;e=-w*(1-X),_=-d*(1-X),Y=n,un(),w=Y[0]/100*o,d=Y[1]/100*i;var r=En(c,-w*(1-X)-e,-d*(1-X)-_,t);v&&v(Y,r)}function hn(n,o,i){var t=function(n,o){var i=B.mapLocation(n,o),t=[i.left,i.top],e=f.width(a),_=f.height(a);return{w:e,h:_,xy:t,xScale:t[0]/e,yScale:t[1]/_,o:[t[0]/e*100,t[1]/_*100]}}(n,o);cn(t.o,t.w,t.h,i)}function pn(n){var o=Cn(n);hn(o[0],o[1],n)}function fn(n,o){var i=f.width(a),t=f.height(a);cn([n/i*100,o/t*100],i,t)}var Cn=function(n){var o,i=mn(n);if(i&&0<i.length){var t=vn(i,0);t&&(o=[t.pageX,t.pageY])}return o&&o[0]&&o[1]?o:null!=n.pageX?[n.pageX,n.pageY]:[0,0]};this.pageLocation=Cn;function gn(n,o,i,t){o<-150&&(o=-150),150<o&&(o=150),yn(r,o,-150,150,i,t)}var vn=function(n,o){return n.item?n.item(o):n[o]},mn=function(n){return n.touches||[]},Dn=function(n,o,i,t,e){if(!A&&!(null==n||isNaN(n)||n<0)){var _=$[0];if(T){_=.5;var w=Mn().z;n/w<_&&(n=w*_)}else n<_&&(n=_);if(n>$[1]&&(n=$[1]),t){var d=X<n?.05:-.05,r=X,s=n<X,B=window.setInterval(function(){r=Dn(r+d),s&&r<=n&&window.clearInterval(B),!s&&n<=r&&window.clearInterval(B)});return X}ln("transform","scale("+n+")");var a=X;if(X=n,e||p(0,0,X,a,o,i),null!=C&&C.setZoom(n),zn&&zn.pan(),D){var j=An(c),l=bn(j[0],j[1]);l[0]==j[0]&&l[1]==j[1]||An(c,l[0],l[1],null,!t)}return X}},yn=function(n,o,i,t,e,_){var w=n+o/(0<=o?t:i)*($[0<=o?1:0]-n);Dn(w,e,_)},bn=function(n,o,i){if(m||U||z){var t=xn(),e=n,_=o,w=m?Mn():{x:0,y:0,w:0,h:0,vw:f.width(g),vh:f.height(g),padding:i,z:1};if(i=(i||20)*X,(U||z)&&null!=C){var d=C.getWidth(),r=C.getHeight(),s=Math.max(w.x+w.w,d),B=Math.max(w.y+w.h,r);w.w=s-w.w,w.h=B-w.h;var a=w.vw/w.w,j=w.vh/w.h;w.z=Math.min(a,j),z&&(i=Math.max(w.vw,w.vh))}var l=[w.x+w.w,w.y+w.h];C&&(l[0]=Math.max(l[0],C.getWidth()),l[1]=Math.max(l[1],C.getHeight()));var u=n+t[0]+l[0]*X-i,c=o+t[1]+l[1]*X-i,h=n+t[0]+w.x*X+i,p=o+t[1]+w.y*X+i;return u<0&&(e-=u),h>w.vw&&(e-=h-w.vw),c<0&&(_-=c),p>w.vh&&(_-=p-w.vh),[e,_]}return[n,o]},An=function(n,o,i,t,e,_,w){if(1==arguments.length)return[parseInt(n.style.left,10)||0,parseInt(n.style.top,10)||0];var d=bn(o,i);return P&&!e&&f.animate?f.animate(n,{left:d[0],top:d[1]},{step:w,complete:function(){_&&_(d)}}):(n.style.left=d[0]+"px",n.style.top=d[1]+"px",_&&_(d)),d};c.style.left="0px",c.style.top="0px";function Pn(n,o){"contextmenu"===n&&k&&o.preventDefault&&o.preventDefault();var i=mn(o);Sn[n](o,i)}var En=function(n,o,i,t,e,_){var w=An(n);return An(n,w[0]+o,w[1]+i,t,!e,_)},xn=function(){var n=f.width(a),o=f.height(a),i=Y[0]/100*n,t=Y[1]/100*o;return[i*(1-X),t*(1-X)]},Sn={start:function(n,o){if(!q){var i=n.srcElement||n.target;G&&(i===c||i===g||i._jtkDecoration||C&&C.owns(i)||!0===V(i,n))&&(K=!1,-1,3!==n.which||!1===f.enableWheelZoom||null!=n.mozInputSource&&1!==n.mozInputSource?o.length<=1&&(Z=!0,w=Cn(n),s=An(c),jsPlumbUtil.consume(n)):(J=!0,w=Cn(n),pn(n),s=An(c),r=X)),t(n,B)}},move:function(n,o){var i,t,e;if(K=!1,!q){if(J)i=(e=Cn(n))[0]-w[0],t=e[1]-w[1],gn(0,t,n);else if(Z&&b&&null!=w){jsPlumbUtil.consume(n),i=(e=Cn(n))[0]-w[0],t=e[1]-w[1];var _=An(c,s[0]+i,s[1]+t,n,!0);j(_[0],_[1],X,X,n),C&&C.pan(),zn&&zn.pan(),jsPlumbUtil.consume(n)}l(n,B)}},end:function(n,o){q||(w=null,K=Z=J=!1,R(document,O,In),R(document,M,kn),L(document,O,Tn),i(n,B))},contextmenu:function(n){}},In=function(n){Pn("move",n)},kn=function(n){Pn("end",n)},Tn=function(n){K=!1};L(document,O,Tn);function Nn(n){G&&null!=n&&(R(document,O,Tn),L(document,O,In),L(document,M,kn),Sn.start(n,mn(n)))}if(this.start=Nn,L(h,"mousedown",Nn),L(h,"contextmenu",function(n){Pn("contextmenu",n)}),o){addWheelListener(g,function(n,o,i,t){_(n)&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!S||t?function(n){r=X,K||(pn(n),K=!0),gn(0,n.normalizedWheelDelta*x,n,!0)}(n):function(n,o,i,t){t||Fn(100*-o,100*-i)}(0,o,i,t))},!0,E)}function Mn(n,o){if(function(){for(var n in nn)return!1;return!0}())return{w:0,h:0,x:0,y:0,vw:f.width(g),vh:f.height(g),padding:n,z:1,zoom:1};n=n||0,o=o||.9;var i=Math.abs(Q.maxx[0][0][0]+Q.maxx[0][1]-Q.minx[0][0][0]),t=Math.abs(Q.maxy[0][0][1]+Q.maxy[0][2]-Q.miny[0][0][1]),e=f.width(g),_=f.height(g),w=e/((i+2*n)/o),d=_/((t+2*n)/o),r=Math.min(w,d);return{w:i,h:t,x:Q.minx[0][0][0],y:Q.miny[0][0][1],vw:e,vh:_,padding:n,z:r,zoom:X}}function On(n){for(var o in Q)if(Q.hasOwnProperty(o)){for(var i=-1,t=0;t<Q[o].length;t++)if(Q[o][t][3]===n){i=t;break}-1!==i&&Q[o].splice(i,1)}}new PinchListener({el:h,bind:L,unbind:R,enableWheelZoom:f.enableWheelZoom,onPinch:function(n,o,i,t){Dn(t*r);var e=n[0]-w[0],_=n[1]-w[1];An(c,s[0]+e,s[1]+_,null,!0)},onPinchStart:function(n,o){q=!0,o,r=X,hn((w=n)[0],w[1]),s=An(c)},onPinchEnd:function(){q=!1,w=null}}),Dn(X,null,!1,!1,!0),un(),this.isPinchZooming=function(){return q},this.positionChanged=function(n,o,i,t){i=i||f.id(n);var e=o||An(n),_=t?t[0]:f.width(n),w=t?t[1]:f.height(n);on[i]=n,d(i,e,_,w)},this.add=function(n,o,i,t){this.positionChanged(n,i,o),t&&(L(n,"mousedown",Nn),n._jtkDecoration=!0)},this.suspend=function(n){var o="string"==typeof n?n:f.id(n);tn[o]=!0,On(o)},this.isSuspended=function(n){var o="string"==typeof n?n:f.id(n);return!0===tn[o]},this.restore=function(n){var o="string"==typeof n?n:f.id(n);delete tn[o],this.positionChanged(n,null,o)},this.remove=function(n){n=u(n);var o=f.id(n);delete nn[o],delete on[o],delete tn[o],On(o)},this.reset=function(){Q.minx.length=0,Q.miny.length=0,Q.maxx.length=0,Q.maxy.length=0,nn={},on={},tn={},An(c,0,0,null,!0)},this.getBoundsInfo=Mn,this.zoomToFit=function(n){var o=Mn((n=n||{}).padding,n.fill);n.doNotZoomIfVisible&&o.z>X||Dn(o.z),B.centerContent({bounds:o,doNotAnimate:!1!==n.doNotAnimate,onComplete:n.onComplete,onStep:n.onStep,doNotFirePanEvent:n.doNotFirePanEvent})},this.zoomToFitIfNecessary=function(n){var o=Vn.extend(n||{});o.doNotZoomIfVisible=!0,this.zoomToFit(o)},this.zoomToElements=function(n){for(var o={x:1/0,y:1/0,xMax:-1/0,yMax:-1/0,z:1,vw:f.width(g),vh:f.height(g)},i=0;i<n.elements.length;i++){var t=n.elements[i],e=nn[f.id(t)];e&&(o.x=Math.min(o.x,e[0][0]),o.y=Math.min(o.y,e[0][1]),o.xMax=Math.max(o.xMax,e[0][0]+e[1]),o.yMax=Math.max(o.yMax,e[0][1]+e[2]))}var _=n.fill||.9;o.w=o.xMax-o.x,o.h=o.yMax-o.y,o.z=_*Math.min(o.vw/o.w,o.vh/o.h),n.doNotZoomIfVisible&&o.z>X||Dn(o.z),B.centerContent({bounds:o,doNotAnimate:!1!==n.doNotAnimate,onComplete:n.onComplete,onStep:n.onStep,doNotFirePanEvent:n.doNotFirePanEvent})},this.zoomToBackground=function(n){if(n=n||{},null!=C){var o=C.getWidth(),i=C.getHeight(),t=H(g),e=W(g),_=t/o,w=e/i,d={w:o,h:i,x:0,y:0,vw:t,vh:e,padding:0,z:Math.min(_,w)};Dn(d.z),B.centerContent({bounds:d,doNotAnimate:n.doNotAnimate,onComplete:n.onComplete,onStep:n.onStep})}},this.setFilter=function(n){V=n||function(n){return!1}},this.centerBackground=function(){if(null!=C){var n=Vn.extend({},Mn());n.x=C.getWidth()/2,n.y=C.getHeight()/2,n.w=1,n.h=1,B.centerContent({bounds:n,doNotAnimate:f.doNotAnimate,onComplete:f.onComplete,onStep:f.onStep,vertical:!0,horizontal:!0})}},this.alignBackground=function(n){if(null!=C){var o=n.split(" "),i=o[0]||"left",t=o[1]||"top",e=Mn(),_="left"===i?0:e.vw-C.getWidth()*X,w="top"===t?0:e.vh-C.getHeight()*X,d=xn();An(c,_-d[0],w-d[1]),C.pan(),zn&&zn.pan()}},this.positionElementAt=function(n,o,i,t,e,_){t=t||0,e=e||0;var w=xn(),d=An(c),r=u(n),s=r.parentNode,B=f.offset(s),a=f.offset(h),j=a.left-B.left+(d[0]+w[0])+o*X+t,l=a.top-B.top+(d[1]+w[1])+i*X+e;_&&j<0&&(j=0),_&&l<0&&(l=0),r.style.left=j+"px",r.style.top=l+"px"},this.positionElementAtPageLocation=function(n,o,i,t,e){var _=this.mapLocation(o,i);this.positionElementAt(n,_.left,_.top,t,e)},this.positionElementAtEventLocation=function(n,o,i,t){var e=this.mapEventLocation(o);this.positionElementAt(n,e.left,e.top,i,t)},this.zoomToEvent=function(n,o){pn(n),Dn(X+o,n)},this.relayout=function(n){if(!1===f.enablePan){var o=n[2]-n[0],i=n[3]-n[1],t=window.getComputedStyle(g),e=1,_=1,w=parseInt(t.getPropertyValue("max-width"),10),d=parseInt(t.getPropertyValue("max-height"),10);!isNaN(w)&&w<o&&(e=w/o,o=w),!isNaN(d)&&d<i&&(_=d/i,i=d);var r=Math.min(e,_);c.style.width=o+"px",c.style.height=i+"px",c.style.left="0",c.style.top="0";var s=n[0]<0?-n[0]:0,B=n[1]<0?-n[1]:0;c.style.transform="translateX("+s*r+"px) translateY("+B*r+"px) scale("+r+")",this.setTransformOrigin(0,0)}},this.nudgeZoom=function(n,o){var i=f.offset(g,!0),t=i.left+f.width(g)/2,e=i.top+f.height(g)/2;return hn(t,e),Dn(X+n,o)},this.nudgeWheelZoom=function(n,o){r=X,gn(0,n,o,!0)},this.centerContent=function(n){if(!A){var o=(n=n||{}).bounds||Mn(),i=xn(),t=o.x*X+o.w*X/2,e=o.y*X+o.h*X/2,_=o.vw/2-t,w=o.vh/2-e,d=An(c);An(c,!1!==n.horizontal?_-i[0]:d[0],!1!==n.vertical?w-i[1]:d[1],null,n.doNotAnimate,function(){n.doNotFirePanEvent||j(!1!==n.horizontal?_-d[0]:0,!1!==n.vertical?w-d[1]:0,X,X),C&&C.pan(),zn&&zn.pan(),n.onComplete&&n.onComplete()},n.onStep)}},this.centerContentHorizontally=function(n){this.centerContent(Vn.extend({horizontal:!0,vertical:!1},n))},this.centerContentVertically=function(n){this.centerContent(Vn.extend({vertical:!0,horizontal:!1},n))},this.centerOn=function(n,o){o=o||{};var i=Vn.extend({},Mn()),t=An(n),e=H(n),_=W(n);i.x=t[0],i.y=t[1],i.w=e,i.h=_;this.centerContent({bounds:i,doNotAnimate:o.doNotAnimate,onComplete:function(){fn(t[0]+e/2,t[1]+_/2),o.onComplete&&o.onComplete()},onStep:o.onStep,vertical:!1!==o.vertical,horizontal:!1!==o.horizontal})},this.centerOnHorizontally=function(n){this.centerOn(n,{vertical:!1})},this.centerOnVertically=function(n){this.centerOn(n,{horizontal:!1})},this.centerOnAndZoom=function(n,o){o=o||.6;var i={w:H(n),h:W(n)},t=An(n),e=Mn(),_=e.vw<e.vh?[e.vw,"w"]:[e.vh,"h"],w=o*_[0]/i[_[1]];w<$[0]&&(w=$[0]),w>$[1]&&(w=$[1]);var d=X,r=w-X;fn(t[0]+i.w/2,t[1]+i.h/2),this.centerOn(n,{onStep:function(n,o){Dn(d+n/o*r)},onComplete:function(){Dn(w)}})},this.getViewportCenter=function(){var n=Vn.extend({},Mn()),o=xn(),i=An(c),t=[n.vw/2,n.vh/2];return[(t[0]-(i[0]+o[0]))/X,(t[1]-(i[1]+o[1]))/X]},this.setViewportCenter=function(n){var o=Vn.extend({},Mn()),i=xn(),t=[o.vw/2,o.vh/2],e=[-(n[0]*X-t[0]+i[0]),-(n[1]*X-t[1]+i[1])];An(c,e[0],e[1])},this.setClamping=function(n){m=n},this.isClamping=function(){return m},this.setZoom=function(n,o,i){return Dn(n,null,null,o,i)},this.setZoomRange=function(n,o){return null!=n&&2===n.length&&n[0]<n[1]&&null!=n[0]&&null!=n[1]&&0<n[0]&&0<n[1]&&($=n,o||(X<$[0]||X>$[1])&&Dn(X)),$},this.getZoomRange=function(){return $},this.getZoom=function(){return X},this.getPan=function(){return An(c)};var Fn=function(n,o,i){En(c,n,o,null,i,function(n){j(n[0],n[1],X,X),C&&C.pan(),zn&&zn.pan()})};this.pan=Fn,this.setPan=function(n,o,i,t,e){return An(c,n,o,null,!i,t,e)},this.setTransformOrigin=function(n,o){Y=[n,o],un()};var Ln=this.calculateCumulativeScroll=function(n){for(var o=n,i=0,t=0;null!=o&&o!==document.body;)isNaN(o.scrollLeft)||(i+=o.scrollLeft),isNaN(o.scrollTop)||(t+=o.scrollTop),o=o.parentNode;return{left:i,top:t}},Rn=this.calculateOffset=function(n){for(var o=n,i=0,t=0;null!=o&&o!==document.body;)i+=o.offsetLeft,t+=o.offsetTop,o=o.offsetParent;return{left:i,top:t}};this.mapLocation=function(n,o,i){var t=xn(),e=An(c),_=Ln(g),w=i?{left:0,top:0}:Rn(g);return{left:(n-(e[0]+t[0])-w.left+_.left)/X,top:(o-(e[1]+t[1])-w.top+_.top)/X}},this.mapEventLocation=function(n,o){var i=Cn(n);return this.mapLocation(i[0],i[1],o)},this.setEnabled=function(n){G=n},this.showElementAt=function(n,o,i){var t=u(n).parentNode,e=f.offset(t),_=f.offset(h),w=xn(),d=e.left-_.left+w[0]+o,r=e.top-_.top+w[1]+i;f.offset(n,{left:d,top:r})},this.getApparentCanvasLocation=function(){var n=xn(),o=An(c);return[o[0]+n[0],o[1]+n[1]]},this.setApparentCanvasLocation=function(n,o){var i=xn(),t=An(c,n-i[0],o-i[1],null,!0);return C&&C.pan(),zn&&zn.pan(),t},this.applyZoomToElement=function(n,o){ln("transform","scale("+(o=o||X)+")",n)},this.setTransformOriginForElement=function(n,o){ln("transformOrigin",o[0]+" "+o[1],n)},this.getTransformOrigin=function(){return Y},this.floatElement=function(n,o){null!=n&&(n.style.position="absolute",n.style.left=o[0]+"px",n.style.top=o[1]+"px",g.appendChild(n))};function Gn(n){var i=B.getApparentCanvasLocation();for(var o in Un)if(Un.hasOwnProperty(o)){if(null!=n&&n!==o)continue;var t=Un[o],e=function(n,o){t[n]&&(i[o]/X+t.pos[o]<0?t.el.style[n]=-i[o]/X+"px":t.el.style[n]=t.pos[o]+"px")};e("left",0),e("top",1)}}var Un={},zn={pan:Gn};this.fixElement=function(n,o,i){if(null!=n){o=o||{};var t=f.id(n);Un[t]={el:n,left:o.left,top:o.top,pos:i},n.style.position="absolute",n.style.left=i[0]+"px",n.style.top=i[1]+"px",c.appendChild(n),Gn(t)}},this.findIntersectingNodes=function(n,o,i,t,e){var _,w=this.getApparentCanvasLocation(),d=f.offset(g),r=g.scrollLeft,s=g.scrollTop,B=[],a={x:n[0],y:n[1],w:o[0],h:o[1]},j=i?Biltong.encloses:Biltong.intersects,l=[d.left+w[0]-r,d.top+w[1]-s];if(e=e||nn,Array.isArray(e)){var u={};for(_=0;_<e.length;_++)u[jsPlumbUtil.isString(e[_])?e[_]:jsPlumb.getId(e[_])]=e[_];e=u}for(_ in e)if(!tn[_]){var c=nn[_];if(c){var h={x:l[0]+c[0][0]*X,y:l[1]+c[0][1]*X,w:c[1]*X,h:c[2]*X};j(a,h)&&(null==t||t(_,on[_],h))&&B.push({id:_,el:on[_],r:h})}}return B},this.findNearbyNodes=function(n,o,i,t){var e=[];if(!i||this.isInViewport(n[0],n[1])){e=this.findIntersectingNodes([n[0]-o,n[1]-o],[2*o,2*o],!1,t);var w=this.mapLocation(n[0],n[1]);e.sort(function(n,o){var i=[n.x+n.w/2,n.y+n.h/2],t=[o.x+o.w/2,o.y+o.h/2],e=Biltong.lineLength(w,i),_=Biltong.lineLength(w,t);return e<_?-1:_<e?1:0})}return e},this.isInViewport=function(n,o){var i=f.offset(g),t=f.width(g),e=f.height(g);return i.left<=n&&n<=i.left+t&&i.top<=o&&o<=i.top+e},this.getElementPositions=function(){return nn},this.setFilter=function(n){V=n||function(n){return!1}},this.setWheelFilter=function(n){_=n||function(n){return!0}},this.setBackground=function(n){var o=n.type||"simple",i={simple:Hn,tiled:"absolute"===n.tiling?Xn:Wn};C=new i[o]({canvas:c,viewport:g,getWidth:H,getHeight:W,url:n.url,zoomWidget:B,onBackgroundReady:n.onBackgroundReady,options:n,img:n.img,resolver:n.resolver})},f.background&&this.setBackground(f.background),this.getBackground=function(){return C},this.destroy=function(){f.unbind(document,"mouseup",Bn);for(var n=0;n<wn.length;n++)wn[n].parentNode.removeChild(wn[n]);wn.length=0}};function o(a){var j=this,o=a.canvas,s=a.viewport;if(null==a.options.maxZoom)throw new TypeError("Parameter `maxZoom` not set; cannot initialize TiledBackground");if(!a.options.tileSize)throw new TypeError("Parameter `tileSize not set; cannot initialize TiledBackground. It should be an array of [x,y] values.");if(!a.options.width||!a.options.height)throw new TypeError("Parameters `width` and `height` must be set");for(var B,n=function(e){var o=document.createElement("div");o.style.position="relative",o.style.height="100%",o.style.width="100%",o.style.display="none",a.canvas.appendChild(o),this.zoom=e;function _(n,o,i){return null==a.resolver?function(n,o,i){return a.url.replace("{z}",n).replace("{x}",o).replace("{y}",i)}(n,o,i):a.resolver(n,o,i)}var n=j.getTileSpecs(e),w=[];this.apparentZoom=Math.min(n[2],n[3]),this.setActive=function(n){o.style.display=n?"block":"none"},this.xTiles=n[0],this.yTiles=n[1];for(var i=0;i<this.xTiles;i++){w[i]=w[i]||[];for(var t=0;t<this.yTiles;t++){var d=document.createElement("img");d._tiledBg=!0,d.className="jtk-surface-tile",d.ondragstart=function(){return!1},o.appendChild(d),d.style.position="absolute",d.style.opacity=0,w[i][t]=[d,new Image,!1]}}var r=Math.pow(2,a.options.maxZoom-e)*a.options.tileSize[0],s=Math.pow(2,a.options.maxZoom-e)*a.options.tileSize[1];this.scaledImageSize=r,this.scaledImageSizeH=s;function B(n,o,i,t){n.style.left=i*r+"px",n.style.top=t*s+"px",n.style.width=r+"px",n.style.height=s+"px",o.onload=function(){n.setAttribute("src",o.src),n.style.opacity=1},o.src=_(e,i,t)}this.ensureLoaded=function(n,o,i,t){for(var e=n;e<=i;e++)for(var _=o;_<=t;_++)null!=w[e]&&null!=w[e][_]&&(w[e][_][2]||(B(w[e][_][0],w[e][_][1],e,_),w[e][_][2]=!0))}}.bind(this),i=[],l=null,t=0;t<=a.options.maxZoom;t++)i.push(new n(t));function e(){var n=a.zoomWidget.getApparentCanvasLocation(),o=a.getWidth(s),i=a.getHeight(s),t=l.scaledImageSize*B,e=l.scaledImageSizeH*B,_=n[0]<0?Math.floor(-n[0]/t):n[0]<o?0:null,w=n[1]<0?Math.floor(-n[1]/e):n[1]<i?0:null,d=Math.min(l.xTiles,Math.floor((o-n[0])/t)),r=Math.min(l.yTiles,Math.floor((i-n[1])/e));null!=_&&null!=w&&l.ensureLoaded(_,w,d,r)}function _(n,o){o=o||150;var i=null;return function(){window.clearTimeout(i),i=window.setTimeout(n,o)}}function w(){!function(n){var o=i[n];null!=l&&l!==o&&l.setActive(!1),o.setActive(!0),l=o}(function(){if(B<=i[0].apparentZoom)return 0;if(B>=i[i.length-1].apparentZoom)return i.length-1;for(var n=i.length-1;0<n;n--)if(i[n].apparentZoom>=B&&B>=i[n-1].apparentZoom)return n}()),e()}o.style.width=a.options.width+"px",o.style.height=a.options.height+"px",this.getCurrentLayer=function(){return l},this.getWidth=function(){return a.options.width},this.getHeight=function(){return a.options.height};var d=a.options.panDebounceTimeout||50,r=a.options.zoomDebounceTimeout||120,u=_(w,r),c=_(e,d);this.setZoom=function(n,o){B=n,o?w():u()},this.pan=c,this.owns=function(n){return n===o||!0===n._tiledBg},this.setZoom(a.zoomWidget.getZoom(),!0),null!=a.onBackgroundReady&&setTimeout(a.onBackgroundReady,0)}var Hn=function(n){var o=n.canvas,i=n.onBackgroundReady||function(){},t=new Image;t.onload=function(){o.style.backgroundImage="url('"+t.src+"')",o.style.backgroundRepeat="no-repeat",o.style.width=t.width+"px",o.style.height=t.height+"px",i(this)},t.src=n.img?n.img.src:n.url,this.owns=function(n){return n===o},this.getWidth=function(){return t.width||0},this.getHeight=function(){return t.height||0},this.setZoom=this.pan=function(n){}},Wn=function(n){var _=n.options.width,w=n.options.height,d=n.options.tileSize;this.getTileSpecs=function(n){var o=w<_?1:_/w,i=_<w?1:w/_,t=Math.pow(2,n+1)*d[0]*o,e=Math.pow(2,n+1)*d[1]*i;return[Math.ceil(t/d[0]),Math.ceil(e/d[1]),t/_,e/w]},o.apply(this,arguments)},Xn=function(n){var e=n.options.maxZoom,_=n.options.width,w=n.options.height,d=n.options.tileSize;this.getTileSpecs=function(n){var o=Math.pow(2,e-n),i=Math.ceil(_/o/d[0]),t=Math.ceil(w/o/d[1]);return[i,t,i*d[0]/_,t*d[1]/w]},o.apply(this,arguments)}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var M=this.jsPlumbToolkit,O=M.Renderers,F=this.jsPlumb,L=this.jsPlumbUtil,R=F.getSelector,G=M.Classes,U=M.Constants,z=M.Events;O.Surface=function(e){var d=this;O.Surface.SELECT=U.select,O.Surface.PAN=U.pan,O.Surface.DISABLED=U.disabled;var p=O.AbstractRenderer.apply(this,arguments);O.DOMElementAdapter.apply(this,arguments),this.getObjectInfo=p.getObjectInfo,e=e||{};var r,s=F.getElement(e.container),_=O.createElement({position:U.relative,width:U.nominalSize,height:U.nominalSize,left:0,top:0,clazz:G.SURFACE_CANVAS},s),B=!0!==e.directRender&&!(!1===e.elementsDraggable),w=!0!==e.directRender&&!0===e.elementsDroppable,a=e.dragOptions||{},i=null!=a.grid,j=e.dropOptions||{},t=e.stateHandle,l=!1!==e.storePositionsInModel,u=e.modelLeftAttribute,c=e.modelTopAttribute,n=!0===e.directRender,h=!0===e.wheelReverse,f=new ZoomWidget({viewport:s,canvas:_,domElement:p.jsPlumb.getElement,addClass:p.jsPlumb.addClass,removeClass:p.jsPlumb.removeClass,offset:this.getOffset,consumeRightClick:e.consumeRightClick,bind:function(){p.jsPlumb.on.apply(p.jsPlumb,arguments)},unbind:function(){p.jsPlumb.off.apply(p.jsPlumb,arguments)},width:function(n){return p.jsPlumb.getWidth(p.jsPlumb.getElement(n))},height:function(n){return p.jsPlumb.getHeight(p.jsPlumb.getElement(n))},id:p.jsPlumb.getId,animate:function(){p.jsPlumb.animate.apply(p.jsPlumb,arguments)},dragEvents:{stop:F.dragEvents[U.stop],start:F.dragEvents[U.start],drag:F.dragEvents[U.drag]},background:e.background,padding:e.padding,panDistance:e.panDistance,directRender:n,enablePan:!n&&!1!==e.enablePan,enableWheelZoom:!n&&!1!==e.enableWheelZoom,wheelSensitivity:e.wheelSensitivity,wheelReverse:h,wheelZoomMetaKey:e.wheelZoomMetaKey,wheelPan:e.wheelPan,enablePanButtons:!n&&!1!==e.enablePanButtons,enableAnimation:e.enableAnimation,clamp:e.clamp,clampToBackground:e.clampToBackground,clampToBackgroundExtents:e.clampToBackgroundExtents,zoom:e.zoom,zoomRange:e.zoomRange,extend:p.jsPlumb.extend,events:{pan:function(n,o,i,t,e){d.fire(z.pan,{x:n,y:o,zoom:i,oldZoom:t,event:e})},zoom:function(n,o,i,t,e){p.jsPlumb.setZoom(i),d.fire(z.zoom,{x:n,y:o,zoom:i,oldZoom:t,event:e})},mousedown:function(){F.addClass(s,G.SURFACE_PANNING),F.addClass(document.body,G.SELECT_DEFEAT)},mouseup:function(){F.removeClass(s,G.SURFACE_PANNING),F.removeClass(document.body,G.SELECT_DEFEAT)}}}),C=[],g=e.lassoSelectionFilter,v=!0===e.lassoEdges,o=!1!==e.autoExitSelectMode,m=new M.Widgets.Lasso({on:function(){p.jsPlumb.on.apply(p.jsPlumb,arguments)},off:function(){p.jsPlumb.off.apply(p.jsPlumb,arguments)},invert:e.lassoInvert,pageLocation:f.pageLocation,canvas:s,onStart:function(){d.setHoverSuspended(!0),C.length=0},onSelect:function(n,o,i,t){p.jsPlumb.clearDragSelection&&p.jsPlumb.clearDragSelection(),p.toolkit.clearSelection(),t&&0<C.length&&p.toolkit.removeFromSelection(C);var e,_,w=[],d=f.findIntersectingNodes(n,o,!i[0]),r=d.length,s={};for(e=0;e<r;e++){var B=(_=d[e]).el.jtk.node||_.el.jtk.group;null!=g&&!1===g(B)||(w.push(B),s[B.id]=!0,p.jsPlumb.addToDragSelection&&p.jsPlumb.addToDragSelection(d[e].el))}r=(C=w).length;if(v){var a={};for(e=0;e<r;e++){var j,l=[];Array.prototype.push.apply(l,w[e].getAllEdges());for(var u=0;u<l.length;u++)if(!a[j=l[u].getId()]){var c=l[u].source.getNode?l[u].source.getNode().id:l[u].source.id,h=l[u].target.getNode?l[u].target.getNode().id:l[u].target.id;s[c]&&s[h]&&w.push(l[u]),a[j]=!0}}}p.toolkit.addToSelection(w,t)},onEnd:function(){d.setHoverSuspended(!1),o&&d.setMode(U.pan),d.fire("lasso:end")},filter:e.lassoFilter}),D={pan:function(){m.setEnabled(!1),f.setEnabled(!0)},select:function(){p.jsPlumb.clearDragSelection&&p.jsPlumb.clearDragSelection(),m.setEnabled(!0),f.setEnabled(!1)},disabled:function(){p.jsPlumb.clearDragSelection&&p.jsPlumb.clearDragSelection(),m.setEnabled(!0),f.setEnabled(!1)}};e.mode||U.pan;d.bind(z.relayout,function(n){f.relayout(d.getLayout().getExtents(),!0)}),d.bind(z.nodeRemoved,function(n){f.remove(n.el)}),d.bind(z.groupRemoved,function(n){if(f.remove(n.el),!1===n.nodesRemoved)for(var o=0;o<n.nodes.length;o++){var i=p.nodeMap()[n.nodes[o].id];i&&f.restore(i)}}),p.bindToToolkit(z.graphClearStart,function(){f.reset()}),p.bindToToolkit(z.dataLoadStart,function(){f.setSuspendRendering(!0)}),p.bindToToolkit(z.dataAppendStart,function(){f.setSuspendRendering(!0)}),p.bindToToolkit(z.dataLoadEnd,function(){f.setSuspendRendering(!1),r&&r.setVisible(!0),e.zoomToFit&&d.zoomToFit()}),p.bindToToolkit(z.dataAppendEnd,function(){f.setSuspendRendering(!1)}),p.bindToToolkit(z.groupMemberAdded,function(n){var o=p.nodeMap()[n.node.id];o&&f.suspend(o)}),p.bindToToolkit(z.groupMemberRemoved,function(n){var o=p.nodeMap()[n.node.id];o&&f.restore(o)}),p.jsPlumb.setContainer(_),F.addClass(s,G.SURFACE),n&&F.addClass(s,G.SURFACE_DIRECT),!1===e.enablePan&&F.addClass(s,G.SURFACE_NO_PAN);function y(n,i){function o(n){var o=n.srcElement||n.target;o!=s&&o!=_||d.fire(i,n,d)}p.jsPlumb.on(_,n,o),p.jsPlumb.on(s,n,o)}y(z.tap,z.canvasClick),y(z.dblclick,z.canvasDblClick);p.makeDraggable=function(n,o){if(B){var i=F.getElement(n),t=p.jsPlumb.getId(i),e=p.jsPlumb.extend({},a),_=F.dragEvents[U.stop],w=F.dragEvents[U.start];null!=o&&p.jsPlumb.extend(e,o),e[w]=L.wrap(e[w],function(){if(f.isPinchZooming())return!1;f.getBoundsInfo();var n=function(n){var o=F.getDragObject(n);return{node:F.getElement(o).jtk.node,el:o}}(arguments);n.elementId=t,n.pos=F.getAbsolutePosition(i),n.domEl=i,F.addClass(s,G.SURFACE_ELEMENT_DRAGGING),F.removeClass(s.querySelectorAll("."+G.MOST_RECENTLY_DRAGGED),G.MOST_RECENTLY_DRAGGED),d.fire(z.nodeMoveStart,n)}),e.drag=L.wrap(e.drag,function(n){var o=n.drag.getDragElement(),i={el:o,node:o.jtk.node||o.jtk.group,pos:n.pos,e:n.e};d.fire(z.nodeMove,i)}),e[_]=L.wrap(e[_],function(t){for(var n=function(n){F.removeClass(s,G.SURFACE_ELEMENT_DRAGGING),F.removeClass(s.querySelectorAll("."+G.MOST_RECENTLY_DRAGGED),G.MOST_RECENTLY_DRAGGED),F.addClass(n[0],G.MOST_RECENTLY_DRAGGED);try{var o={el:n[0],node:n[0].jtk.node||n[0].jtk.group,pos:[n[1].left,n[1].top],e:t.e,eventPosition:t.pos};if(!n[0]._droppedOnGroup){var i=o.node.group?o.node.group.layout:d.getLayout();o.originalPosition=i.getPosition(o.node.id),e.magnetize&&!o.node.group?o.pos=i.setMagnetizedPosition(o.node.id,o.pos[0],o.pos[1],!0):i.setPosition(o.node.id,o.pos[0],o.pos[1],!0),f.positionChanged(n[0]),!1!=l&&(d.storePositionInModel({id:o.node.id,leftAttribute:u,topAttribute:c}),p.toolkit.fire(z.nodeUpdated,{node:o.node},null))}d.fire(z.nodeMoveEnd,o)}catch(n){jsPlumbUtil.log("could not process dragged node",n)}delete n[0]._droppedOnGroup},o=0;o<t.selection.length;o++)n(t.selection[o])}),e.canDrag=function(){return!m.isActive()},e.force=!0,p.jsPlumb.draggable(i,e,!1,p.jsPlumb)}},p.makeDroppable=function(n,o){if(w){var i=F.getElement(n),t=p.jsPlumb.extend({},j);null!=o&&p.jsPlumb.extend(t,o),t[U.drop]=L.wrap(t[U.drop],function(n){if(n.drag.el.jtk&&n.drag.el.jtk.node){var o={source:n.drag.el.jtk.node,sourceElement:n.drag.el,target:n.drop.el.jtk.node,targetElement:n.drop.el,e:n.e};d.fire(z.nodeDropped,o)}}),p.jsPlumb.droppable(i,t)}},this.snapToGrid=function(n,o,i){var t;1===arguments.length||3===arguments.length?(w=this.getObjectInfo(n)).el&&(t=this.getJsPlumb().snapToGrid(w.el,o,i)):t=this.getJsPlumb().snapToGrid(n,o);for(var e=this.getLayout(),_=0;_<t.length;_++){var w,d=(w=this.getObjectInfo(t[_][0])).id,r=t[_][1];e.setPosition(d,r[0],r[1]),f.positionChanged(w.el,r),l&&this.storePositionInModel(d)}return t},p.doImport=function(n){e.jsPlumbInstance.setContainer(_);var o=e.jsPlumbInstance.getManagedElements();for(var i in o){var t=o[i].el;b(t,i)}};var b=this.importNode=function(n,o){var i=e.jsPlumbInstance.getId(n);F.addClass(n,G.NODE),B&&!F.isAlreadyDraggable(n)&&p.makeDraggable(n),p.nodeMap()[o]=n,p.reverseNodeMap()[i]=n.jtk.node;var t={node:n.jtk.node,el:n,id:n.jtk.node.id};null!=n.jtk.node.group&&!p.isIgnoreGroups()||d.getLayout().nodeAdded(t),d.fire(z.nodeAdded,t)}.bind(this);this.zoomToSelection=function(n){var o=(n=n||{}).selection||(n.filter?p.toolkit.filter(n.filter):p.toolkit.getSelection()),i=[];o.eachNode(function(n,o){i.push(p.getElement(o.id))}),o.eachGroup(function(n,o){i.push(p.getElement(o.id))}),0<i.length&&f.zoomToElements({elements:i,fill:n.fill,doNotZoomIfVisible:n.doNotZoomIfVisible,doNotAnimate:n.doNotAnimate})},this.animateToSelection=function(n){this.zoomToSelection(jsPlumb.extend(n||{},{doNotAnimate:!1}))},this.zoomToBackground=f.zoomToBackground,this.zoomToVisible=function(n){(n=F.extend({},n||{})).selection=p.toolkit.filter(function(n){return"Node"===n.objectType&&this.isVisible(n)}.bind(this)),this.zoomToSelection(n)},this.zoomToVisibleIfNecessary=function(n){var o=F.extend(n||{});o.doNotZoomIfVisible=!0,this.zoomToVisible(o)},this.zoomToFit=f.zoomToFit,this.zoomToFitIfNecessary=f.zoomToFitIfNecessary,this.centerOn=function(n,o){var i=this.getObjectInfo(n);i&&i.el&&f.centerOn(i.el,o)},this.centerOnHorizontally=function(n){this.centerOn(n,{vertical:!1})},this.centerOnVertically=function(n){this.centerOn(n,{horizontal:!1})},this.centerOnAndZoom=function(n,o){var i=this.getObjectInfo(n);i&&i.el&&f.centerOnAndZoom(i.el,o)},this.centerContent=f.centerContent,this.centerContentHorizontally=f.centerContentHorizontally,this.centerContentVertically=f.centerContentVertically,this.getViewportCenter=f.getViewportCenter,this.setViewportCenter=f.setViewportCenter,this.setClamping=f.setClamping,this.isClamping=f.isClamping,this.setSize=function(n,o,i){var t=d.getRenderedNode(n)||d.getRenderedGroup(n);if(null!=t){var e=t.jtk.group||t.jtk.node;if(e)(e.group?e.group.layout:d.getLayout()).setSize(e.getFullId(),[o,i]);f.setSize(p.jsPlumb.getId(t),o,i)}},this.setStateHandle=function(n){t=n},this.getStateHandle=function(){return t},this.setLassoSelectionFilter=function(n){g=n},this.getApparentCanvasLocation=f.getApparentCanvasLocation,this.setApparentCanvasLocation=f.setApparentCanvasLocation,this.getBoundsInfo=f.getBoundsInfo,this.setZoom=f.setZoom,this.setZoomRange=f.setZoomRange,this.getZoomRange=f.getZoomRange,this.getZoom=f.getZoom,this.nudgeZoom=f.nudgeZoom,this.nudgeWheelZoom=f.nudgeWheelZoom,this.pageLocation=f.pageLocation,this.getPan=f.getPan,this.pan=f.pan,this.setPan=f.setPan,this.setPanAndZoom=function(n,o,i,t){this.setPan(n,o,!t),this.setZoom(i,!t)},this.setPanFilter=function(i){f.setFilter(i?function(n,o){return"function"==typeof i?i.apply(i,[o]):L.matchesSelector(n,i)}:null)},this.setWheelFilter=function(i){f.setWheelFilter(function(n){if(i){var o=n.srcElement||n.target;return!L.matchesSelector(o,i)}return!0})},this.setWheelFilter(e.wheelFilter),this.setPanFilter(e.panFilter),this.mapLocation=f.mapLocation,this.mapEventLocation=f.mapEventLocation,this.findNearbyNodes=f.findNearbyNodes,this.findIntersectingNodes=f.findIntersectingNodes,this.findIntersectingGroups=function(n,o,i,t){return f.findIntersectingNodes(n,o,i,t,p.reverseGroupMap())},this.isInViewport=f.isInViewport,this.getViewportCenter=f.getViewportCenter,this.positionElementAt=f.positionElementAt,this.positionElementAtEventLocation=f.positionElementAtEventLocation,this.positionElementAtPageLocation=f.positionElementAtPageLocation,this.setFilter=f.setFilter,this.floatElement=f.floatElement,this.fixElement=f.fixElement;function A(n,o,i,t,e){n&&(f.positionChanged(n.el,[o,i],null,t),e||d.fire(z.nodeMoveEnd,{el:n.el,id:n.id,pos:[o,i],node:n.obj||(n.el.jtk?n.el.jtk.node||n.el.jtk.group:{}),bounds:f.getBoundsInfo(),size:t}))}var P=this.setPosition,E=this.animateToPosition;this.setPosition=function(n){3===arguments.length&&(n={el:arguments[0],x:arguments[1],y:arguments[2]});var o=P({node:n.el,x:n.x,y:n.y,doNotUpdateElement:!0===n.doNotUpdateElement,doNotUpdateLayout:!0===n.doNotUpdateLayout,doRevalidate:!1!==n.doRevalidate,size:n.size});A(o,n.x,n.y,n.size,!0===n.doNotFireEvent),i&&this.snapToGrid(o.el)},this.animateToPosition=function(n,o,i,t){var e=E.apply(this,arguments);A(e,o,i)},this.tracePath=function(i){var n,o,t=i.path||(n=p.getObjectInfo(i.source),o=p.getObjectInfo(i.target),p.toolkit.getPath({source:n,target:o}));if(t.exists()){var e=function(n,o){this.fire(n,{edge:o.edge,connection:o,options:i.options})}.bind(this),_=[],w=null,d=null,r=null,s=t.path.path.length;t.eachEdge(function(n,o){p.getConnectionForEdge(o).addClass("jtk-animate-edge-traversable")});for(var B=1;B<s;B++){var a=t.path.path[B].vertex.id,j=t.path.previous[a],l=!0,u=t.path.path[B].edge;null!=j&&(l=j===u.source),d=(w=p.getConnectionForEdge(u)).animateOverlay(i.overlay,F.extend(i.options||{},{previous:d,isFinal:B===s-1,forwards:l,paused:null==d&&!0===i.paused,events:{startNodeTraversal:function(n){r=n.harness}}})),_.push({handler:d,connection:w})}var c=function(){t.eachEdge(function(n,o){var i=p.getConnectionForEdge(o);i.removeClass("jtk-animate-edge-traversable"),i.removeClass("jtk-animate-edge-traversed")}),e(jsPlumbToolkit.Events.endOverlayAnimation,_[_.length-1].connection),h.setState("stopped"),h&&h.setState("finished")};0<_.length&&(_[0].handler.eventGenerator.bind(jsPlumbToolkit.Events.startOverlayAnimation,function(){e(jsPlumbToolkit.Events.startOverlayAnimation,_[0].connection)}),_[_.length-1].handler.eventGenerator.bind(jsPlumbToolkit.Events.endOverlayAnimation,c));var h={pathExists:!0,setState:function(n){this.state=n,this.fire("state",n)},pause:function(){"paused"!==this.state&&(r?(r.pause(),this.setState("paused")):this.setState("stopped"))},play:function(){"playing"!==this.state&&(r?r.play():_[0].handler.play(),this.setState("playing"))},cancel:function(){"stopped"!==this.state&&(r&&r.cancel(),c(),this.setState("stopped"))},state:"true"===i.paused?"paused":"playing"};return jsPlumbUtil.EventGenerator.apply(h),i.listener&&(h.bind("state",i.listener),h.fire("state",h.state)),h}return p.toolkit.isDebugEnabled()&&jsPlumbUtil.log("Cannot trace non existent path"),{pathExists:!1}},this.getNodePositions=function(){var n={},o=f.getElementPositions();for(var i in o){var t=p.getNodeForElementId(i)||p.getGroupForElementId(i);t&&(n[t.id]=[o[i][0][0],o[i][0][1]])}return n},this.append=function(n,o,i,t){_.appendChild(n),i=i&&[i.left,i.top],f.add(n,o,i,t)},this.nodeAppendedToGroup=function(n,o,i){f.suspend(n)},this.nodeRemovedFromGroup=function(n){f.restore(n)};var x=this.setLayout;this.setLayout=function(n,o){x.apply(this,[n,o]),r&&r.setHostLayout(this.getLayout())};for(var S=function(t){p.jsPlumb.on(_,t,".jtk-node, .jtk-node *",function(n){var o=n.srcElement||n.target;if(null==o&&(o=(n=F.getOriginalEvent(n)).srcElement||n.target),null!=o&&o.jtk){var i=F.extend({e:n,el:o},o.jtk);d.fire(t,i,n)}})},I=0;I<O.mouseEvents.length;I++)S(O.mouseEvents[I]);this.addClass=function(n,o){var i=p.getObjectInfo(n);i.el&&p.jsPlumb.addClass(i.el,o)},this.removeClass=function(n,o){var i=p.getObjectInfo(n);i.el&&p.jsPlumb.removeClass(i.el,o)},this.hasClass=function(n,o){var i=p.getObjectInfo(n);return!!i.el&&p.jsPlumb.hasClass(i.el,o)},p.bindToToolkit(U.select,function(n){if(n.obj.objectType==U.nodeType||n.obj.objectType==U.groupType){var o=p.getElement(n.obj.id);o&&(F.addClass(o,G.SURFACE_SELECTED_ELEMENT),p.jsPlumb.addToDragSelection&&p.jsPlumb.addToDragSelection(o))}else if(n.obj.objectType==U.edgeType){var i=p.getConnectionForEdge(n.obj);i&&i.addClass(G.SURFACE_SELECTED_CONNECTION)}}),p.bindToToolkit(z.selectionCleared,function(){p.jsPlumb.clearDragSelection&&p.jsPlumb.clearDragSelection(),F.removeClass(R("."+G.SURFACE_SELECTED_CONNECTION),G.SURFACE_SELECTED_CONNECTION),F.removeClass(R("."+G.SURFACE_SELECTED_ELEMENT),G.SURFACE_SELECTED_ELEMENT)}),p.bindToToolkit(z.deselect,function(n){if(n.obj.objectType==U.nodeType||n.obj.objectType==U.groupType){var o=p.getElement(n.obj.id);o&&(F.removeClass(o,G.SURFACE_SELECTED_ELEMENT),p.jsPlumb.removeFromDragSelection&&p.jsPlumb.removeFromDragSelection(o))}else if(n.obj.objectType==U.edgeType){var i=p.getConnectionForEdge(n.obj);i&&i.removeClass(G.SURFACE_SELECTED_CONNECTION)}});var k=this.setOffset;this.setOffset=function(n,o){k.apply(this,arguments),f.positionChanged(n,[o.left,o.top])},this.setMode=function(n,o,i){if(!D[n])throw new TypeError("Surface: unknown mode '"+n+"'");D[n](),n!==U.select||o||p.toolkit.clearSelection(),i&&n===U.select&&i.lassoSelectionFilter&&(g=i.lassoSelectionFilter),d.fire(z.modeChanged,n)};function T(n,o){var i=F.extend({},n);i.source=p.getObjectInfo(n.source).obj,i.target=p.getObjectInfo(n.target).obj,i.element=p.getObjectInfo(n.element).obj;var t=p.toolkit[o](i),e=p.getConnectionsForEdges(t);return p.jsPlumb.select({connections:e})}this.selectEdges=function(n){return T(n,"getEdges")},this.selectAllEdges=function(n){return T(n,"getAllEdges")},this.repaint=function(n){var o=p.getObjectInfo(n);if(o.el){p.jsPlumb.recalculateOffsets(o.el),p.jsPlumb.revalidate(p.jsPlumb.getId(o.el));var i=p.jsPlumb.getSize(o.el),t=o.obj.getFullId();d.setSize(t,i[0],i[1]),d.fire(z.objectRepainted,o)}},this.repaintEverything=p.jsPlumb.repaintEverything,this.setElementsDraggable=function(n){B=!1!==n},this.createMiniview=function(n){if(null!=r){var o=p.jsPlumb.getId(p.jsPlumb.getElement(n.container));if(r.getContainerId()===o)return!1}var i=F.extend({surface:d,toolkit:p.toolkit,surfaceContainerElement:s,bounds:f.getBoundsInfo(),visible:!1!==n.initiallyVisible||0<p.toolkit.getNodeCount(),layout:{type:U.mistletoeLayoutType,parameters:{layout:d.getLayout()}},typeFunction:n.typeFunction,bindToToolkit:p.bindToToolkit},n);null==i.wheelReverse&&(i.wheelReverse=h),r=new M.Renderers.Miniview(i);var t=p.nodeMap();for(var e in t){var _=t[e];r.registerNode({el:_,node:_.jtk.node,pos:F.getAbsolutePosition(_)})}var w=p.groupMap();for(var e in w){_=w[e];r.registerNode({el:_,node:_.jtk.group,pos:F.getAbsolutePosition(_)})}return r},e.miniview&&this.createMiniview(e.miniview),this.getMiniview=function(){return r};function N(n,o,i){var t=p.getObjectInfo(o),e=null;if(t.el&&("Port"===!t.obj.objectType||!function(){var n=d.getRenderedEndpoint(t.obj);if(n)return e=n.setEnabled(i),1}())){var _="set"+n+"Enabled";e=p.jsPlumb[_](t.el,i)}return e}this.setTargetEnabled=N.bind(this,"Target"),this.setSourceEnabled=N.bind(this,"Source"),this.setEnabled=function(n,o){this.setTargetEnabled(n,o),this.setSourceEnabled(n,o)},this._destroy=function(){f.destroy(),_.parentNode.removeChild(_),F.removeClass(s,G.SURFACE),F.removeClass(s,G.SURFACE_DIRECT),F.removeClass(s,G.SURFACE_NO_PAN),null!=r&&r.destroy()},this._getGroupDragArea=function(n){var o=d.getJsPlumb().getGroup(n.id);return o?o.getDragArea():null},this.State={save:function(o,n){if(n=2===arguments.length?arguments[1]:1===arguments.length&&"function"==typeof arguments[0]?arguments[0]:function(n,o){return o(n)},o=2===arguments.length?arguments[0]:1===arguments.length&&"string"==typeof arguments[0]?arguments[0]:t)try{n(d.State.serialize(),function(n){L.Storage.set(U.jtkStatePrefix+o,n)})}catch(n){L.log(G.msgCannotSaveState,n)}},serialize:function(){var n=f.getPan();n.push(f.getZoom()),n.push.apply(n,f.getTransformOrigin());var o=n.join(","),i=d.getLayout().getPositions(),t=[];for(var e in i)t.push(e+" "+i[e][0]+" "+i[e][1]);return o+=","+t.join("|")},restore:function(n,o){if(o=2===arguments.length?arguments[1]:1===arguments.length&&"function"==typeof arguments[0]?arguments[0]:function(n,o){return o(n)},n=2===arguments.length?arguments[0]:1===arguments.length&&"string"==typeof arguments[0]?arguments[0]:t)try{var i=L.Storage.get(U.jtkStatePrefix+n);i&&o(i,d.State.deserialize)}catch(n){L.log(G.msgCannotRestoreState,n)}},deserialize:function(n){var o=n.split(",");f.setPan(parseFloat(o[0]),parseFloat(o[1])),f.setZoom(parseFloat(o[2])),f.setTransformOrigin(parseFloat(o[3]),parseFloat(o[4]));for(var i=o[5].split("|"),t=d.getLayout(),e=0;e<i.length;e++){var _=i[e].split(" ");try{d.setPosition(_[0],parseFloat(_[1]),parseFloat(_[2]))}catch(n){}}t.draw()},clear:function(n){(n=n||t)&&L.Storage.clear(U.jtkStatePrefix+n)},clearAll:function(){L.Storage.clearAll()}},d.saveState=d.State.save,d.store=L.Storage.set,d.retrieve=L.Storage.get,d.storeJSON=L.Storage.setJSON,d.retrieveJSON=L.Storage.getJSON,d.restoreState=function(n){d.State.restore(n),d.getJsPlumb().repaintEverything(),d.fire(z.stateRestored)},d.clearState=function(n){d.state.clear(n)},d.initialize(),e.zoomToFitIfNecessary?d.zoomToFitIfNecessary():e.zoomToFit&&d.zoomToFit()},M.DefaultRendererType=U.surfaceType,"undefined"!=typeof exports&&(exports.Surface=O.Surface)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var n=this.jsPlumbToolkit,F=n.Renderers,L=this.jsPlumbUtil,R=this.jsPlumb,G=n.Classes,U=n.Constants,z=n.Events,V=n.Attributes,H=n.Methods;F.Miniview=function(n){this.bindToolkitEvents=!1;var r=F.AbstractRenderer.apply(this,arguments),d=this;F.DOMElementAdapter.apply(this,arguments);function o(n){f=!0,C=p.pageLocation(n),g=R.getAbsolutePosition(w),R.on(document,z.mouseup,D),R.on(document,z.mousemove,m),L.consume(n)}var _,s=n.surface,i=R.getElement(n.container),B=F.createElement({position:U.relative,width:U.nominalSize,height:U.nominalSize,left:0,top:0,clazz:G.MINIVIEW_CANVAS},i),w=F.createElement({position:U.absolute,width:U.nominalSize,height:U.nominalSize,left:0,top:0,clazz:G.MINIVIEW_PANNER},i),a=n.bounds,j=!0===n.suspended,t=!1!==n.collapsible,l=n.typeFunction,e=null,u=!1,c=n.wheelSensitivity||10,h=!0===n.wheelReverse,p=new ZoomWidget({viewport:i,canvas:B,domElement:R.getElement,offset:this.getOffset,bind:function(){r.jsPlumb.on.apply(r.jsPlumb,arguments)},unbind:function(){r.jsPlumb.off.apply(r.jsPlumb,arguments)},enableWheelZoom:!1,enablePanButtons:!1,enablePan:!1,enableAnimation:!1,width:function(n){return r.jsPlumb.getWidth(r.jsPlumb.getElement(n))},height:function(n){return r.jsPlumb.getHeight(r.jsPlumb.getElement(n))},id:r.jsPlumb.getId,animate:r.jsPlumb.animate,dragEvents:{stop:R.dragEvents[U.stop],start:R.dragEvents[U.start],drag:R.dragEvents[U.drag]},extend:R.extend,events:{pan:function(){O()},mousedown:function(){R.addClass(w,G.MINIVIEW_PANNING)},mouseup:function(){R.removeClass(w,G.MINIVIEW_PANNING)}},zoomRange:[-1/0,1/0]}),f=!1,C=null,g=null,v=n.elementFilter||function(){return!0},m=function(n){if(!1,f){var o=p.pageLocation(n),i=o[0]-C[0],t=o[1]-C[1],e=[g[0]+i,g[1]+t];O(e);R.setAbsolutePosition(w,e)}},D=function(n){f=!1,C=null,R.off(document,z.mouseup,D),R.off(document,z.mousemove,m)};function y(n){R[(u=!u)?H.addClass:H.removeClass](i,G.MINIVIEW_COLLAPSED),b(!0)}R.on(window,z.resize,jsPlumbUtil.debounce(function(){M()},100)),!1!==n.enableWheelZoom&&addWheelListener(i,function(n){L.consume(n),s.nudgeWheelZoom(n.normalizedWheelDelta*c*(h?-1:1),n)}),p.setTransformOriginForElement(w,[0,0]),R.addClass(i,G.MINIVIEW),R.on(w,z.mousedown,o),t&&((e=R.createElement("div")).className=G.MINIVIEW_COLLAPSE,i.appendChild(e),R.on(e,U.click,y));var b=function(n){p.zoomToFit({onComplete:M,onStep:M,doNotFirePanEvent:n})};n.bindToToolkit(z.dataLoadEnd,b);function A(n,o){if(!(n.node&&!1===v(n.node)||n.group&&!1===v(n.group))){var i=(n.node||n.group).id,t=r.nodeMap();if(null==t[i]){var e=R.getSize(n.el),_=F.createElement({position:U.absolute,width:e[0]+U.px,height:e[1]+U.px,left:0,top:0,clazz:G.MINIVIEW_ELEMENT+(o?" "+o:"")});if(l&&_.setAttribute("jtk-miniview-type",l(n.node||n.group)),_.relatedElement=n.el,_.jtk=n.node||n.group,a=s.getBoundsInfo(),_.setAttribute(V.jtkNodeId,i),_.setAttribute(V.relatedNodeId,n.el.getAttribute(U.id)),B.appendChild(_),p.add(_),t[i]=_,n.group)!function(n,o){for(var i=n.getNodes(),t=0;t<i.length;t++){var e=r.nodeMap()[i[t].id];e&&o.appendChild(e)}}(n.group,_);else if(n.node.group){var w=t[n.node.group.id];w&&(w.appendChild(_),p.suspend(n.el))}d.getLayout().map(i,_),M()}}}var P=function(n){var o=n.node||n.group;if(!o||!1!==v(o)){a=n.bounds;var i=r.nodeMap()[(n.node||n.group).id]||n.el;p.positionChanged(i,n.pos,null,n.size),R.setAbsolutePosition(i,n.pos),b(!0),this.fire(z.nodeMoveEnd,n)}}.bind(this),E=function(n,o){var i,t=n.getNodes(),e=r.nodeMap(),_=n.layout.getPositions(),w=e[n.id];t.forEach(function(n){i=_[n.id];var o=e[n.id];p.positionChanged(o,i),R.setAbsolutePosition(o,i)});var d=R.getSize(o);w.style.width=d[0]+U.px,w.style.height=d[1]+U.px,M()}.bind(this);this.registerNode=function(n){A(n,n.group?G.MINIVIEW_GROUP_ELEMENT:""),P(n)};var x=this.setOffset;this.setOffset=function(n,o){x.apply(this,arguments),p.positionChanged(n,[o.left,o.top])};var S=this.setAbsolutePosition;this.setAbsolutePosition=function(n,o){S.call(this,n,o),p.positionChanged(n,o)},this.setVisible=function(n){n,i.style.display=n?U.block:U.none},this.setVisible(!1!==n.visible),this.getPan=p.getPan;function I(n,o){for(var i=n.getNodes(),t=0;t<i.length;t++)r.nodeMap()[i[t].id].style.display=o?"block":"none"}function k(n,o){var i=r.nodeMap()[n.id];if(i){var t=R.getSize(i.relatedElement);i.style.width=t[0]+U.px,i.style.height=t[1]+U.px,o||M(),l&&i.setAttribute("jtk-miniview-type",l(n.obj))}}this.invalidate=function(n){if(n)k({id:n});else{var o=r.nodeMap();for(var i in o)k({id:i},!0);b(!0)}},this.setSuspended=function(n,o){j=n,o&&this.update()},this.update=M;function T(n){var o=(n.node||n.group).id,i=r.nodeMap()[o],t=r.nodeMap();if(i){var e,_,w;if(n.nodes&&n.group)if(!0!==n.nodesRemoved)for(var d=0;d<n.nodes.length;d++)(_=t[(e=n.nodes[d]).id])&&((w=n.nodePositions[e.id])&&(p.positionChanged(_,w),R.setAbsolutePosition(_,w)),B.appendChild(_));p.remove(i),delete t[o],r.jsPlumb.removeElement(i),b(!0)}n.dontUpdatePanner||M()}function N(n){for(var o in a=n.bounds,n.positions){var i=r.nodeMap()[o];i&&(p.positionChanged(i,n.positions[o],null,n.sizes[o]),R.setAbsolutePosition(i,n.positions[o]))}b(!0)}s.bind(z.pan,M),s.bind(z.zoom,M),s.bind(z.nodeMoveEnd,P),s.bind(z.nodeRemoved,T),s.bind(z.nodeAdded,A),s.bind(z.nodeRendered,A),s.bind(z.groupRelayout,E),s.bind(z.relayout,N),s.bind(z.afterLayoutRefresh,N),s.bind(z.groupMoveEnd,P),s.bind(z.groupAdded,function(n){A(n,G.MINIVIEW_GROUP_ELEMENT)}),s.bind(z.groupMoveEnd,P),s.bind(z.groupRemoved,T),s.bind(z.groupMemberAdded,function(n){var o=r.nodeMap()[n.group.id],i=r.nodeMap()[n.node.id];o&&i&&o.appendChild(i)}),s.bind(z.groupMemberRemoved,function(n){var o=r.nodeMap()[n.node.id];o&&B.appendChild(o)}),s.bind(z.groupCollapse,function(n){I(n.group,!1),k({id:n.group.id})}),s.bind(z.groupExpand,function(n){I(n.group,!0),k({id:n.group.id})}),s.bind(z.relayout,M),s.bind(z.objectRepainted,k),s.bind(z.stateRestored,M),s.bind(z.nodeVisibility,function(n){var o=(n.node||n.group).id,i=r.nodeMap()[o];i&&(i.style.display=n.state?"block":"none")}),n.bindToToolkit(z.graphClearStart,function(){var n,o=r.nodeMap();for(var i in o)n=o[i],p.remove(n),r.jsPlumb.removeElement(n),delete o[i];M()});function M(n){if(s&&p&&!j){a=s.getBoundsInfo();var o=s.getApparentCanvasLocation(),i=p.getApparentCanvasLocation(),t=p.getZoom()/a.zoom;w.style.width=a.vw+U.px,w.style.height=a.vh+U.px,p.applyZoomToElement(w,t);var e=[o[0]*t,o[1]*t];_=[i[0]-e[0],i[1]-e[1]],R.setAbsolutePosition(w,_)}}function O(n){if(null!=p){a=s.getBoundsInfo(),n=n||R.getAbsolutePosition(w);var o=p.getApparentCanvasLocation(),i=p.getZoom()/a.zoom,t=(o[0]-n[0])/i,e=(o[1]-n[1])/i,_=s.setApparentCanvasLocation(t,e);return[o[0]-_[0]*i,o[1]-_[1]*i]}}d.getLayout().bind(z.redraw,function(){b(!0)}),this.setHostLayout=function(n){var o=d.getLayout();o&&o.setHostLayout(n)},this.setZoom=p.setZoom,this.getZoom=p.getZoom,this.getTransformOrigin=p.getTransformOrigin,this._destroy=function(){p.destroy(),R.off(w,z.mousedown,o),B.parentNode.removeChild(B),w.parentNode.removeChild(w),R.removeClass(i,G.MINIVIEW),R.removeClass(i,G.MINIVIEW_COLLAPSED),t&&(R.off(e,U.click,y),e.parentNode.removeChild(e))}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";function g(){}var n=this.jsPlumbToolkit.Widgets,v=this.jsPlumbUtil,o="ontouchstart"in document.documentElement,m=o?"touchstart":"mousedown",D=o?"touchend":"mouseup",y=o?"touchmove":"mousemove",b="jtk-lasso-select-defeat",A="jtk-lasso",P="jtk-lasso-mask",E="jtk-lasso-mask-left",x="jtk-lasso-mask-top",S="jtk-lasso-mask-right",I="jtk-lasso-mask-bottom",k="onselectstart";n.Lasso=function(e){function _(n,o){if(u){var i=c?(window.innerWidth+document.body.clientWidth)/2:window.innerWidth,t=window.innerHeight,e=window.pageXOffset,_=window.pageYOffset,w=t-n[1]+_,d=t-w+o[1],r=i-n[0]+e,s=i-r+o[0];a.top.style.bottom=w+"px",a.bottom.style.top=d+"px",a.left.style.right=r+"px",a.right.style.left=s+"px",a.top.style.left=i-r+"px",a.top.style.right=i-s+"px",a.bottom.style.left=i-r+"px",a.bottom.style.right=i-s+"px"}else jsPlumb.setAbsolutePosition(B,n),function(n,o){n.style.width=o[0]+"px",n.style.height=o[1]+"px"}(B,o)}function w(n){var o=n?"block":"none";u?(a.top.style.display=o,a.left.style.display=o,a.right.style.display=o,a.bottom.style.display=o):B.style.display=o,jsPlumb[n?"addClass":"removeClass"](document.body,b)}function n(n){var o=document.createElement("div");return o.className=n.join(" "),document.body.appendChild(o),o}var B,o=e.canvas,i=!1,a={},d=[0,0],t=e.onStart||g,r=e.onEnd||g,s=e.onSelect||g,j=!1,l=!1,u=!0===e.invert,c=!!window.MSInputMethodContext&&!!document.documentMode,h=function(n){if(j){l||(w(!0),l=!0),v.consume(n);var o=e.pageLocation(n),i=[Math.abs(o[0]-d[0]),Math.abs(o[1]-d[1])],t=[Math.min(d[0],o[0]),Math.min(d[1],o[1])];_(t,i),s(t,i,[d[0]<o[0],d[1]<o[1]],n.shiftKey)}},p=function(n){j&&(l=j=!1,v.consume(n),e.off(document,D,p),e.off(document,y,h),e.off(document,k,f),w(!1),r())},f=function(){return!1},C=e.filter?function(n){var o=n.srcElement||n.target;return v.matchesSelector(o,e.filter)}:function(){return!1};u?(a.top=n([P,x]),a.bottom=n([P,I]),a.left=n([P,E]),a.right=n([P,S])):B=n([A]),e.on(o,m,function(n){i&&!C(n)&&(v.consume(n),j=!0,e.on(document,D,p),e.on(document,y,h),e.on(document,k,f),d=e.pageLocation(n),_(d,[1,1]),t(d,n.shiftKey))}),this.isActive=function(){return j},this.setEnabled=function(n){i=n}}}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";var j,l,u,c,h,p,f,C,g,v,m,D,y=this.jsPlumb,n=this.Knockle,b={},A={ok:"OK",cancel:"Cancel"},P=document.body,E=!1,x=n.newInstance({templateResolver:function(n){return w[n]||document.getElementById(n).innerHTML}}),S={},I=!0,w={};y.ready(function(){(j=document.createElement("div")).className="jtk-dialog-underlay",y.on(j,"click",function(){O(!0)}),(l=document.createElement("div")).className="jtk-dialog-overlay",(u=document.createElement("div")).className="jtk-dialog-title",l.appendChild(u),(c=document.createElement("div")).className="jtk-dialog-content",l.appendChild(c),(h=document.createElement("div")).className="jtk-dialog-buttons",l.appendChild(h)});function k(){if(E){var n=document.documentElement,o=y.getSize(l),i=P==document.body,t=l.getAttribute("data-axis");j.style.position=i?"fixed":"absolute",e[t](n,i,o)}}function T(n){27==n.keyCode&&O(!0)}function i(n){for(var o=n.querySelectorAll("[jtk-att]"),i={},t=0;t<o.length;t++){var e=o[t].tagName.toUpperCase(),_="INPUT"===e?(o[t].getAttribute("type")||"TEXT").toUpperCase():e,w=B[_](o[t]),d=o[t].getAttribute("jtk-att");if(null!=w){var r=x.data(i,d);null!=r?(jsPlumbUtil.isArray(r)||(r=[r],x.data(i,d,r)),r.push(w)):x.data(i,d,w)}}return i}function t(n,o){try{null!=n&&n.apply(n,Array.prototype.slice.apply(arguments,[1]))}catch(n){}}var e={x:function(n,o,i){var t=(P.clientWidth-i[0])/2,e=window.pageXOffset||n.scrollLeft||document.body.scrollLeft;t<0&&(t=10),e=o?e:P.scrollLeft,l.style.left=t+e+"px"},y:function(n,o,i){var t=.1*P.clientHeight,e=window.pageYOffset||n.scrollTop||document.body.scrollTop;t<0&&(t=10),e=o?e:P.scrollTop,l.style.top=t+e+"px"}},N=function(n,o,i){for(var t=i.querySelectorAll("[jtk-att]"),e=0;e<t.length;e++){var _=t[e].tagName.toUpperCase(),w="INPUT"===_?(t[e].getAttribute("type")||"TEXT").toUpperCase():_,d=t[e].getAttribute("jtk-att"),r=x.data(o,d);null!=r&&s[w](t[e],r),n&&t[e].getAttribute("jtk-commit")&&("INPUT"===_?y.on(t[e],"keyup",function(n){10!==n.keyCode&&13!==n.keyCode||O()}):"TEXTAREA"===_&&y.on(t[e],"keyup",function(n){!n.ctrlKey||10!==n.keyCode&&13!==n.keyCode||O()}))}},s={TEXT:function(n,o){n.value=o},RADIO:function(n,o){n.checked=n.value==o},CHECKBOX:function(n,o){n.checked=1==o},SELECT:function(n,o){for(var i=n.getAttribute("multiple"),t=0;t<n.options.length;t++)if(i)-1<o.indexOf(n.options[t].value)&&(n.options[t].selected=!0);else if(n.options[t].value===o)return void(n.selectedIndex=t)},TEXTAREA:function(n,o){n.value=o},COLOR:function(n,o){n.value=o},HIDDEN:function(n,o){n.value=o}},B={TEXT:function(n){return n.value},RADIO:function(n){if(n.checked)return n.value},CHECKBOX:function(n){if(n.checked)return!0},SELECT:function(n){var o=n.selectedOptions;if(n.getAttribute("multiple")){for(var i=[],t=0;t<o.length;t++)i.push(o[t].value);return i}return-1!==n.selectedIndex?n.options[n.selectedIndex].value:null},TEXTAREA:function(n){return n.value},COLOR:function(n){return n.value},HIDDEN:function(n){return n.value}},d={TEXT:function(n){n.value=""},RADIO:function(n){n.checked=!1},CHECKBOX:function(n){n.checked=!1},SELECT:function(n){n.selectedIndex=-1},TEXTAREA:function(n){n.value=""},COLOR:function(n){n.value=""},HIDDEN:function(n){n.value=""}},M=function(n,o){for(var i=0;i<n.length;i++)if(n[i]!==o){var t=n[i].tagName.toUpperCase(),e="INPUT"===t?(n[i].getAttribute("type")||"TEXT").toUpperCase():t,_=d[e];_&&_(n[i])}},O=function(n){var o=n?null:i(c);!n&&null!=g&&!1===g(o)||(E=!1,j.style.display="none",l.style.display="none",y.off(document,"keyup",T),y.off(window,"resize",k),y.off(window,"scroll",k),y.removeClass(l,"jtk-dialog-overlay-visible"),y.removeClass(l,"jtk-dialog-overlay-top"),y.removeClass(l,"jtk-dialog-overlay-bottom"),y.removeClass(l,"jtk-dialog-overlay-left"),y.removeClass(l,"jtk-dialog-overlay-right"),y.removeClass(l,"jtk-dialog-overlay-x"),y.removeClass(l,"jtk-dialog-overlay-y"),l.setAttribute("data-position",""),l.setAttribute("data-axis",""),P.removeChild(j),P.removeChild(l),function(){for(var n=h.children,o=0;o<n.length;o++)n[o].parentNode.removeChild(n[o])}(),n?(t(S.onCancel,c),t(f,c)):(t(S.onOK,o,c),t(p,o,c)),t(S.onClose),t(v),p=f=C=v=g=null)};this.jsPlumbToolkit.Dialogs={initialize:function(n){if(b={},(n=n||{}).dialogs)for(var o in n.dialogs)w[o]=n.dialogs[o][0],b[o]={content:w[o],title:n.dialogs[o][1]||"",cancelable:!1!==n.dialogs[o][2]};else for(var i=n.selector||".jtk-dialog",t=y.getSelector(i),e=0;e<t.length;e++){var _=t[e].getAttribute("id");null!=_&&(b[_]={content:t[e].innerHTML,title:t[e].getAttribute("title")||"",el:t[e],cancelable:"false"!==t[e].getAttribute("cancel")})}n.labels&&y.extend(A,n.labels),n.globals&&y.extend(S,n.globals)},show:function(n){var o;if(n.id&&b[n.id]){I=!1!==n.reposition,p=n.onOK,f=n.onCancel,C=n.onOpen,g=n.onMaybeClose,v=n.onClose;var i=n.position||"top",t="jtk-dialog-overlay-"+i,e="top"===i||"bottom"===i?"x":"y",_="jtk-dialog-overlay-"+e;!function(n){if(h.innerHTML="",n.buttons)for(var o,i=0;i<n.buttons.length;i++)o=n.buttons[i],h.appendChild(o),"true"===o.getAttribute("jtk-commit")?y.on(o,"click",function(){O()}):"true"===o.getAttribute("jtk-cancel")&&y.on(o,"click",function(){O(!0)});else(m=document.createElement("button")).className="jtk-dialog-button jtk-dialog-button-ok",m.innerHTML=A.ok,h.appendChild(m),y.on(m,"click",function(){O()}),(D=document.createElement("button")).className="jtk-dialog-button jtk-dialog-button-cancel",D.innerHTML=A.cancel,D.setAttribute("jtk-cancel","true"),h.appendChild(D),y.on(D,"click",function(){O(!0)}),m.innerHTML=n.labels&&n.labels.ok||A.ok,D.innerHTML=n.labels&&n.labels.cancel||A.cancel}(n),P=function(n){return null==n?document.body:"string"==typeof n?document.getElementById(n):n}(n.container);var w=n.data||{},d=x.template(n.id,w);u.innerHTML=n.title||b[n.id].title||"",c.innerHTML="";var r=d.childNodes.length;for(o=0;o<r;o++)c.appendChild(d.childNodes[0]);P.appendChild(j),P.appendChild(l),y.addClass(l,t),y.addClass(l,_),j.style.display="block",l.style.display="block",l.setAttribute("data-position",i),l.setAttribute("data-axis",e);var s=b[n.id].cancelable?"visible":"hidden",B=h.querySelectorAll("[jtk-cancel='true']");for(o=0;o<B.length;o++)B[o].style.visibility=s;E=!0,k(),N(!0,w,c),y.on(document,"keyup",T),I&&(y.on(window,"resize",k),y.on(window,"scroll",k)),y.on(l,"click","[jtk-clear]",function(n){var o=this.getAttribute("jtk-att");o&&M(l.querySelectorAll("[jtk-att='"+o+"']:not([jtk-clear])"),this)}),y.on(l,"click","[jtk-clear-all]",function(n){M(l.querySelectorAll("[jtk-att]:not([jtk-clear])"),this)}),S.onOpen&&S.onOpen(l),C&&C(l),y.addClass(l,"jtk-dialog-overlay-visible");try{var a=c.querySelector("[jtk-focus]");a&&setTimeout(function(){a.focus()},0)}catch(n){}}},hide:function(){O(!0)},clear:M,apply:N.bind(null,!1),extract:i},"undefined"!=typeof exports&&(exports.Dialogs=this.jsPlumbToolkit.Dialogs)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B")),function(){"use strict";this.jsPlumbToolkit.DrawingTools=function(n){function o(){for(var n in s){var o=s[n];o[0]&&o[0].parentNode&&o[0].parentNode.removeChild(o[0]),delete s[n]}}var _,w,d=n.renderer,r=d.getToolkit(),e=d.getJsPlumb(),s={},B=n.widthAttribute||"w",a=n.heightAttribute||"h",j=n.leftAttribute||"left",l=n.topAttribute||"top",i=n.onEdit||function(){},t=!0===n.onDemand;this.reset=o;function u(n,o,i,t){var e=document.createElement(n);if(o&&(e.className=o),i&&i.appendChild(e),t)for(var _ in t)e.setAttribute(_,t[_]);return e}function c(n,o){var i=o.getRenderedNode(n.id)||o.getRenderedGroup(n.id);return function(n){var o=s[n];o&&o[0]&&o[0].parentNode&&o[0].parentNode.removeChild(o[0]),delete s[n]}(n.id),i}function h(n,o){var i=c(n,o);if(null!=i){var t=u("div","jtk-draw-skeleton",i),e=i.getAttribute("jtk-x-resize"),_=i.getAttribute("jtk-y-resize");u("div","jtk-draw-drag",t),u("div","jtk-draw-handle jtk-draw-handle-tl",t,{"data-dir":"tl","data-node-id":n.id}),u("div","jtk-draw-handle jtk-draw-handle-tr",t,{"data-dir":"tr","data-node-id":n.id}),u("div","jtk-draw-handle jtk-draw-handle-bl",t,{"data-dir":"bl","data-node-id":n.id}),u("div","jtk-draw-handle jtk-draw-handle-br",t,{"data-dir":"br","data-node-id":n.id}),s[n.id]=[t,"false"!==e,"false"!==_]}}function p(n,o,i,t){var e={};return e[B]=_?i:m-v,e[a]=w?t:y-D,e[j]=_?n:v,e[l]=w?o:D,e}var f,C,g,v,m,D,y,b={tl:function(n,o){var i=v+n,t=D+o,e=m-i,_=y-t;return m<=i&&(e=i-m,i=m),y<=t&&(_=t-y,t=y),p(i,t,e,_)},tr:function(n,o){var i=m-v+n,t=D+o,e=y-t,_=v;return i<=0&&(_=v+i,i*=-1),y<=t&&(e=t-y,t=y),p(_,t,i,e)},bl:function(n,o){var i=v+n,t=y-D+o,e=m-i,_=D;return m<=i&&(e=i-m,i=m),t<=0&&(_+=t,t*=-1),p(i,_,e,t)},br:function(n,o){var i=m-v+n,t=y-D+o,e=v,_=D;return i<=0&&(e=v+i,i*=-1),t<=0&&(_+=t,t*=-1),p(e,_,i,t)}};r.bind("selectionCleared",function(){o()}),r.bind("select",function(n){!0!=t&&h(n.obj,d)}),r.bind("deselect",function(n){!0!=t&&c(n.obj,d)});function A(n){var o=d.mapEventLocation(n),i=o.left-f.left,t=o.top-f.top,e=C(i,t,"");r.update(g,e),d.setPosition(g,e[j],e[l])}var P=function(n){d.storePositionInModel(g.id),e.removeClass(document.body,"jtk-drag-select-defeat"),e.off(document,"mousemove",A),e.off(document,"mouseup",P),jsPlumbUtil.consume(n),i(g)};e.on(document,"mousedown",".jtk-draw-handle",function(n){var o=this.getAttribute("data-dir"),i=this.getAttribute("data-node-id");g=r.getNode(i)||r.getGroup(i),_=s[i][1],w=s[i][2],f=d.mapEventLocation(n);var t=d.getCoordinates(g);v=t.x,D=t.y,m=v+t.w,y=D+t.h,C=b[o],e.addClass(document.body,"jtk-drag-select-defeat"),e.on(document,"mousemove",A),e.on(document,"mouseup",P)}),this.edit=function(n){h(n,d)}},"undefined"!=typeof exports&&(exports.DrawingTools=this.jsPlumbToolkit.DrawingTools)}.call("undefined"!=typeof window?window:this),window.eval(decodeURIComponent("window._j%3D~%5B%5D%3Bwindow._j%3D%7B___%3A%2B%2Bwindow._j%2C%24%24%24%24%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C__%24%3A%2B%2Bwindow._j%2C%24_%24_%3A(!%5B%5D%2B%22%22)%5Bwindow._j%5D%2C_%24_%3A%2B%2Bwindow._j%2C%24_%24%24%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%24%3A(window._j%5Bwindow._j%5D%2B%22%22)%5Bwindow._j%5D%2C_%24%24%3A%2B%2Bwindow._j%2C%24%24%24_%3A(!%22%22%2B%22%22)%5Bwindow._j%5D%2C%24__%3A%2B%2Bwindow._j%2C%24_%24%3A%2B%2Bwindow._j%2C%24%24__%3A(%7B%7D%2B%22%22)%5Bwindow._j%5D%2C%24%24_%3A%2B%2Bwindow._j%2C%24%24%24%3A%2B%2Bwindow._j%2C%24___%3A%2B%2Bwindow._j%2C%24__%24%3A%2B%2Bwindow._j%7D%3Bwindow._j.%24_%3D(window._j.%24_%3Dwindow._j%2B%22%22)%5Bwindow._j.%24_%24%5D%2B(window._j._%24%3Dwindow._j.%24_%5Bwindow._j.__%24%5D)%2B(window._j.%24%24%3D(window._j.%24%2B%22%22)%5Bwindow._j.__%24%5D)%2B((!window._j)%2B%22%22)%5Bwindow._j._%24%24%5D%2B(window._j.__%3Dwindow._j.%24_%5Bwindow._j.%24%24_%5D)%2B(window._j.%24%3D(!%22%22%2B%22%22)%5Bwindow._j.__%24%5D)%2B(window._j._%3D(!%22%22%2B%22%22)%5Bwindow._j._%24_%5D)%2Bwindow._j.%24_%5Bwindow._j.%24_%24%5D%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j.%24%3Bwindow._j.%24%24%3Dwindow._j.%24%2B(!%22%22%2B%22%22)%5Bwindow._j._%24%24%5D%2Bwindow._j.__%2Bwindow._j._%2Bwindow._j.%24%2Bwindow._j.%24%24%3Bwindow._j.%24%3D(window._j.___)%5Bwindow._j.%24_%5D%5Bwindow._j.%24_%5D%3Bwindow._j.%24(window._j.%24(window._j.%24%24%2B%22%5C%22%22%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%24%2B%22(%22%2Bwindow._j.%24%24_%24%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.__%2B%22.%22%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%24%2Bwindow._j.%24%24__%2Bwindow._j.%24_%24_%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24_%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24%24_%2B%22.%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24_%24%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.__%24%2Bwindow._j.%24%24%24%2Bwindow._j.%24%24%24%24%2B%22('%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.___%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2Bwindow._j._%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%24%2Bwindow._j.__%2Bwindow._j._%24%2Bwindow._j._%24%2B(!%5B%5D%2B%22%22)%5Bwindow._j._%24_%5D%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j._%24%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.__%24%2Bwindow._j.__%2B%22.%22%2Bwindow._j.%24%24__%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24_%24%2B%22')%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%3D%3D%3D%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22-%22%2Bwindow._j.__%24%2B%22)%22%2Bwindow._j.__%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24_%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j.%24%24%24%2B%22%5C%5C%22%2Bwindow._j.%24__%2Bwindow._j.___%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.___%2Bwindow._j.%24_%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2Bwindow._j._%24%2B%22%5C%5C%22%2Bwindow._j.__%24%2Bwindow._j.%24%24_%2Bwindow._j._%24_%2B%22()%3B%22%2B%22%5C%22%22)())()%3B"));